window.VERSION = "0.0.2";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"https://backend.e-openbar.com"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,t,n){t.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),cordova.plugins.Keyboard.disableScroll(!1)),ionic.Platform.isFullScreen=!0,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AbsController"}).state("app.map",{cache:!1,url:"/map",views:{menuContent:{templateUrl:"templates/map.html",controller:"MapController"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),t.otherwise("/app/intro")}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService","ValidationService",function(e,t,n,o){var a=n.baseURL+"/api/";return{log_in:function(t,n){var o="user="+t+"&password="+n;return e.post(a+"login",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sign_out:function(t,n){return e.get(a+"sign_out",{withCredentials:!0,params:{password_sign_in:t,email:n}})},create_user:function(n){if(n.picture_url&&o.isMobileDevice()){var i={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},r=!0;return t.upload(a+"create_user",n.picture_url,i,r)}if(n.picture_url){var s=new FormData;return s.append("photo",n.picture_url),s.append("user",n.username),s.append("password",n.password),s.append("email",n.email),s.append("gender",n.gender),s.append("interested",n.interested),s.append("status",n.status),s.append("show_location",n.show_location),e.post(a+"create_user",s,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}var l="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;return l=l+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,e.post(a+"create_user",l,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},password_recovery:function(t){return e.get(a+"forgot_password",{params:{login_email:t}})},password_change:function(t,n,o,i){var r="email="+t+"&password_sign_in="+n+"&new_password="+o+"&confirm="+i;return e.post(a+"change_password",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},edit_user:function(n){if(n.picture_url&&o.isMobileDevice()){var i={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},r=!0;return t.upload(a+"edit_profile",n.picture_url,i,r)}var s="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;if(s=s+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,n.picture_url){var l=new FormData;return l.append("photo",n.picture_url),l.append("user",n.username),l.append("password",n.password),l.append("email",n.email),l.append("gender",n.gender),l.append("interested",n.interested),l.append("status",n.status),l.append("show_location",n.show_location),e.post(a+"edit_profile",l,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}return e.post(a+"edit_profile",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("BarService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/api/",o={};return o.uid=null,o.name=null,o.getBarList=function(t,o,a,i){var r="user="+t+"&password="+o+"&hash_id="+Math.random();return e.post(n+"get_bar_list",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.getBarInfo=function(t){return e.get(n+"get_bar_info",{cache:!1,params:{nid:t,hash_id:Math.random()}})},o}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="https://backend.e-openbar.com",ionic.Platform.isWebView()?t.baseURL="https://backend.e-openbar.com":t.baseURL="/backend",t.AppName="e-openbar",t.baseCobrand="/cobrands/pormibarrio",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return!0},isOffline:function(){return!1}}}]),pmb_im.services.factory("DBService",["$q",function(e){function t(e,t,o,a,i,r,s,l){var c={_id:"user-logged",name:e,password:t,picture_url:o,show_location:a,uid:i,status:r,gender:s,interested:l};n().then(function(e){return c._rev=e._rev,m.put(c)})["catch"](function(e){return m.put(c)})}function n(){return m.get("user-logged")}function o(){m.get("user-logged").then(function(e){return m.remove(e)})}function a(){return m=new PouchDB("tomamosuna_local_db")}function i(e){var t=new Date,n="report_"+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getMilliseconds();return e._id=n,m.put(e)}function r(e){return m.put(e)}function s(){return m.get("categories-list")}function l(e){s().then(function(t){return e._rev=t._rev,m.put(e)})["catch"](function(t){return e._id="categories-list",m.put(e)})}function c(e){return m.get(e)}function u(){return m.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_￿"})}function d(e){m.get(e).then(function(e){return m.remove(e)})}function p(e){return m.remove(e)}var m;return{initDB:a,saveUser:t,getUser:n,eraseUser:o,saveReport:i,getReport:c,getAllReports:u,updateReport:r,deleteReport:d,deleteGivenReport:p,getCategories:s,saveCategories:l}}]),pmb_im.services.factory("DrinkService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/api/";return{getAllDrinksAvailable:function(t,o){var a="user="+t+"&password="+o+"&hash_id="+Math.random();return e.post(n+"get_possible_drinks",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getAllInvitationsWithUser:function(t,o,a,i){var r="user="+t+"&password="+o+"&hash_id="+Math.random();return r=r+"&uid="+a+"&author_uid="+i,e.post(n+"get_invitations_between_users",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sendDrinkInvitationToUser:function(t,o,a,i,r){var s="user="+i+"&password="+r+"&drink_nid="+t+"&destination_uid="+o+"&author_uid="+a+"&hash_id="+Math.random();return e.post(n+"send_drink_invitation",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sendDrinkInvitationResponse:function(t,o,a,i,r){var s="response="+t+"&user="+o+"&password="+a+"&invitation_nid="+i+"&destination_uid="+r+"&hash_id="+Math.random();return e.post(n+"invitation_response",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){return!!(e.data&&"success"==e.data.Status||"success"==e.Status)||(e.data?t.warning=e.data.Message:t.warning=e.Message,!1)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return"success"!=e.Status?(n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";return e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'El campo "'+e.name+'" no puede estar vacío. ')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'El campo "'+e.name+'" no es una dirección de correo válida. ')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'El campo "'+e.name+'" no es una cédula uruguaya válida. ')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'El campo "'+e.name+'" debe contener al menos dos palabras. ')),"equalsTo"==e.type&&(n.validate_equalsTo(e.value,e.secondValue)||(o=o+'Los campos "'+e.name+'" no coinciden. '))}),""==o||(t.warning=o,!1)}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.last_user_lat="",e.last_user_lng="",e.council_modal=null,e.selected_council=null,e.selectCouncil=function(t){e.selected_council=t},e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_last_user_position=function(t,n){e.last_user_lat=t,e.last_user_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(n,o,a,i){var r={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,a]},properties:{nombre:n}}]};e.getMap().then(function(e){var n,o=L.Proj.geoJson(r,{pointToLayer:function(e,o){n=o;var a="<p align='center'>"+e.properties.nombre+" <br/> <a ng-click='new_report_from_latlon("+n.lat+","+n.lng+");'>Iniciar reporte aquí</a></p>",r=t(a)(i);return L.marker(o).bindPopup(r[0])}});o.addTo(e),e.setView(n,18),o.openPopup()})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("MessageService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/api/";return o.getAllMessagesToUser=function(t,n,o,i){var r="user="+t+"&password="+n+"&author_uid="+i+"&uid="+o+"&hash_id="+Math.random();return e.post(a+"get_all_messages_to_user",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.getAllMessages=function(t,n){var o="user="+t+"&password="+n+"&hash_id="+Math.random();return e.post(a+"get_all_messages",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.getUserInfo=function(t){return e.get(a+"get_user_info",{cache:!1,params:{uid:t,hash_id:Math.random()}})},o.sendTextMessageToUser=function(t,n,o,i,r){var s="user="+i+"&password="+r+"&text="+t+"&destination_uid="+n+"&author_uid="+o;return e.post(a+"send_text_message",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.checkWhoCanTalk=function(t,n){var o="user="+t+"&password="+n;return e.post(a+"check_user_talk",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.canTalkToUsers=new Array,o.current={},o.build=function(e){return new o(e)},o}]),pmb_im.services.factory("ModalService",[function(){var e={};return e.activeModal=null,e.activeModalSecondary=null,e.checkNoModalIsOpen=function(){e.activeModalSecondary&&(e.activeModalSecondary.hide(),e.activeModalSecondary.remove()),e.activeModal&&(e.activeModal.hide(),e.activeModal.remove())},e.checkNoSecondaryModalIsOpen=function(){e.activeModalSecondary&&(e.activeModalSecondary.hide(),e.activeModalSecondary.remove())},e}]),pmb_im.services.factory("NotificationService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/api/";return{getUnrecivedNotifications:function(t,o){var a="user="+t+"&password="+o+"&hash_id="+Math.random();return e.post(n+"get_unrecived_notifications",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},dontShowNotificationAgain:function(t,o,a){var i="user="+t+"&password="+o+"&nid="+a+"&hash_id="+Math.random();return e.post(n+"dont_show_notification_again",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getAllNotifications:function(t,o){var a="user="+t+"&password="+o+"&hash_id="+Math.random();return e.post(n+"get_all_notifications",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("PinService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/sites/tomamos_una/files/json/users_geo.json",i=n.baseURL+"/api/get_users_geojson_by_user/all",r=n.baseURL+"/api/";return o.getAll=function(){return e.get(a,{cache:!1,params:{hash_id:Math.random()}})},o.getAllByUser=function(t,n){var o="user="+t+"&password="+n;return e.post(i,o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.sendUserLocation=function(t,n,o,a,i){var s="user="+o+"&password="+a+"&lat="+t+"&lon="+n+"&uid="+i;return e.post(r+"send_user_position",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o._all=[],o.current={},o.lastPinsResponse=null,o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e){this.lat=e.lat,this.lon=e.lng},o}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,a,i,r){$scope=n;var s=e.show({template:i+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==r&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+i+'" no puede estar vacío.</h3>')),"email"==r&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+i+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==r&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+i+'" no es una cédula uruguaya válida.</h3>')),"two_words"==r&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+i+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var a=document.getElementById("error_container_inside");a.innerHTML=n,a.style.display="block",e.preventDefault()}}]});return s}}}]),pmb_im.services.factory("SemaphoreService",[function(){var e={};return e.semaphores=new Array,e.semaphores["open-modal"]="available",e.semaphores["submit-form"]="available",e.semaphores["submit-location"]="available",e.semaphores.can_talk="available",e.semaphores["open-secondary-modal"]="available",e.takeIfAvailable=function(t){return"available"==e.semaphores[t]&&(e.semaphores[t]="occupied",!0)},e.makeAvailableAgain=function(t){return"occupied"==e.semaphores[t]&&(e.semaphores[t]="available",!0)},e}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint","ConfigService","LocationsService",function(e,t,n,o,a,i){var r="ubicacionesRestProd",s={};return s.searchLocationByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+i.selected_council+","+t;return e.get(n,{method:"GET",params:{}})},s.searchEsquinaByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+i.selected_council+","+t.calle+","+t.esquina;return e.get(n,{method:"GET",params:{}})},s.getLocationGeom=function(t){for(var o=n.url+"/"+r+s.getParamPathByTipo(t.tipo),a=0;a<t.pathParams.length;a++)o+="/"+t.pathParams[a];return e.get(baseURL).then(function(e){return e.data})},s.getLocationGeomPMB=function(t,n,o){var r=a.baseURL+"/ajax/geocode?term="+i.selected_council+","+t+","+n+","+o;return e.get(r)},s.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},s}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/api/",o={};return o.uid=null,o.name=null,o.email=null,o.password=null,o.picture_url="url(./img/icon-user-anonymous.png)",o.show_location=null,o.getUserList=function(t,o,a,i){var r="user="+t+"&password="+o+"&hash_id="+Math.random();return e.post(n+"get_user_list",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o.save_user_data=function(e,t,n,a,i,r,s,l){o.uid=i,o.name=e,o.password=t,o.picture_url=n,o.show_location=a,o.status=r,o.gender=s,o.interested=l},o.erase_user_data=function(){o.name=null,o.email=null,o.password=null,o.identity_document=null,o.phone=null,o.picture_url=null},o.get_user_data=function(){},o.add_photo=function(e){o.picture_url=e},o.isLogged=function(){return null!=o.name&&""!=o.name},o}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{isMobileDevice:function(){return!!window.cordova},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_equalsTo:function(e,t){return e==t},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=n%10===0?0:10-n%10,t==a}return!1}}}]),pmb_im.controllers.controller("AbsController",["$scope",function(e){}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService","ConfigService","UserService",function(e,t,n,o,a,i,r,s,l,c){var u=s.initDB();u.info().then(console.log.bind(console)),e.AppName=l.AppName,e.geolocate=function(){var e={timeout:3500,enableHighAccuracy:!0};n.getCurrentPosition(e).then(function(e){r.save_initial_position(e),t.go("app.map")},function(e){t.go("app.map")})},e.$on("$ionicView.enter",function(){e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","_","$cordovaCamera","$cordovaGeolocation","$compile","$ionicModal","$ionicPopup","leafletData","ConfigService","LocationsService","PinService","MessageService","DrinkService","AuthService","UserService","BarService","DBService","$timeout","$interval","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","ConnectivityService","$cordovaInAppBrowser","MapService","ModalService","SemaphoreService","ValidationService","NotificationService",function(e,t,n,o,a,i,r,s,l,c,u,d,p,m,_,f,g,v,h,y,b,w,k,I,A,B,M,E,O,D,R){e.online_user_geo={},e.online_user_geo_array=new Array,e.baseURL=l.baseURL,e.AppName=l.AppName,e.user_cached_image="./img/icon-user-anonymous.png",e.one_value_popup=null,e.myIntervals=new Array,e.selected_person=null,e.login={warning:null},e.setBackTo="",e.filter=new Array,e.filter.filter_people_distance_range=0,e.filter.filter_people_online=!1,e.filter.filter_people_interesado_en="Personas en general",e.filter.filter_bar_distance_range=0,e.filter.filter_bar_open=!1,e.$on("$ionicView.beforeEnter",function(){E.checkNoModalIsOpen(),g.initDB(),A.isOnline()?e.check_user_logged():e.set_offline_user(),document.getElementById("foot_bar").style.display="block",A.isOnline()&&(e.create_online_map(),e.myIntervals.userLocation=h(function(){e.sendUserLocation()},3e4))}),e.$on("$ionicView.afterEnter",function(){if(document.getElementById("button_general").className=document.getElementById("button_general").className+" active",null==_.uid){var t=g.getUser();t.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name||e.show_login_modal()})["catch"](function(t){e.show_login_modal()})}else e.myIntervals.all_chats&&h.cancel(e.myIntervals.all_chats),e.myIntervals.all_chats=h(function(){d.getAllMessages(_.name,_.password).then(function(t){var n=e.getObjectDataFromResponse(t);e.all_messages=n})},3e3);s.getMap();""!=c.initial_lat?M.centerMapOnCoords(c.initial_lat,c.initial_lng,16):M.centerMapOnCoords(-34.901113,-56.164531,14),e.checkNotifications()}),e.checkNotifications=function(){e.myIntervals.notifications&&h.cancel(e.myIntervals.notifications),e.myIntervals.notifications=h(function(){_.uid&&R.getUnrecivedNotifications(_.name,_.password).then(function(t){var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status||e.isEqual(e.notifications,e.getObjectDataFromResponse(n).Notifications)||(e.notifications=new Array,e.notifications=e.getObjectDataFromResponse(n).Notifications)})},3e3)},e.openNotification=function(t){e.dontShowNotificationAgain(t.nid),"nuevo_mensaje"==t.tipo?e.send_message_to(t.uid):"invitacion_a_trago"==t.tipo?e.openInvitationsModal(t.uid):"respuesta_a_invitacion"==t.tipo&&e.openInvitationsModal(t.uid)},e.dontShowNotificationAgain=function(e){_.uid&&R.dontShowNotificationAgain(_.name,_.password,e).then(function(e){})},e.closeNotification=function(t){e.dontShowNotificationAgain(t.nid)},e.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"no"};B.open(e,"_blank",t).then(function(e){})["catch"](function(e){})},e.create_online_map=function(){e.map={defaults:{minZoom:1,maxZoom:18,zoomControlPosition:"topleft"},layers:{baselayers:{googleRoadmap:{name:"Google Streets",layerType:"ROADMAP",type:"google"}}},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{}},e.loadPinsLayer(),e.map.center={lat:-34.901113,lng:-56.164531,zoom:16},s.getMap().then(function(t){t.on("moveend",e.hideOffScreenPins)})},e.next=function(){w.next()},e.previous=function(){w.previous()},e.back_to_map=function(e){e?(E.checkNoModalIsOpen(),document.getElementById("foot_bar").style.display="block",document.getElementById("spinner-inside-modal").style.display="none"):document.getElementById("spinner-inside-modal").style.display="none"},e.image=null,e.addImage=function(t,o,a,i){e.isUserPhoto=o,e.isCommentPhoto=a,e.isNewUserPhoto=i;var r=Camera.PictureSourceType.CAMERA,s=!0,l=!0;1==t&&(r=Camera.PictureSourceType.PHOTOLIBRARY,s=!1,l=!1);var c={quality:90,destinationType:Camera.DestinationType.FILE_URI,sourceType:r,allowEdit:!1,correctOrientation:s,encodingType:Camera.EncodingType.JPEG,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:l,targetWidth:500,targetHeight:500};n.getPicture(c).then(function(t){function n(t){window.FilePath.resolveNativePath(t,function(n){t="file://"+n,n.startsWith("file://")&&(t=n),1==e.isUserPhoto?e.profile.picture_url=t:1==e.isCommentPhoto?e.comment.file=t:1==e.isNewUserPhoto&&(e.newuser.picture_url=t),e.imgURI=t},function(e){alert("Error resolveNativePath"+e)})}n(t)},function(e){})},e.urlForImage=function(){var t="http://placehold.it/200x200";if(e.image){var n=e.image.substr(e.image.lastIndexOf("/")+1);t=cordova.file.dataDirectory+n}return t},e.scrollMe=function(e){y.hash(e);var t=k.$getByHandle("content");t.anchorScroll()},e.set_active_option=function(e){document.getElementById(e).className="option-active"},e.hide_special_divs=function(){document.getElementById("user-options-menu").style.display="none"},e.close_report_detail_modal=function(){E.checkNoModalIsOpen(),e.report_detail_id=null},e.locate=function(){o.getCurrentPosition().then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,e.map.center.zoom=15,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"You Are Here",focus:!0,draggable:!1}},function(e){})},e.addMapControls=function(){document.getElementById("map_crosshair").style.display="block",document.getElementById("map_crosshair_button").style.display="block"},e.changeUserLocationPin=function(t,n,o){if(e.online_user_geo_array[o]){layer=e.online_user_geo_array[o];var a=new L.LatLng(t,n);layer.setLatLng(a)}},e.hideOffScreenPins=function(){s.getMap().then(function(t){var n=t.getBounds();e.usersVisible=[],e.online_user_geo_array.forEach(function(o,a){var i=n.contains(o.getLatLng());i?i&&e.pinIsNotFiltered(o)&&(t.addLayer(o),e.usersVisible.push(o.feature)):t.removeLayer(o)})})},e.removeAllPins=function(){s.getMap().then(function(t){e.usersVisible=[],e.online_user_geo_array&&e.online_user_geo_array.forEach(function(e,n){t.removeLayer(e)})})},e.loadPinsLayer=function(){document.getElementById("spinner").style.display="block",s.getMap().then(function(t){u.getAllByUser(_.name,_.password).then(function(n){if(null==u.lastPinsResponse||u.lastPinsResponse&&!e.isEqual(u.lastPinsResponse,n)){e.online_user_geo_array&&(e.usersVisible=[],e.online_user_geo_array.forEach(function(e,n){t.removeLayer(e)})),u.lastPinsResponse=n,e.reportsByState={};var o=n.data.features;e.online_users_geo=n.data.features,o.forEach(function(t){if(t.properties){if("Person"==t.properties.Type){var n=t.geometry.coordinates[0],o=t.geometry.coordinates[1];if(n&&o){var a=t.properties.Online_status,r=t.properties.Icon;"anon"==r&&(r="./img/icon-user-anonymous.png");var s;s=_.uid&&_.uid==t.properties.Uid?L.icon({className:"userIcon",iconUrl:r,iconSize:[72,72],iconAnchor:[36,72],popupAnchor:[0,-72]}):"Online"==a?L.divIcon({iconSize:[52,60],iconAnchor:[26,60],popupAnchor:[0,-60],html:'<div><div class="userMarker" /></div><img src="'+r+'" class="leaflet-marker-icon personOnline leaflet-zoom-animated leaflet-clickable" tabindex="0"><div class="onlineCircle" /></div>'}):L.divIcon({iconSize:[52,60],iconAnchor:[26,60],popupAnchor:[0,-60],html:'<div><div class="userMarker" /></div><img src="'+r+'" class="leaflet-marker-icon personOnline leaflet-zoom-animated leaflet-clickable" tabindex="0">'});var l=L.marker([o,n],{icon:s});l.feature=t,e.online_user_geo_array[l.feature.properties.Uid]=l,l.on("click",function(t){var n=t.target.feature.properties.Uid;if(_.uid&&_.uid==n);else{e.selected_person=t.target.feature.properties;var o=t.target.feature.properties.Icon;"anon"==o&&(e.selected_person.Icon="./img/icon-user-anonymous.png"),document.getElementById("spinner").style.display="block",i.fromTemplateUrl("templates/user_map_popup.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=e,E.activeModal.show(),O.makeAvailableAgain("open-modal")})}})}}if("Bar"==t.properties.Type){var n=t.geometry.coordinates[0],o=t.geometry.coordinates[1];if(n&&o){var s,r=t.properties.Icon;s=L.icon({className:"barIcon",iconUrl:r,iconSize:[33,45],iconAnchor:[16,45],popupAnchor:[0,-45]});var l=L.marker([o,n],{icon:s});l.feature=t,e.online_user_geo_array[l.feature.properties.Nid]=l,l.on("click",function(t){t.target.feature.properties.Nid;e.selected_bar=t.target.feature.properties;var n=t.target.feature.properties.Photo;e.selected_bar.Icon=n,document.getElementById("spinner").style.display="block",i.fromTemplateUrl("templates/bar_map_popup.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=e,E.activeModal.show(),O.makeAvailableAgain("open-modal")})})}}}}),document.getElementById("spinner").style.display="none",e.hideOffScreenPins()}e.checkTalkStatus()})})},e.close_active_modal=function(){E.checkNoModalIsOpen(),e.setActiveMenuButton("button_general")},e.checkTalkStatus=function(){O.takeIfAvailable("can_talk")&&d.checkWhoCanTalk(_.name,_.password).then(function(t){var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status||(n.forEach(function(e){d.canTalkToUsers["uid-"+e]=1}),O.makeAvailableAgain("can_talk"))})},e.key_press=function(e,t){var n=e.keyCode;if("private_chat"==t&&13==n)try{null===cordova||cordova&&cordova.plugins.Keyboard&&cordova.plugins.Keyboard.close()}catch(o){}},e.setActiveMenuButton=function(e){var t,n=document.getElementsByClassName("menu_button");for(t=0;t<n.length;t++)n[t].classList.remove("active");document.getElementById(e).classList.add("active")},e.open_notifications_modal=function(){O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",_.uid?R.getAllNotifications(_.name,_.password).then(function(t){var n=e.getObjectDataFromResponse(t);e.all_notifications=n,i.fromTemplateUrl("templates/notifications.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(t){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=t,document.getElementById("foot_bar").style.display="block",e.setActiveMenuButton("button_notifications"),E.activeModal.show(),O.makeAvailableAgain("open-modal")})}):O.makeAvailableAgain("open-modal"))},e.open_chat_modal=function(){e.clear_all_intervals(),O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",_.uid?d.getAllMessages(_.name,_.password).then(function(t){var n=e.getObjectDataFromResponse(t);e.all_messages=n,i.fromTemplateUrl("templates/chats.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(t){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=t,document.getElementById("foot_bar").style.display="block",e.setActiveMenuButton("button_chat"),E.activeModal.show(),O.makeAvailableAgain("open-modal")})}):O.makeAvailableAgain("open-modal"))},e.open_user_list=function(t){O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",_.uid?_.getUserList(_.name,_.password).then(function(n){var o=e.getObjectDataFromResponse(n);e.all_users=o,e.filterUsers(),f.getBarList(_.name,_.password).then(function(n){var o=e.getObjectDataFromResponse(n);e.all_bars=o,e.filterBars(),0==t?i.fromTemplateUrl("templates/user_list.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(t){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=t,document.getElementById("foot_bar").style.display="block",e.setActiveMenuButton("button_general"),E.activeModal.show(),O.makeAvailableAgain("open-modal")}):i.fromTemplateUrl("templates/user_list_bar.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(t){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=t,document.getElementById("foot_bar").style.display="block",e.setActiveMenuButton("button_general"),E.activeModal.show(),O.makeAvailableAgain("open-modal")})})}):O.makeAvailableAgain("open-modal"))},e.send_message_to=function(t){e.clear_all_intervals(),O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",_.uid?d.checkWhoCanTalk(_.name,_.password).then(function(n){var o=e.getObjectDataFromResponse(n);o.Status&&"error"==o.Status||(o.forEach(function(e){d.canTalkToUsers["uid-"+e]=1}),e.canTalkToUser(t)?(e.chat=new Array,e.chat.my_uid=_.uid,e.chat.my_picture_url=_.picture_url,e.chat.other_user=new Array,e.chat.other_user.uid=t,e.chat.new_text_message="",d.getUserInfo(t).then(function(n){e.getObjectDataFromResponse(n).Photo?e.chat.other_user.picture_url=e.getObjectDataFromResponse(n).Photo:e.chat.other_user.picture_url="./img/icon-user-anonymous.png",e.chat.other_user.username=e.getObjectDataFromResponse(n).Name,e.chat.other_user.online_status=e.getObjectDataFromResponse(n).Online_status;var o=_.uid;d.getAllMessagesToUser(_.name,_.password,t,o).then(function(t){
var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status||e.isEqual(e.chat.messages,e.getObjectDataFromResponse(t))||(e.chat.messages=new Array,e.chat.messages=e.getObjectDataFromResponse(t)),e.myIntervals.privateMessage&&h.cancel(e.myIntervals.privateMessage),e.myIntervals.privateMessage=h(function(){d.getAllMessagesToUser(_.name,_.password,e.chat.other_user.uid,_.uid).then(function(t){var n=e.getObjectDataFromResponse(t);if(!(n.Status&&"error"==n.Status||e.isEqual(e.chat.messages,e.getObjectDataFromResponse(n)))){e.chat.messages=new Array,e.chat.messages=e.getObjectDataFromResponse(n);var o=e.chat.messages[e.chat.messages.length-1].nid;e.scrollMe("message-"+o)}})},3e3),i.fromTemplateUrl("templates/private_chat.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(t){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",E.checkNoModalIsOpen(),E.activeModal=t,document.getElementById("foot_bar").style.display="none",E.activeModal.show(),O.makeAvailableAgain("open-modal");var n=e.chat.messages[e.chat.messages.length-1].nid;e.scrollMe("message-"+n)})})})):(O.makeAvailableAgain("open-modal"),document.getElementById("spinner").style.display="none",e.selected_person.warning="Debe tener al menos una invitación a un trago aceptada entre usted y esta persona para poder hablar."))}):(document.getElementById("spinner").style.display="none",O.makeAvailableAgain("open-modal"),e.selected_person.warning="Debe estar logueado para poder enviar y recibir mensajes."))},e.checkIfCanReplyInvitation=function(e){return!(!_.uid||_.uid==e.uid||"Enviada"!=e.status&&"Recibida"!=e.status)},e.checkIfWaitingReplyFromInvitation=function(e){return!(!_.uid||_.uid!=e.uid||"Enviada"!=e.status&&"Recibida"!=e.status)},e.getDrinkCostByNid=function(t){var n=0;return e.invitation.available_drinks&&e.invitation.available_drinks.forEach(function(e){e.Nid==t&&(n=e.Credits)}),n},e.acceptInvitation=function(t){e.send_invitation_response("Aceptada",t),e.invitation.other_user.talk=!0},e.refuseInvitation=function(t){e.send_invitation_response("Rechazada",t)},e.canTalkToUser=function(e){if(_.uid)return null!=d.canTalkToUsers["uid-"+e]&&1==d.canTalkToUsers["uid-"+e]},e.send_invitation_response=function(t,n){var o=document.getElementById("error_container");if(o.style.display="none",null==n)o.style.display="block",o.innerHTML="Hubo un error. No se encuentra el ID de invitación";else{e.getDrinkCostByNid(e.invitation.selected_drink),e.invitation.user_credits;O.takeIfAvailable("submit-form")&&(document.getElementById("spinner-inside-modal").style.display="block",p.sendDrinkInvitationResponse(t,_.name,_.password,n,_.uid).then(function(t){O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none";var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status&&(o.style.display="block",o.innerHTML=n.Message)}))}},e.select_drink_to_invite=function(t){e.invitation.selected_drink=t;var n,o=document.getElementsByClassName("invitation drink selected");for(n=0;n<o.length;n++)o[n].className="invitation drink";document.getElementById("drink_nid_"+t).className="invitation drink selected"},e.send_invitation=function(){var t=document.getElementById("error_container");if(null==e.invitation.selected_drink)t.style.display="block",t.innerHTML="Debe seleccionar una bebida a invitar";else{var n=e.getDrinkCostByNid(e.invitation.selected_drink),o=e.invitation.user_credits;parseFloat(n)>parseFloat(o)?(e.invitation.warning="No tienes suficientes créditos.",e.invitation.warning_sub="Carga más créditos para seguir invitando."):O.takeIfAvailable("submit-form")&&(document.getElementById("spinner-inside-modal").style.display="block",p.sendDrinkInvitationToUser(e.invitation.selected_drink,e.invitation.other_user.uid,_.uid,_.name,_.password).then(function(n){O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none";var o=e.getObjectDataFromResponse(n);o.Status&&"error"==o.Status?(t.style.display="block",t.innerHTML=o.Message):(e.invitation.user_credits=o.NewCredits,e.invitation.selected_drink=null,d.canTalkToUsers["uid-"+e.invitation.other_user.uid]=null,e.openInvitationsModal(e.invitation.other_user.uid))}))}},e.openSingleInvitationModalFromChat=function(t){e.myIntervals.privateMessage&&h.cancel(e.myIntervals.privateMessage),e.invitation=new Array,e.invitation.response=null,e.invitation.other_user=new Array,e.invitation.other_user=new Array,e.invitation.other_user.uid=t,e.invitation.invitations=new Array,e.invitation.available_drinks=new Array,e.invitation.selected_drink=null,d.getUserInfo(t).then(function(t){e.getObjectDataFromResponse(t).Photo?e.invitation.other_user.picture_url=e.getObjectDataFromResponse(t).Photo:e.invitation.other_user.picture_url="./img/icon-user-anonymous.png",e.invitation.my_uid=_.uid,e.invitation.my_picture_url=_.picture_url,e.invitation.other_user.username=e.getObjectDataFromResponse(t).Name,e.invitation.other_user.online_status=e.getObjectDataFromResponse(t).Online_status,p.getAllDrinksAvailable(_.name,_.password).then(function(t){var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status||(e.invitation.available_drinks=n.Drinks,e.invitation.user_credits=n.UserCredits)}),O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",_.uid?i.fromTemplateUrl("templates/drink_invitation_new_from_chat.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",E.checkNoModalIsOpen(),E.activeModal=e,document.getElementById("foot_bar").style.display="none",E.activeModal.show(),O.makeAvailableAgain("open-modal")}):(document.getElementById("spinner").style.display="none",O.makeAvailableAgain("open-modal"),e.selected_person.warning="Debe estar logueado para poder enviar y recibir invitaciones."))})},e.openSingleInvitationModal=function(t){O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",_.uid?i.fromTemplateUrl("templates/drink_invitation_new.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",E.checkNoModalIsOpen(),E.activeModal=e,document.getElementById("foot_bar").style.display="none",E.activeModal.show(),O.makeAvailableAgain("open-modal")}):(document.getElementById("spinner").style.display="none",O.makeAvailableAgain("open-modal"),e.selected_person.warning="Debe estar logueado para poder enviar y recibir invitaciones."))},e.openInvitationsModal=function(t){e.clear_all_intervals(),O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",_.uid?(e.invitation=new Array,e.invitation.response=null,e.invitation.other_user=new Array,e.invitation.other_user.uid=t,e.invitation.invitations=new Array,e.invitation.available_drinks=new Array,e.invitation.selected_drink=null,d.getUserInfo(t).then(function(t){e.getObjectDataFromResponse(t).Photo?e.invitation.other_user.picture_url=e.getObjectDataFromResponse(t).Photo:e.invitation.other_user.picture_url="./img/icon-user-anonymous.png",e.invitation.my_uid=_.uid,e.invitation.my_picture_url=_.picture_url,e.invitation.other_user.username=e.getObjectDataFromResponse(t).Name,e.invitation.other_user.online_status=e.getObjectDataFromResponse(t).Online_status,p.getAllDrinksAvailable(_.name,_.password).then(function(t){var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status||(e.invitation.available_drinks=n.Drinks,e.invitation.user_credits=n.UserCredits),p.getAllInvitationsWithUser(_.name,_.password,e.invitation.other_user.uid,_.uid).then(function(t){var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status||(e.invitation.invitations=n),d.checkWhoCanTalk(_.name,_.password).then(function(t){var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status||n.forEach(function(e){d.canTalkToUsers["uid-"+e]=1})}),e.myIntervals.drinkInvitation&&h.cancel(e.myIntervals.drinkInvitation),e.myIntervals.drinkInvitation=h(function(){p.getAllInvitationsWithUser(_.name,_.password,e.invitation.other_user.uid,_.uid).then(function(t){var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status||(e.invitation.invitations=e.getObjectDataFromResponse(n)),d.checkWhoCanTalk(_.name,_.password).then(function(t){var n=e.getObjectDataFromResponse(t);n.Status&&"error"==n.Status||n.forEach(function(e){d.canTalkToUsers["uid-"+e]=1})})})},3e3),i.fromTemplateUrl("templates/drink_invitation.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",E.checkNoModalIsOpen(),E.activeModal=e,document.getElementById("foot_bar").style.display="none",E.activeModal.show(),O.makeAvailableAgain("open-modal")})})})})):(document.getElementById("spinner").style.display="none",O.makeAvailableAgain("open-modal"),e.selected_person.warning="Debe estar logueado para poder enviar y recibir invitaciones."))},e.close_message_modal=function(){e.myIntervals.privateMessage&&h.cancel(e.myIntervals.privateMessage),e.myIntervals.drinkInvitation&&h.cancel(e.myIntervals.drinkInvitation),document.getElementById("foot_bar").style.display="block",E.checkNoModalIsOpen(),e.setActiveMenuButton("button_general")},e.close_invitation_modal=function(){e.myIntervals.privateMessage&&h.cancel(e.myIntervals.privateMessage),e.myIntervals.drinkInvitation&&h.cancel(e.myIntervals.drinkInvitation),document.getElementById("foot_bar").style.display="block",E.checkNoModalIsOpen(),e.setActiveMenuButton("button_general")},e.send_message_ok=function(){O.takeIfAvailable("submit-form")&&(e.chat.new_text_message?d.sendTextMessageToUser(e.chat.new_text_message,e.chat.other_user.uid,_.uid,_.name,_.password).then(function(t){O.makeAvailableAgain("submit-form"),document.getElementById("message_text_area").innerHTML="",e.chat.new_text_message="",d.getAllMessagesToUser(_.name,_.password,e.chat.other_user.uid,_.uid).then(function(t){e.chat.messages=e.getObjectDataFromResponse(t)})}):O.makeAvailableAgain("submit-form"))},e.getNameFromUid=function(t){return _.uid==t?_.name:e.chat.other_user.uid==t?e.chat.other_user.username:void 0},e.getNameFromUidInvitation=function(t){return _.uid==t?_.name:e.invitation.other_user.uid==t?e.invitation.other_user.username:void 0},e.timeConverter=function(e){var t=new Date(1e3*e),n=t.getFullYear(),o=t.getMonth()+1;o<10&&(o="0"+o);var a=t.getDate();a<10&&(a="0"+a);var i=t.getHours();i<10&&(i="0"+i);var r=t.getMinutes();r<10&&(r="0"+r);var s=(t.getSeconds(),a+"/"+o+"/"+n+" "+i+":"+r);return s},e.model=[],e.externalModel=[],e.selectedItems=[],e.preselectedSearchItems=[],e.clickedValueModel="",e.removedValueModel="",e.itemsRemoved=function(t){e.removedValueModel=t},e.user_options=function(){var t=document.getElementById("user-options-menu");if("block"==t.style.display)t.style.display="none";else{var n=_.name;null==n?e.show_anonymous_menu():e.show_user_menu()}},e.show_anonymous_menu=function(){var t=document.getElementById("user-options-menu"),n="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesión</div>";n+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",t.innerHTML=n,a(t)(e),t.style.height="120px",t.style.width="150px",t.style.display="block"},e.show_user_menu=function(){var t=document.getElementById("user-options-menu"),n=_.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";n+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesión</div></div>",t.innerHTML=n,a(t)(e),t.style.height="220px",t.style.width="200px",t.style.display="block"},e.create_field_array=function(e,t,n){var o=new Array;return o.name=e,o.type=t,o.value=n,o},e.create_field_array_with_twoFields=function(e,t,n,o){var a=new Array;return a.name=e,a.type=t,a.value=n,a.secondValue=o,a},e.fix_fb_image_link=function(e){if(e.indexOf("http://graph.facebook.com")>=0){var t=e.split("http://graph.facebook.com"),n="http://graph.facebook.com"+t[1];return n}return e},e.log_in=function(t,n){if(O.takeIfAvailable("submit-form"))if(A.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(e.create_field_array("Usuario","notNull",t)),o.push(e.create_field_array("Contraseña","notNull",n)),b.check_fields(o,e.login)?m.log_in(t,n).then(function(t){b.http_response_is_successful(t,e.login)?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),_.save_user_data(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),g.saveUser(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form"),e.close_login_modal(),e.sendUserLocation()):(O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form"),b.show_error_message("error_container",e.statusText)}):(document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form"))}else O.makeAvailableAgain("submit-form"),I.show_alert("Sin conexión a internet","Para iniciar sesión debe estar conectado a internet")},e.log_in_background=function(t,n){m.log_in(t,n).then(function(t){return b.http_response_is_successful_ajax(t)?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),_.save_user_data(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),g.saveUser(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),e.sendUserLocation(),1):0},function(e){return 0})},e.sendUserLocation=function(){if(O.takeIfAvailable("submit-location"))if(1==_.show_location){var t={timeout:1e4,enableHighAccuracy:!0};o.getCurrentPosition(t).then(function(t){u.sendUserLocation(t.coords.latitude,t.coords.longitude,_.name,_.password,_.uid).then(function(n){return b.http_response_is_successful_ajax(n)?(c.save_last_user_position(t.coords.latitude,t.coords.longitude),e.loadPinsLayer(),O.makeAvailableAgain("submit-location"),1):(O.makeAvailableAgain("submit-location"),0)})},function(t){return O.makeAvailableAgain("submit-location"),e.loadPinsLayer(),0})}else O.makeAvailableAgain("submit-location"),e.loadPinsLayer()},e.sign_out=function(){_.erase_user_data(),g.eraseUser(),document.getElementById("spinner").style.display="none",e.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},e.show_edit_profile_modal=function(){e.clear_all_intervals(),O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",e.newuser=new Array,e.newuser.email=_.email,e.newuser.gender=_.gender,e.newuser.username=_.name,e.newuser.interested=_.interested,e.newuser.status=_.status,e.newuser.show_location=_.show_location,e.actual_photo=_.picture_url,null!=e.actual_photo||(e.actual_photo="./img/icon-user-anonymous.png"),"url(./img/icon-user-anonymous.png)"==e.actual_photo&&(e.actual_photo="./img/icon-user-anonymous.png"),E.checkNoModalIsOpen(),D.isMobileDevice()?i.fromTemplateUrl("templates/edit_profile_with_photo.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",E.activeModal=e,document.getElementById("foot_bar").style.display="none",E.activeModal.show(),O.makeAvailableAgain("open-modal")}):i.fromTemplateUrl("templates/edit_profile_with_photo_desktop.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",document.getElementById("user-options-menu").style.display="none",E.activeModal=e,document.getElementById("foot_bar").style.display="none",E.activeModal.show(),O.makeAvailableAgain("open-modal")}))},e.readURL=function(t,n){if(t.files&&t.files[0]){1==n?e.newuser.picture_url=t.files[0]:2==n?e.comment.photo=t.files[0]:e.report.file=t.files[0];var o=new FileReader;o.onload=function(e){document.getElementById("myImage").src=e.target.result},o.readAsDataURL(t.files[0])}},e.close_edit_profile_modal=function(){document.getElementById("foot_bar").style.display="block",E.checkNoModalIsOpen()},e.edit_profile_ok=function(){e.edit_profile()},e.getObjectDataFromResponse=function(e){return e.data?e.data:e},e.edit_profile=function(){if(O.takeIfAvailable("submit-form"))if(A.isOnline()){document.getElementById("spinner-inside-modal").style.display="block",e.newuser.password=_.password;var t=m.edit_user(e.newuser);null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?t.then(function(t){var n=JSON.parse(t.response);b.http_data_response_is_successful(n,"error_container")?(n=e.getObjectDataFromResponse(n),_.save_user_data(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),g.saveUser(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){var t="Código: "+e.code;t=t+" Origen: "+e.source,t=t+" Destino: "+e.target,t=t+" http_status: "+e.http_status,t=t+" Body: "+e.body,t=t+" Exception: "+e.exception,b.show_error_message("error_container","Hubo un error en el envío: "+t),O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(t){v(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})}):t.success(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",b.http_response_is_successful(t,"error_container")?(_.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),g.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form"),e.close_edit_profile_modal(),e.check_user_logged()):(O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")}).error(function(e,t,n,o){b.show_error_message("error_container",t),document.getElementById("spinner-inside-modal").style.display="none",O.makeAvailableAgain("submit-form")})}else O.makeAvailableAgain("submit-form"),I.show_alert("Sin conexión a internet","Para editar su perfil debe estar conectado a internet")},e.show_login_modal=function(){e.clear_all_intervals(),O.takeIfAvailable("open-modal")&&(e.nonauth=new Array,e.nonauth.user="",e.nonauth.password="",E.checkNoModalIsOpen(),i.fromTemplateUrl("templates/log_in.html",{scope:e,hardwareBackButtonClose:!1,animation:"none"}).then(function(t){e.hide_special_divs(),E.activeModal=t,O.makeAvailableAgain("open-modal"),document.getElementById("foot_bar").style.display="none",E.activeModal.show()}))},e.login_ok=function(){e.log_in(e.nonauth.user,e.nonauth.password)},e.close_login_modal=function(){document.getElementById("foot_bar").style.display="block",E.checkNoModalIsOpen(),e.setActiveMenuButton("button_general")},e.show_sign_up_modal=function(){e.clear_all_intervals(),O.takeIfAvailable("open-modal")&&(e.newuser=new Array,e.newuser.email="",e.newuser.password="",e.newuser.fullname="",e.newuser.id_doc="",e.newuser.telephone="",e.newuser.photo="",E.checkNoModalIsOpen(),D.isMobileDevice()?i.fromTemplateUrl("templates/sign_up.html",{scope:e,hardwareBackButtonClose:!1,animation:"none"}).then(function(t){e.hide_special_divs(),E.activeModal=t,O.makeAvailableAgain("open-modal"),document.getElementById("foot_bar").style.display="none",E.activeModal.show()}):i.fromTemplateUrl("templates/sign_up_desktop.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(t){e.hide_special_divs(),E.activeModal=t,O.makeAvailableAgain("open-modal"),document.getElementById("foot_bar").style.display="none",E.activeModal.show()}))},e.close_sign_up_modal=function(){document.getElementById("foot_bar").style.display="block",E.checkNoModalIsOpen(),e.setActiveMenuButton("button_general")},e.sign_up=function(){if(O.takeIfAvailable("submit-form"))if(A.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";new Array;null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?m.create_user(e.newuser).then(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",b.http_data_response_is_successful(t,"error_container")?(t=e.getObjectDataFromResponse(t),_.save_user_data(t.name,t.email,e.newuser.password,t.identity_document,t.phone,t.picture_url),_.save_user_data(t.Name,e.newuser.password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),g.saveUser(t.Name,password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"}):m.create_user(e.newuser).then(function(t){if(b.http_response_is_successful(t,"error_container")){_.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),g.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_sign_up_modal();var n=r.alert({title:"Usuario creado con éxito",template:e.getObjectDataFromResponse(t).message});n.then(function(e){}),e.check_user_logged()}else O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(e){O.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",b.show_error_message("error_container",e.statusText)})}else O.makeAvailableAgain("submit-form"),I.show_alert("Sin conexión a internet","Para iniciar registrarse debe estar conectado a internet")},e.sign_up_ok=function(){e.sign_up()},e.check_user_logged=function(){var t=_.name;if(null==t){var n=g.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?e.log_in_background(t.name,t.password):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==_.picture_url||""==_.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_offline_user=function(){var t=_.name;if(null==t){var n=g.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?_.save_user_data(t.name,t.password,t.picture_url,t.show_location):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==_.picture_url||""==_.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_user_picture=function(t){document.getElementById("user_picture");0==t?e.user_cached_image="./img/icon-user-anonymous.png":null!=_.picture_url&&""!=_.picture_url?e.user_cached_image=_.picture_url:e.user_cached_image="./img/icon-user-anonymous.png"},e.find_me=function(){e.set_active_option("button-find-me"),e.hide_special_divs();var t={timeout:1e4,enableHighAccuracy:!0};o.getCurrentPosition(t).then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,c.save_new_report_position(t.coords.latitude,t.coords.longitude),A.isOnline()?e.map.center.zoom=18:e.map.center.zoom=16,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"<p align='center'>Te encuentras aquí <br/> <a ng-click='new_report(1);'>Iniciar reporte en tu posición actual</a></p>",focus:!0,draggable:!1,getMessageScope:function(){return e}}},function(t){e.openCouncilSelector()})},e.click_on_perfil_button=function(){e.clear_all_intervals(),null!=_.uid?e.show_edit_profile_modal():e.show_login_modal(),e.setActiveMenuButton("button_general")},e.isEqual=function(e,t){if(!e||!t)return!1;if(Object.keys(e).length!=Object.keys(t).length)return!1;for(key in e)if("params"!=key){if(e[key]==t[key])continue;return!1}return!0},e.clear_all_intervals=function(){e.myIntervals.privateMessage&&h.cancel(e.myIntervals.privateMessage),e.myIntervals.drinkInvitation&&h.cancel(e.myIntervals.drinkInvitation)},e.openFilters=function(){var t=document.getElementsByClassName("tab-item tab-item-active");if(t.length>0){var n=t[0],o=n.firstElementChild.innerHTML;"PERSONAS"==o?(e.setBackTo="listado_people",i.fromTemplateUrl("templates/filter_people.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(t){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=t,E.activeModal.show(),O.makeAvailableAgain("open-modal"),e.toggleFilterInteresadoEn(e.filter.filter_people_interesado_en)})):(e.setBackTo="listado_bar",i.fromTemplateUrl("templates/filter_bar.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=e,E.activeModal.show(),O.makeAvailableAgain("open-modal")}))}else e.setBackTo="mapa",i.fromTemplateUrl("templates/filter_people.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(t){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=t,E.activeModal.show(),O.makeAvailableAgain("open-modal"),e.toggleFilterInteresadoEn(e.filter.filter_people_interesado_en)})},e.toggleFilterInteresadoEn=function(t){var n,o=document.getElementsByClassName("filter_interesado_en");for(n=0;n<o.length;n++)o[n].classList.remove("active");var a="";"Hombres"==t&&(a="filter_interesado_en_hombres"),"Mujeres"==t&&(a="filter_interesado_en_mujeres"),"Personas en general"!=t&&""!=t||(a="filter_interesado_en_personas"),e.filter.filter_people_interesado_en=t,document.getElementById(a).classList.add("active")},e.go_back_from_filter_modal=function(){e.loadPinsLayer(),"mapa"==e.setBackTo&&E.checkNoModalIsOpen(),"listado_people"==e.setBackTo&&e.open_user_list(!1),"listado_bar"==e.setBackTo&&e.open_user_list(!0)},e.filterUsers=function(){e.all_users.forEach(function(t,n){t.filtered=!1,e.filter.filter_people_distance_range>0&&parseFloat(t.distance)>parseFloat(e.filter.filter_people_distance_range)&&(t.filtered=!0),1==e.filter.filter_people_online&&"Online"!=t.online_status&&(t.filtered=!0),"Hombres"==e.filter.filter_people_interesado_en&&"Hombre"!=t.gender&&(t.filtered=!0),"Mujeres"==e.filter.filter_people_interesado_en&&"Mujer"!=t.gender&&(t.filtered=!0)})},e.filterBars=function(){e.all_bars.forEach(function(t,n){t.filtered=!1,e.filter.filter_bar_distance_range>0&&parseFloat(t.distance)>parseFloat(e.filter.filter_bar_distance_range)&&(t.filtered=!0),1==e.filter.filter_bar_open&&"Abierto"!=t.status&&(t.filtered=!0)})},e.pinIsNotFiltered=function(t){var n=!0;return"Person"==t.feature.properties.Type?(e.filter.filter_people_distance_range>0&&parseFloat(t.feature.properties.Distance)>parseFloat(e.filter.filter_people_distance_range)&&(n=!1),1==e.filter.filter_people_online&&"Online"!=t.feature.properties.Online_status&&(n=!1),"Hombres"==e.filter.filter_people_interesado_en&&"Hombre"!=t.feature.properties.Gender&&(n=!1),"Mujeres"==e.filter.filter_people_interesado_en&&"Mujer"!=t.feature.properties.Gender&&(n=!1)):"Bar"==t.feature.properties.Type&&(e.filter.filter_bar_distance_range>0&&parseFloat(t.feature.properties.Distance)>parseFloat(e.filter.filter_bar_distance_range)&&(n=!1),1==e.filter.filter_bar_open&&"Abierto"!=t.feature.properties.Status&&(n=!1)),n},e.view_profile=function(t,n){e.setBackTo=n,O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",d.getUserInfo(t).then(function(n){e.profile=new Array,e.profile.other_user=new Array,e.getObjectDataFromResponse(n).Photo?e.profile.other_user.picture_url=e.getObjectDataFromResponse(n).Photo:e.profile.other_user.picture_url="./img/icon-user-anonymous.png",e.profile.other_user.uid=t,e.profile.other_user.username=e.getObjectDataFromResponse(n).Name,e.profile.other_user.online_status=e.getObjectDataFromResponse(n).Online_status,e.profile.other_user.estado=e.getObjectDataFromResponse(n).Estado,e.profile.other_user.posts=e.getObjectDataFromResponse(n).Posts,e.profile.other_user.photos=e.getObjectDataFromResponse(n).Photos,i.fromTemplateUrl("templates/profile_other.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=e,E.activeModal.show(),O.makeAvailableAgain("open-modal")})}))},e.view_bar_profile=function(t,n){e.setBackTo=n,O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",f.getBarInfo(t).then(function(t){e.profile=new Array,e.profile.bar=e.getObjectDataFromResponse(t),i.fromTemplateUrl("templates/profile_bar.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=e,E.activeModal.show(),O.makeAvailableAgain("open-modal")})}))},e.view_my_profile=function(){e.setBackTo="mapa",O.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",d.getUserInfo(_.uid).then(function(t){e.profile=new Array,e.profile.other_user=new Array,e.getObjectDataFromResponse(t).Photo?e.profile.other_user.picture_url=e.getObjectDataFromResponse(t).Photo:e.profile.other_user.picture_url="./img/icon-user-anonymous.png",e.profile.other_user.uid=e.getObjectDataFromResponse(t).uid,e.profile.other_user.username=e.getObjectDataFromResponse(t).Name,e.profile.other_user.online_status=e.getObjectDataFromResponse(t).Online_status,
e.profile.other_user.estado=e.getObjectDataFromResponse(t).Estado,e.profile.other_user.posts=e.getObjectDataFromResponse(t).Posts,e.profile.other_user.photos=e.getObjectDataFromResponse(t).Photos,i.fromTemplateUrl("templates/profile_my.html",{scope:e,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){document.getElementById("spinner").style.display="none",E.checkNoModalIsOpen(),E.activeModal=e,E.activeModal.show(),O.makeAvailableAgain("open-modal")})}))},e.show_galery=function(){O.takeIfAvailable("open-secondary-modal")&&(document.getElementById("spinner").style.display="block",i.fromTemplateUrl("templates/gallery.html",{scope:e,hardwareBackButtonClose:!0,animation:"none",backdropClickToClose:!0}).then(function(e){document.getElementById("spinner").style.display="none",E.checkNoSecondaryModalIsOpen(),E.activeModalSecondary=e,E.activeModalSecondary.show(),O.makeAvailableAgain("open-secondary-modal")}))},e.show_post=function(t){e.selected_post=t,O.takeIfAvailable("open-secondary-modal")&&(document.getElementById("spinner").style.display="block",i.fromTemplateUrl("templates/post.html",{scope:e,hardwareBackButtonClose:!0,animation:"none",backdropClickToClose:!0}).then(function(e){document.getElementById("spinner").style.display="none",E.checkNoSecondaryModalIsOpen(),E.activeModalSecondary=e,E.activeModalSecondary.show(),O.makeAvailableAgain("open-secondary-modal")}))},e.close_secondary_modal=function(){E.checkNoSecondaryModalIsOpen()},e.do_nothing=function(){}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9iYXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2RyaW5rLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZXJyb3Iuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbWVzc2FnZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvbW9kYWxTZXJ2aWNlLmpzIiwic2VydmljZXMvbm90aWZpY2F0aW9uLnNlcnZpY2VzLmpzIiwic2VydmljZXMvcGluLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3NlbWFwaG9yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdWJpY2FjaW9uZXMuc2VydmljZXMuanMiLCJzZXJ2aWNlcy91bmRlcnNjb3JlLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91c2VyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdmFsaWRhdGlvbi5zZXJ2aWNlcy5qcyIsImNvbnRyb2xsZXJzL2Ficy5jdHJsLmpzIiwiY29udHJvbGxlcnMvaW50cm8uY3RybC5qcyIsImNvbnRyb2xsZXJzL21hcC5jdHJsLmpzIl0sIm5hbWVzIjpbInBtYl9pbSIsImNvbnRyb2xsZXJzIiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2VzIiwiYXBwIiwiY29uc3RhbnQiLCJ1cmwiLCJydW4iLCIkaW9uaWNQbGF0Zm9ybSIsIiRyb290U2NvcGUiLCIkY29yZG92YUtleWJvYXJkIiwiVkVSU0lPTiIsIndpbmRvdyIsInJlYWR5IiwiY29yZG92YSIsInBsdWdpbnMiLCJLZXlib2FyZCIsImhpZGVLZXlib2FyZEFjY2Vzc29yeUJhciIsImRpc2FibGVTY3JvbGwiLCJpb25pYyIsIlBsYXRmb3JtIiwiaXNGdWxsU2NyZWVuIiwiU3RhdHVzQmFyIiwic3R5bGVEZWZhdWx0IiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkY29tcGlsZVByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJkZWJ1Z0luZm9FbmFibGVkIiwic3RhdGUiLCJjYWNoZSIsImFic3RyYWN0IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwidmlld3MiLCJtZW51Q29udGVudCIsIm90aGVyd2lzZSIsImZhY3RvcnkiLCIkaHR0cCIsIiRjb3Jkb3ZhRmlsZVRyYW5zZmVyIiwiQ29uZmlnU2VydmljZSIsIlZhbGlkYXRpb25TZXJ2aWNlIiwiYmFzZVVSTCIsImxvZ19pbiIsInVzZXIiLCJwYXNzd29yZCIsImJvZHkiLCJwb3N0Iiwid2l0aENyZWRlbnRpYWxzIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInNpZ25fb3V0IiwiZW1haWwiLCJnZXQiLCJwYXJhbXMiLCJwYXNzd29yZF9zaWduX2luIiwiY3JlYXRlX3VzZXIiLCJ1c2VyT2JqIiwicGljdHVyZV91cmwiLCJpc01vYmlsZURldmljZSIsIm9wdGlvbnMiLCJmaWxlS2V5IiwidXNlcm5hbWUiLCJnZW5kZXIiLCJpbnRlcmVzdGVkIiwic3RhdHVzIiwic2hvd19sb2NhdGlvbiIsInRydXN0QWxsSG9zdHMiLCJ1cGxvYWQiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidW5kZWZpbmVkIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwicGFzc3dvcmRfcmVjb3ZlcnkiLCJsb2dpbl9lbWFpbCIsInBhc3N3b3JkX2NoYW5nZSIsIm9sZFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJlZGl0X3VzZXIiLCJhcGlVUkwiLCJCYXJPYmoiLCJ1aWQiLCJuYW1lIiwiZ2V0QmFyTGlzdCIsImF1dGhvcl91aWQiLCJNYXRoIiwicmFuZG9tIiwiZ2V0QmFySW5mbyIsIm5pZCIsImhhc2hfaWQiLCJDb25maWdPYmoiLCJpc1dlYlZpZXciLCJBcHBOYW1lIiwiYmFzZUNvYnJhbmQiLCIkY29yZG92YU5ldHdvcmsiLCJpc09ubGluZSIsImlzT2ZmbGluZSIsIiRxIiwic2F2ZVVzZXIiLCJ1c2VyX25hbWUiLCJ1c2VyX3Bhc3N3b3JkIiwidXNlcl9waWN0dXJlX3VybCIsIl9pZCIsImdldFVzZXIiLCJ0aGVuIiwiZG9jIiwiX3JldiIsIl9kYiIsInB1dCIsImVyciIsImVyYXNlVXNlciIsInJlbW92ZSIsImluaXREQiIsIlBvdWNoREIiLCJzYXZlUmVwb3J0IiwicmVwb3J0IiwiZGF0ZSIsIkRhdGUiLCJuZXdfcmVwb3J0X2lkIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRNaWxsaXNlY29uZHMiLCJ1cGRhdGVSZXBvcnQiLCJnZXRDYXRlZ29yaWVzIiwic2F2ZUNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZ2V0UmVwb3J0IiwicmVwb3J0SWQiLCJnZXRBbGxSZXBvcnRzIiwiYWxsRG9jcyIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwic3RhcnRrZXkiLCJlbmRrZXkiLCJkZWxldGVSZXBvcnQiLCJyZXBvcnRfaWQiLCJkZWxldGVHaXZlblJlcG9ydCIsImdldEFsbERyaW5rc0F2YWlsYWJsZSIsImdldEFsbEludml0YXRpb25zV2l0aFVzZXIiLCJkZXN0aW5hdGlvbl91aWQiLCJzZW5kRHJpbmtJbnZpdGF0aW9uVG9Vc2VyIiwiZHJpbmtfbmlkIiwic2VuZERyaW5rSW52aXRhdGlvblJlc3BvbnNlIiwicmVzcG9uc2UiLCJpbnZpdGF0aW9uX25pZCIsIiRpb25pY1BvcHVwIiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsIiwianNvblJlc3VsdCIsIndhcm5pbmdPYmoiLCJkYXRhIiwiU3RhdHVzIiwid2FybmluZyIsIk1lc3NhZ2UiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInJlc3VsdCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cCIsImFsZXJ0UG9wdXAiLCJhbGVydCIsInRpdGxlIiwidGVtcGxhdGUiLCJtZXNzYWdlIiwicmVzIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJlcnJvckNvbnRhaW5lcklkIiwiZXJyb3JEaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwic3R5bGUiLCJkaXNwbGF5IiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInNob3dfZXJyb3JfbWVzc2FnZSIsInNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cCIsImNoZWNrX2ZpZWxkcyIsImZpZWxkcyIsImVycm9ycyIsImZvckVhY2giLCJmaWVsZCIsInR5cGUiLCJ2YWxpZGF0ZV9ub3RfZW1wdHkiLCJ2YWx1ZSIsInZhbGlkYXRlX2VtYWlsIiwidmFsaWRhdGVfaWRkb2NfdXkiLCJ2YWxpZGF0ZV90d29fd29yZHMiLCJ2YWxpZGF0ZV9lcXVhbHNUbyIsInNlY29uZFZhbHVlIiwiJGlvbmljTG9hZGluZyIsIiR0aW1lb3V0IiwiTE9BREVSQVBJIiwic2hvd0xvYWRpbmciLCJ0ZXh0Iiwic2hvdyIsImhpZGVMb2FkaW5nIiwiaGlkZSIsInRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZSIsInRpbWVvdXQiLCJzZWxmIiwidGhpcyIsImNvbmZpcm1Qb3B1cCIsImNvbmZpcm0iLCJzaG93QWxlcnQiLCJfdGl0bGUiLCJfdGVtcGxhdGUiLCJsb2NhdGlvbnNPYmoiLCJpbml0aWFsX2xhdCIsImluaXRpYWxfbG5nIiwibGFzdF91c2VyX2xhdCIsImxhc3RfdXNlcl9sbmciLCJjb3VuY2lsX21vZGFsIiwic2VsZWN0ZWRfY291bmNpbCIsInNlbGVjdENvdW5jaWwiLCJjb3VuY2lsTmFtZSIsInNhdmVfaW5pdGlhbF9wb3NpdGlvbiIsInBvc2l0aW9uIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJzYXZlX2xhc3RfdXNlcl9wb3NpdGlvbiIsImxhdCIsImxuZyIsInNhdmVkTG9jYXRpb25zIiwibGVhZmxldERhdGEiLCIkY29tcGlsZSIsInByb2o0IiwiZGVmcyIsIm1hcFNlcnZpY2UiLCJnb1RvUGxhY2UiLCJsb24iLCJzY29wZSIsIl9nZW9Kc29uIiwiY3JzIiwicHJvcGVydGllcyIsImZlYXR1cmVzIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsIm5vbWJyZSIsImdldE1hcCIsIm1hcCIsIl9sYXRsbmciLCJsYXllciIsIkwiLCJQcm9qIiwiZ2VvSnNvbiIsInBvaW50VG9MYXllciIsImZlYXR1cmUiLCJsYXRsbmciLCJodG1sUG9wVXAiLCJjb21waWxlZCIsIm1hcmtlciIsImJpbmRQb3B1cCIsImFkZFRvIiwic2V0VmlldyIsIm9wZW5Qb3B1cCIsImNlbnRlck1hcE9uQ29vcmRzIiwiem9vbSIsIkxhdExuZyIsIl9kYXRhIiwiZXh0ZW5kIiwiZ2V0QWxsTWVzc2FnZXNUb1VzZXIiLCJnZXRBbGxNZXNzYWdlcyIsImdldFVzZXJJbmZvIiwic2VuZFRleHRNZXNzYWdlVG9Vc2VyIiwiY2hlY2tXaG9DYW5UYWxrIiwiY2FuVGFsa1RvVXNlcnMiLCJBcnJheSIsImN1cnJlbnQiLCJidWlsZCIsIm1vZGFsT0JKIiwiYWN0aXZlTW9kYWwiLCJhY3RpdmVNb2RhbFNlY29uZGFyeSIsImNoZWNrTm9Nb2RhbElzT3BlbiIsImNoZWNrTm9TZWNvbmRhcnlNb2RhbElzT3BlbiIsImdldFVucmVjaXZlZE5vdGlmaWNhdGlvbnMiLCJkb250U2hvd05vdGlmaWNhdGlvbkFnYWluIiwiZ2V0QWxsTm90aWZpY2F0aW9ucyIsIlBpbiIsInBpbnNVUkwiLCJwaW5zVVJMZm9yVXNlciIsImdldEFsbCIsImdldEFsbEJ5VXNlciIsInNlbmRVc2VyTG9jYXRpb24iLCJfYWxsIiwibGFzdFBpbnNSZXNwb25zZSIsInByb3RvdHlwZSIsInNldExhdExuZyIsInNob3dfYWxlcnQiLCJhbGVydF90aXRsZSIsImFsZXJ0X21lc3NhZ2UiLCJhc2tGb3JPbmVWYWx1ZVBvcFVwIiwiZmllbGRfbmFtZSIsInZhbGlkYXRpb25UeXBlIiwiJHNjb3BlIiwibXlQb3B1cCIsInN1YlRpdGxlIiwiYnV0dG9ucyIsIm9uVGFwIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2VtYXBob3JlT2JqIiwic2VtYXBob3JlcyIsInRha2VJZkF2YWlsYWJsZSIsInNlbWFwaG9yZUlkIiwibWFrZUF2YWlsYWJsZUFnYWluIiwiQXBpSW1FbmRwb2ludCIsIkFwaURhdGFFbmRwb2ludCIsIkxvY2F0aW9uc1NlcnZpY2UiLCJyZXN0UHJlZmZpeCIsImxvY2F0aW9uQVBJIiwic2VhcmNoTG9jYXRpb25CeVN0ciIsIl9sb2NhdGlvbiIsIm1ldGhvZCIsInNlYXJjaEVzcXVpbmFCeVN0ciIsImNhbGxlIiwiZXNxdWluYSIsImdldExvY2F0aW9uR2VvbSIsImdldFBhcmFtUGF0aEJ5VGlwbyIsInRpcG8iLCJpIiwicGF0aFBhcmFtcyIsImxlbmd0aCIsImdldExvY2F0aW9uR2VvbVBNQiIsImVzcXVpbmFfbnVtZXJvIiwiX3RpcG8iLCJyZXN0R2VvRGF0YVNlcnZpY2VQYXRoIiwiRVNRVUlOQSIsIkRJUkVDQ0lPTiIsIl8iLCJVc2VyT2JqIiwiZ2V0VXNlckxpc3QiLCJzYXZlX3VzZXJfZGF0YSIsImVyYXNlX3VzZXJfZGF0YSIsImlkZW50aXR5X2RvY3VtZW50IiwicGhvbmUiLCJnZXRfdXNlcl9kYXRhIiwiYWRkX3Bob3RvIiwiaXNMb2dnZWQiLCJ2YWx1ZXMiLCJzcGxpdCIsImZpbHRlciIsInYiLCJyZSIsInRlc3QiLCJyZXBsYWNlIiwiZGlnIiwiYSIsInBhcnNlSW50IiwiJHN0YXRlIiwiJGNvcmRvdmFHZW9sb2NhdGlvbiIsIiRzdGF0ZVBhcmFtcyIsIkRCU2VydmljZSIsIlVzZXJTZXJ2aWNlIiwiZGIiLCJpbmZvIiwiY29uc29sZSIsImxvZyIsImJpbmQiLCJnZW9sb2NhdGUiLCJwb3NPcHRpb25zIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwiZ28iLCIkb24iLCIkY29yZG92YUNhbWVyYSIsIiRpb25pY01vZGFsIiwiUGluU2VydmljZSIsIk1lc3NhZ2VTZXJ2aWNlIiwiRHJpbmtTZXJ2aWNlIiwiQXV0aFNlcnZpY2UiLCJCYXJTZXJ2aWNlIiwiJGludGVydmFsIiwiJGxvY2F0aW9uIiwiRXJyb3JTZXJ2aWNlIiwiJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSIsIiRpb25pY1Njcm9sbERlbGVnYXRlIiwiUG9wVXBTZXJ2aWNlIiwiQ29ubmVjdGl2aXR5U2VydmljZSIsIiRjb3Jkb3ZhSW5BcHBCcm93c2VyIiwiTWFwU2VydmljZSIsIk1vZGFsU2VydmljZSIsIlNlbWFwaG9yZVNlcnZpY2UiLCJOb3RpZmljYXRpb25TZXJ2aWNlIiwib25saW5lX3VzZXJfZ2VvIiwib25saW5lX3VzZXJfZ2VvX2FycmF5IiwidXNlcl9jYWNoZWRfaW1hZ2UiLCJvbmVfdmFsdWVfcG9wdXAiLCJteUludGVydmFscyIsInNlbGVjdGVkX3BlcnNvbiIsImxvZ2luIiwic2V0QmFja1RvIiwiZmlsdGVyX3Blb3BsZV9kaXN0YW5jZV9yYW5nZSIsImZpbHRlcl9wZW9wbGVfb25saW5lIiwiZmlsdGVyX3Blb3BsZV9pbnRlcmVzYWRvX2VuIiwiZmlsdGVyX2Jhcl9kaXN0YW5jZV9yYW5nZSIsImZpbHRlcl9iYXJfb3BlbiIsImNoZWNrX3VzZXJfbG9nZ2VkIiwic2V0X29mZmxpbmVfdXNlciIsImNyZWF0ZV9vbmxpbmVfbWFwIiwiY2xhc3NOYW1lIiwic2hvd19sb2dpbl9tb2RhbCIsImNhbmNlbCIsInJlc3AyIiwiZGF0YTIiLCJnZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlIiwiYWxsX21lc3NhZ2VzIiwiY2hlY2tOb3RpZmljYXRpb25zIiwicmVzcCIsImlzRXF1YWwiLCJub3RpZmljYXRpb25zIiwiTm90aWZpY2F0aW9ucyIsIm9wZW5Ob3RpZmljYXRpb24iLCJub3RpZmljYXRpb24iLCJzZW5kX21lc3NhZ2VfdG8iLCJvcGVuSW52aXRhdGlvbnNNb2RhbCIsImNsb3NlTm90aWZpY2F0aW9uIiwib3BlbldlYnNpdGUiLCJsb2NhdGlvbiIsImNsZWFyY2FjaGUiLCJ0b29sYmFyIiwib3BlbiIsImV2ZW50IiwiZGVmYXVsdHMiLCJtaW5ab29tIiwibWF4Wm9vbSIsInpvb21Db250cm9sUG9zaXRpb24iLCJsYXllcnMiLCJiYXNlbGF5ZXJzIiwiZ29vZ2xlUm9hZG1hcCIsImxheWVyVHlwZSIsIm1hcmtlcnMiLCJldmVudHMiLCJlbmFibGUiLCJsb2dpYyIsImNlbnRlciIsImxvYWRQaW5zTGF5ZXIiLCJvbiIsImhpZGVPZmZTY3JlZW5QaW5zIiwibmV4dCIsInByZXZpb3VzIiwiYmFja190b19tYXAiLCJpbWFnZSIsImFkZEltYWdlIiwiaXNGcm9tQWxidW0iLCJpc1VzZXJQaG90byIsImlzQ29tbWVudFBob3RvIiwiaXNOZXdVc2VyUGhvdG8iLCJzb3VyY2UiLCJDYW1lcmEiLCJQaWN0dXJlU291cmNlVHlwZSIsIkNBTUVSQSIsImZpeF9vcmllbnRhdGlvbiIsInNhdmVfdG9fZ2FsbGVyeSIsIlBIT1RPTElCUkFSWSIsInF1YWxpdHkiLCJkZXN0aW5hdGlvblR5cGUiLCJEZXN0aW5hdGlvblR5cGUiLCJGSUxFX1VSSSIsInNvdXJjZVR5cGUiLCJhbGxvd0VkaXQiLCJjb3JyZWN0T3JpZW50YXRpb24iLCJlbmNvZGluZ1R5cGUiLCJFbmNvZGluZ1R5cGUiLCJKUEVHIiwicG9wb3Zlck9wdGlvbnMiLCJDYW1lcmFQb3BvdmVyT3B0aW9ucyIsInNhdmVUb1Bob3RvQWxidW0iLCJ0YXJnZXRXaWR0aCIsInRhcmdldEhlaWdodCIsImdldFBpY3R1cmUiLCJpbWFnZURhdGEiLCJvbkltYWdlU3VjY2VzcyIsImZpbGVVUkkiLCJGaWxlUGF0aCIsInJlc29sdmVOYXRpdmVQYXRoIiwic3RhcnRzV2l0aCIsInByb2ZpbGUiLCJjb21tZW50IiwiZmlsZSIsIm5ld3VzZXIiLCJpbWdVUkkiLCJlcnJvciIsInVybEZvckltYWdlIiwiaW1hZ2VVUkwiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsImRhdGFEaXJlY3RvcnkiLCJzY3JvbGxNZSIsImFuY2hvcl9pZCIsImhhc2giLCJoYW5kbGUiLCIkZ2V0QnlIYW5kbGUiLCJhbmNob3JTY3JvbGwiLCJzZXRfYWN0aXZlX29wdGlvbiIsImJ1dHRvbmlkIiwiaGlkZV9zcGVjaWFsX2RpdnMiLCJjbG9zZV9yZXBvcnRfZGV0YWlsX21vZGFsIiwicmVwb3J0X2RldGFpbF9pZCIsImxvY2F0ZSIsIm5vdyIsImZvY3VzIiwiZHJhZ2dhYmxlIiwiYWRkTWFwQ29udHJvbHMiLCJjaGFuZ2VVc2VyTG9jYXRpb25QaW4iLCJuZXdMYXRMbmciLCJtYXBCb3VuZHMiLCJnZXRCb3VuZHMiLCJ1c2Vyc1Zpc2libGUiLCJrZXkiLCJzaG91bGRCZVZpc2libGUiLCJjb250YWlucyIsImdldExhdExuZyIsInBpbklzTm90RmlsdGVyZWQiLCJhZGRMYXllciIsInB1c2giLCJyZW1vdmVMYXllciIsInJlbW92ZUFsbFBpbnMiLCJyZXBvcnRzQnlTdGF0ZSIsInBpbnNBcnJheSIsIm9ubGluZV91c2Vyc19nZW8iLCJUeXBlIiwib25saW5lU3RhdHVzIiwiT25saW5lX3N0YXR1cyIsImljb24iLCJJY29uIiwibWFya2VySWNvbiIsIlVpZCIsImljb25VcmwiLCJpY29uU2l6ZSIsImljb25BbmNob3IiLCJwb3B1cEFuY2hvciIsImRpdkljb24iLCJodG1sIiwidGFyZ2V0IiwiZnJvbVRlbXBsYXRlVXJsIiwiaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2UiLCJhbmltYXRpb24iLCJtb2RhbCIsIk5pZCIsInNlbGVjdGVkX2JhciIsIlBob3RvIiwiY2hlY2tUYWxrU3RhdHVzIiwiY2xvc2VfYWN0aXZlX21vZGFsIiwic2V0QWN0aXZlTWVudUJ1dHRvbiIsImtleV9wcmVzcyIsInN0YWdlIiwia2V5Q29kZSIsImNsb3NlIiwiYnV0dG9uX2lkIiwieCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJvcGVuX25vdGlmaWNhdGlvbnNfbW9kYWwiLCJhbGxfbm90aWZpY2F0aW9ucyIsIm9wZW5fY2hhdF9tb2RhbCIsImNsZWFyX2FsbF9pbnRlcnZhbHMiLCJvcGVuX3VzZXJfbGlzdCIsImJhckFjdGl2ZVRhYiIsImFsbF91c2VycyIsImZpbHRlclVzZXJzIiwiYWxsX2JhcnMiLCJmaWx0ZXJCYXJzIiwiY2FuVGFsa1RvVXNlciIsImNoYXQiLCJteV91aWQiLCJteV9waWN0dXJlX3VybCIsIm90aGVyX3VzZXIiLCJuZXdfdGV4dF9tZXNzYWdlIiwiTmFtZSIsIm9ubGluZV9zdGF0dXMiLCJtZXNzYWdlcyIsInJlc3AzIiwibW5pZCIsImNoZWNrSWZDYW5SZXBseUludml0YXRpb24iLCJpbnZpdGF0aW9uIiwiY2hlY2tJZldhaXRpbmdSZXBseUZyb21JbnZpdGF0aW9uIiwiZ2V0RHJpbmtDb3N0QnlOaWQiLCJhdmFpbGFibGVfZHJpbmtzIiwiZHJpbmsiLCJDcmVkaXRzIiwiYWNjZXB0SW52aXRhdGlvbiIsInNlbmRfaW52aXRhdGlvbl9yZXNwb25zZSIsInRhbGsiLCJyZWZ1c2VJbnZpdGF0aW9uIiwic2VsZWN0ZWRfZHJpbmsiLCJ1c2VyX2NyZWRpdHMiLCJzZWxlY3RfZHJpbmtfdG9faW52aXRlIiwiZHJpbmtOaWQiLCJzZW5kX2ludml0YXRpb24iLCJjb3N0IiwiY3JlZGl0cyIsInBhcnNlRmxvYXQiLCJ3YXJuaW5nX3N1YiIsIk5ld0NyZWRpdHMiLCJvcGVuU2luZ2xlSW52aXRhdGlvbk1vZGFsRnJvbUNoYXQiLCJpbnZpdGF0aW9ucyIsImRhdGFfcmVzcCIsIkRyaW5rcyIsIlVzZXJDcmVkaXRzIiwib3BlblNpbmdsZUludml0YXRpb25Nb2RhbCIsImRhdGEzIiwiY2xvc2VfbWVzc2FnZV9tb2RhbCIsImNsb3NlX2ludml0YXRpb25fbW9kYWwiLCJzZW5kX21lc3NhZ2Vfb2siLCJnZXROYW1lRnJvbVVpZCIsImdldE5hbWVGcm9tVWlkSW52aXRhdGlvbiIsInRpbWVDb252ZXJ0ZXIiLCJVTklYX3RpbWVzdGFtcCIsInllYXIiLCJtb250aCIsImRheSIsImhvdXIiLCJnZXRIb3VycyIsIm1pbiIsImdldE1pbnV0ZXMiLCJ0aW1lIiwiZ2V0U2Vjb25kcyIsIm1vZGVsIiwiZXh0ZXJuYWxNb2RlbCIsInNlbGVjdGVkSXRlbXMiLCJwcmVzZWxlY3RlZFNlYXJjaEl0ZW1zIiwiY2xpY2tlZFZhbHVlTW9kZWwiLCJyZW1vdmVkVmFsdWVNb2RlbCIsIml0ZW1zUmVtb3ZlZCIsImNhbGxiYWNrIiwidXNlcl9vcHRpb25zIiwibWVudSIsInNob3dfYW5vbnltb3VzX21lbnUiLCJzaG93X3VzZXJfbWVudSIsImhlaWdodCIsIndpZHRoIiwiY3JlYXRlX2ZpZWxkX2FycmF5IiwiY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzIiwiZml4X2ZiX2ltYWdlX2xpbmsiLCJpbmRleE9mIiwicGFydHMiLCJuZXdVcmwiLCJwaG90byIsIm5vbmF1dGgiLCJTaG93TG9jYXRpb24iLCJFc3RhZG8iLCJHZW5kZXIiLCJJbnRlcmVzdGVkSW4iLCJzZXRfdXNlcl9waWN0dXJlIiwiY2xvc2VfbG9naW5fbW9kYWwiLCJzdGF0dXNUZXh0IiwibG9nX2luX2JhY2tncm91bmQiLCJzaG93X2VkaXRfcHJvZmlsZV9tb2RhbCIsImFjdHVhbF9waG90byIsInJlYWRVUkwiLCJpbnB1dCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInNyYyIsInJlYWRBc0RhdGFVUkwiLCJjbG9zZV9lZGl0X3Byb2ZpbGVfbW9kYWwiLCJlZGl0X3Byb2ZpbGVfb2siLCJlZGl0X3Byb2ZpbGUiLCJlZGl0X3JlcXVlc3QiLCJKU09OIiwicGFyc2UiLCJjb2RlIiwiaHR0cF9zdGF0dXMiLCJleGNlcHRpb24iLCJwcm9ncmVzcyIsInVwbG9hZFByb2dyZXNzIiwibG9hZGVkIiwidG90YWwiLCJyb3VuZCIsInN1Y2Nlc3MiLCJsb2dpbl9vayIsInNob3dfc2lnbl91cF9tb2RhbCIsImZ1bGxuYW1lIiwiaWRfZG9jIiwidGVsZXBob25lIiwiY2xvc2Vfc2lnbl91cF9tb2RhbCIsInNpZ25fdXAiLCJzaWduX3VwX29rIiwiaGFzUGhvdG8iLCJmaW5kX21lIiwic2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uIiwiZ2V0TWVzc2FnZVNjb3BlIiwib3BlbkNvdW5jaWxTZWxlY3RvciIsImNsaWNrX29uX3BlcmZpbF9idXR0b24iLCJvYmoxIiwib2JqMiIsIk9iamVjdCIsImtleXMiLCJvcGVuRmlsdGVycyIsImFjdGl2ZVRhYiIsImZpcnN0RWxlbWVudENoaWxkIiwidG9nZ2xlRmlsdGVySW50ZXJlc2Fkb0VuIiwiaW50ZXJlc3QiLCJnb19iYWNrX2Zyb21fZmlsdGVyX21vZGFsIiwiZmlsdGVyZWQiLCJkaXN0YW5jZSIsImJhciIsIkRpc3RhbmNlIiwidmlld19wcm9maWxlIiwiYmFja190byIsImVzdGFkbyIsInBvc3RzIiwiUG9zdHMiLCJwaG90b3MiLCJQaG90b3MiLCJ2aWV3X2Jhcl9wcm9maWxlIiwidmlld19teV9wcm9maWxlIiwic2hvd19nYWxlcnkiLCJiYWNrZHJvcENsaWNrVG9DbG9zZSIsInNob3dfcG9zdCIsInNlbGVjdGVkX3Bvc3QiLCJjbG9zZV9zZWNvbmRhcnlfbW9kYWwiLCJkb19ub3RoaW5nIl0sIm1hcHBpbmdzIjoiQUFPQSxHQUFJQSxTQUNGQyxZQUFhQyxRQUFRQyxPQUFPLHlCQUM1QkMsU0FBVUYsUUFBUUMsT0FBTyxzQkFHM0JILFFBQU9LLElBQU1ILFFBQVFDLE9BQU8sVUFBVyxRQUFRLGVBQWUsbUJBQW1CLG9CQUFxQixxQkFBc0Isa0JBQW1CLGNBRTlJRyxTQUFTLGlCQUNSQyxJQUFLLGlDQUdORCxTQUFTLG1CQUNSQyxJQUFLLGtDQUlOQyxLQUFBLGlCQUFBLGFBQUEsbUJBQUksU0FBU0MsRUFBZ0JDLEVBQVlDLEdBQ3hDRCxFQUFXRSxRQUFVQyxPQUFPRCxRQUM1QkgsRUFBZUssTUFBTSxXQUdmRCxPQUFPRSxTQUFXRixPQUFPRSxRQUFR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ckI5bEIsS0FBSyxTQUFTZ2IsR0FDYmxYLFNBQVNDLGVBQWUsV0FBV0UsTUFBTUMsUUFBVSxPQUNuRGlOLEVBQWEzRyw4QkFDYjJHLEVBQWE3RyxxQkFBdUIwUSxFQUNwQzdKLEVBQWE3RyxxQkFBcUI5RSxPQUNsQzRMLEVBQWlCN0UsbUJBQW1CLDRCQUs1Q1gsRUFBT21hLFVBQVksU0FBUzNwQixHQUd4QndQLEVBQU9vYSxjQUFnQjVwQixFQUNwQmdWLEVBQWlCL0UsZ0JBQWdCLDBCQUNsQ3ZJLFNBQVNDLGVBQWUsV0FBV0UsTUFBTUMsUUFBVSxRQUNuRGtNLEVBQVl5SyxnQkFBZ0IsdUJBQzFCaFQsTUFBTytELEVBQ1BrUCx5QkFBeUIsRUFDekJDLFVBQVcsT0FDWCtLLHNCQUFzQixJQUVyQjlsQixLQUFLLFNBQVNnYixHQUNibFgsU0FBU0MsZUFBZSxXQUFXRSxNQUFNQyxRQUFVLE9BQ25EaU4sRUFBYTNHLDhCQUNiMkcsRUFBYTdHLHFCQUF1QjBRLEVBQ3BDN0osRUFBYTdHLHFCQUFxQjlFLE9BQ2xDNEwsRUFBaUI3RSxtQkFBbUIsNEJBSzlDWCxFQUFPcWEsc0JBQXdCLFdBQzdCOVUsRUFBYTNHLCtCQUdmb0IsRUFBT3NhLFdBQWEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW9uaWMgU3RhcnRlciBBcHBcblxuLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdwbWJfaW0nIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgZXhhbXBsZSAoYWxzbyBzZXQgaW4gYSA8Ym9keT4gYXR0cmlidXRlIGluIGluZGV4Lmh0bWwpXG4vLyB0aGUgMm5kIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiAncmVxdWlyZXMnXG4vLyAnc3RhcnRlci5zZXJ2aWNlcycgaXMgZm91bmQgaW4gc2VydmljZXMuanNcbi8vICdzdGFydGVyLmNvbnRyb2xsZXJzJyBpcyBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xudmFyIHBtYl9pbSA9IHtcbiAgY29udHJvbGxlcnM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uY29udHJvbGxlcnMnLCBbXSksXG4gIHNlcnZpY2VzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLnNlcnZpY2VzJywgW10pXG59O1xuXG5wbWJfaW0uYXBwID0gYW5ndWxhci5tb2R1bGUoJ3BtYl9pbScsIFsnaW9uaWMnLCdpb25pYy53aXphcmQnLCdpb24tYXV0b2NvbXBsZXRlJywnbGVhZmxldC1kaXJlY3RpdmUnLCAncG1iX2ltLmNvbnRyb2xsZXJzJywgJ3BtYl9pbS5zZXJ2aWNlcycsICduZ0NvcmRvdmEnXSlcblxuLmNvbnN0YW50KCdBcGlJbUVuZHBvaW50Jywge1xuICB1cmw6ICdodHRwOi8vd3d3Lm1vbnRldmlkZW8uZ3ViLnV5J1xufSlcblxuLmNvbnN0YW50KCdBcGlEYXRhRW5kcG9pbnQnLCB7XG4gIHVybDogJ2h0dHBzOi8vYmFja2VuZC5lLW9wZW5iYXIuY29tJ1xufSlcblxuXG4ucnVuKGZ1bmN0aW9uKCRpb25pY1BsYXRmb3JtLCAkcm9vdFNjb3BlLCAkY29yZG92YUtleWJvYXJkKSB7XG4gICRyb290U2NvcGUuVkVSU0lPTiA9IHdpbmRvdy5WRVJTSU9OO1xuICAkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAvLyBIaWRlIHRoZSBhY2Nlc3NvcnkgYmFyIGJ5IGRlZmF1bHQgKHJlbW92ZSB0aGlzIHRvIHNob3cgdGhlIGFjY2Vzc29yeSBiYXIgYWJvdmUgdGhlIGtleWJvYXJkXG4gICAgLy8gZm9yIGZvcm0gaW5wdXRzKVxuICAgIGlmICh3aW5kb3cuY29yZG92YSAmJiB3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkKSB7XG4gICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKGZhbHNlKTtcbiAgICAgIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5kaXNhYmxlU2Nyb2xsKGZhbHNlKTtcbiAgICB9XG4gICAgLy8kY29yZG92YUtleWJvYXJkLmhpZGVBY2Nlc3NvcnlCYXIoZmFsc2UpXG4gICAgLy8kY29yZG92YUtleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpXG4gICAgaW9uaWMuUGxhdGZvcm0uaXNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICBpZiAod2luZG93LlN0YXR1c0Jhcikge1xuICAgICAgLy8gb3JnLmFwYWNoZS5jb3Jkb3ZhLnN0YXR1c2JhciByZXF1aXJlZFxuICAgICAgU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG59KVxuXG4uY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIsICRpb25pY0NvbmZpZ1Byb3ZpZGVyKSB7XG4gICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSk7XG4gIC8vJGlvbmljQ29uZmlnUHJvdmlkZXIuc2Nyb2xsaW5nLmpzU2Nyb2xsaW5nKHRydWUpO1xuXG4gIC8vIElvbmljIHVzZXMgQW5ndWxhclVJIFJvdXRlciB3aGljaCB1c2VzIHRoZSBjb25jZXB0IG9mIHN0YXRlc1xuICAvLyBMZWFybiBtb3JlIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlclxuICAvLyBTZXQgdXAgdGhlIHZhcmlvdXMgc3RhdGVzIHdoaWNoIHRoZSBhcHAgY2FuIGJlIGluLlxuICAvLyBFYWNoIHN0YXRlJ3MgY29udHJvbGxlciBjYW4gYmUgZm91bmQgaW4gY29udHJvbGxlcnMuanNcbiAgJHN0YXRlUHJvdmlkZXJcblxuLnN0YXRlKCdhcHAnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvYXBwXCIsXG4gICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21lbnUuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6ICdBYnNDb250cm9sbGVyJ1xuICB9KVxuXG4uc3RhdGUoJ2FwcC5tYXAnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvbWFwXCIsXG4gICAgdmlld3M6IHtcbiAgICAgICdtZW51Q29udGVudCcgOntcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21hcC5odG1sXCIsXG4gICAgICAgIGNvbnRyb2xsZXIgOiBcIk1hcENvbnRyb2xsZXJcIlxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuLnN0YXRlKCdhcHAuaW50cm8nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9pbnRyb1wiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9pbnRyby5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJJbnRyb0N0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvaW50cm8nKTtcblxufSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQXV0aFNlcnZpY2UnLCBbJyRodHRwJywgJyRjb3Jkb3ZhRmlsZVRyYW5zZmVyJywgJ0NvbmZpZ1NlcnZpY2UnLCdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCAkY29yZG92YUZpbGVUcmFuc2ZlciwgQ29uZmlnU2VydmljZSwgVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIjtcblxuICByZXR1cm4ge1xuICAgIGxvZ19pbjogZnVuY3Rpb24gKHVzZXIscGFzc3dvcmQpIHtcbiAgICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXIrJyZwYXNzd29yZD0nK3Bhc3N3b3JkO1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2xvZ2luJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH0sXG5cbiAgICBzaWduX291dDogZnVuY3Rpb24gKHBhc3N3b3JkLCBlbWFpbCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJzaWduX291dFwiLCB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSwgcGFyYW1zOiB7IHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLCBlbWFpbDogZW1haWwgfSB9KTtcbiAgICB9LFxuXG4gICAgY3JlYXRlX3VzZXI6IGZ1bmN0aW9uICh1c2VyT2JqKSB7XG4gICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIC8vZmlsZU5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgLy9jaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICAvL21pbWVUeXBlOiBcImltYWdlL2pwZ1wiLFxuICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgcGFyYW1zIDogeyAgdXNlcjogdXNlck9iai51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyT2JqLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJPYmouZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IHVzZXJPYmouZ2VuZGVyLFxuICAgICAgICAgICAgICAgICAgICAgaW50ZXJlc3RlZDogdXNlck9iai5pbnRlcmVzdGVkLFxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB1c2VyT2JqLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHVzZXJPYmouc2hvd19sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJjcmVhdGVfdXNlclwiLCB1c2VyT2JqLnBpY3R1cmVfdXJsLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsKXtcbiAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwaG90b1wiLCB1c2VyT2JqLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJ1c2VyXCIsIHVzZXJPYmoudXNlcm5hbWUpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInBhc3N3b3JkXCIsIHVzZXJPYmoucGFzc3dvcmQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImVtYWlsXCIsIHVzZXJPYmouZW1haWwpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImdlbmRlclwiLCB1c2VyT2JqLmdlbmRlcik7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiaW50ZXJlc3RlZFwiLCB1c2VyT2JqLmludGVyZXN0ZWQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInN0YXR1c1wiLCB1c2VyT2JqLnN0YXR1cyk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwic2hvd19sb2NhdGlvblwiLCB1c2VyT2JqLnNob3dfbG9jYXRpb24pO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnY3JlYXRlX3VzZXInLCBmb3JtRGF0YSwge1xuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eVxuICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlck9iai51c2VybmFtZSsnJnBhc3N3b3JkPScrdXNlck9iai5wYXNzd29yZCsnJmVtYWlsPScrdXNlck9iai5lbWFpbCsnJmdlbmRlcj0nK3VzZXJPYmouZ2VuZGVyO1xuICAgICAgICAgIGJvZHkgPSBib2R5ICsnJmludGVyZXN0ZWQ9Jyt1c2VyT2JqLmludGVyZXN0ZWQrJyZzdGF0dXM9Jyt1c2VyT2JqLnN0YXR1cysnJnNob3dfbG9jYXRpb249Jyt1c2VyT2JqLnNob3dfbG9jYXRpb247XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdjcmVhdGVfdXNlcicsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSxcblxuICAgIHBhc3N3b3JkX3JlY292ZXJ5OiBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiZm9yZ290X3Bhc3N3b3JkXCIsIHsgcGFyYW1zOiB7IGxvZ2luX2VtYWlsOiBlbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgcGFzc3dvcmRfY2hhbmdlOiBmdW5jdGlvbiAoZW1haWwsb2xkUGFzc3dvcmQsbmV3UGFzc3dvcmQsY29uZmlybVBhc3N3b3JkKSB7XG5cbiAgICAgIHZhciBib2R5ID0gJ2VtYWlsPScrZW1haWwrJyZwYXNzd29yZF9zaWduX2luPScrb2xkUGFzc3dvcmQrJyZuZXdfcGFzc3dvcmQ9JytuZXdQYXNzd29yZCsnJmNvbmZpcm09Jytjb25maXJtUGFzc3dvcmQ7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2NoYW5nZV9wYXNzd29yZCcsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG5cbiAgICB9LFxuXG5cbiAgICBlZGl0X3VzZXI6IGZ1bmN0aW9uICh1c2VyT2JqKSB7XG4gICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIC8vZmlsZU5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgLy9jaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICAvL21pbWVUeXBlOiBcImltYWdlL2pwZ1wiLFxuICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgcGFyYW1zIDogeyAgdXNlcjogdXNlck9iai51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyT2JqLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJPYmouZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IHVzZXJPYmouZ2VuZGVyLFxuICAgICAgICAgICAgICAgICAgICAgaW50ZXJlc3RlZDogdXNlck9iai5pbnRlcmVzdGVkLFxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB1c2VyT2JqLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHVzZXJPYmouc2hvd19sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJlZGl0X3Byb2ZpbGVcIiwgdXNlck9iai5waWN0dXJlX3VybCwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJPYmoudXNlcm5hbWUrJyZwYXNzd29yZD0nK3VzZXJPYmoucGFzc3dvcmQrJyZlbWFpbD0nK3VzZXJPYmouZW1haWwrJyZnZW5kZXI9Jyt1c2VyT2JqLmdlbmRlcjtcbiAgICAgICAgYm9keSA9IGJvZHkgKycmaW50ZXJlc3RlZD0nK3VzZXJPYmouaW50ZXJlc3RlZCsnJnN0YXR1cz0nK3VzZXJPYmouc3RhdHVzKycmc2hvd19sb2NhdGlvbj0nK3VzZXJPYmouc2hvd19sb2NhdGlvbjtcbiAgICAgICAgaWYodXNlck9iai5waWN0dXJlX3VybCl7XG4gICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwicGhvdG9cIiwgdXNlck9iai5waWN0dXJlX3VybCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwidXNlclwiLCB1c2VyT2JqLnVzZXJuYW1lKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwYXNzd29yZFwiLCB1c2VyT2JqLnBhc3N3b3JkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJlbWFpbFwiLCB1c2VyT2JqLmVtYWlsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJnZW5kZXJcIiwgdXNlck9iai5nZW5kZXIpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImludGVyZXN0ZWRcIiwgdXNlck9iai5pbnRlcmVzdGVkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJzdGF0dXNcIiwgdXNlck9iai5zdGF0dXMpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInNob3dfbG9jYXRpb25cIiwgdXNlck9iai5zaG93X2xvY2F0aW9uKTtcbiAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2VkaXRfcHJvZmlsZScsIGZvcm1EYXRhLCB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZWRpdF9wcm9maWxlJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQmFyU2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGFwaVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIlxuICB2YXIgQmFyT2JqID0ge307XG4gIEJhck9iai51aWQgPSBudWxsO1xuICBCYXJPYmoubmFtZSA9IG51bGw7XG5cblxuICBCYXJPYmouZ2V0QmFyTGlzdCA9IGZ1bmN0aW9uKHVzZXJuYW1lLHBhc3N3b3JkLHVpZCxhdXRob3JfdWlkKXtcbiAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVVJMICsgJ2dldF9iYXJfbGlzdCcsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gIH1cblxuICBCYXJPYmouZ2V0QmFySW5mbyA9IGZ1bmN0aW9uKG5pZCl7XG4gICAgcmV0dXJuICRodHRwLmdldChhcGlVUkwgKyAnZ2V0X2Jhcl9pbmZvJywge2NhY2hlOiBmYWxzZSwgcGFyYW1zOiB7bmlkOm5pZCwgaGFzaF9pZDpNYXRoLnJhbmRvbSgpfX0pO1xuICB9XG5cbiAgcmV0dXJuIEJhck9iajtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0NvbmZpZ1NlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICB2YXIgQ29uZmlnT2JqID0ge307XG4gIC8vQ29uZmlnT2JqLmJhc2VVUkwgPSBcImh0dHBzOi8vcG1iZGV2LmRldmVsb3BtZW50LmRhdGF1eS5vcmdcIjtcbiAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcImh0dHBzOi8vYmFja2VuZC5lLW9wZW5iYXIuY29tXCI7XG4gIGlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICBDb25maWdPYmouYmFzZVVSTCA9IFwiaHR0cHM6Ly9iYWNrZW5kLmUtb3BlbmJhci5jb21cIjtcbiAgfSBlbHNlIHtcbiAgICBDb25maWdPYmouYmFzZVVSTCA9IFwiL2JhY2tlbmRcIjtcbiAgfVxuICBDb25maWdPYmouQXBwTmFtZSA9IFwiZS1vcGVuYmFyXCI7XG5cbiAgQ29uZmlnT2JqLmJhc2VDb2JyYW5kID0gXCIvY29icmFuZHMvcG9ybWliYXJyaW9cIjtcblxuICByZXR1cm4gQ29uZmlnT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29ubmVjdGl2aXR5U2VydmljZScsIFsnJGNvcmRvdmFOZXR3b3JrJywgZnVuY3Rpb24oJGNvcmRvdmFOZXR3b3JrKXtcblxuICByZXR1cm4ge1xuICAgIGlzT25saW5lOiBmdW5jdGlvbigpe1xuICAgICAgLyppZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHJldHVybiAkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgICAvL3JldHVybiBmYWxzZTtcbiAgICAgIH0qL1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBpc09mZmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAvKmlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICEkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAhbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgIH0qL1xuICAgIH1cbiAgfVxufV0pXG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnREJTZXJ2aWNlJywgWyckcScsIGZ1bmN0aW9uKCRxKSB7XG4gICB2YXIgX2RiO1xuXG4gICByZXR1cm4ge1xuICAgICAgIGluaXREQjogaW5pdERCLFxuICAgICAgIHNhdmVVc2VyOiBzYXZlVXNlcixcbiAgICAgICBnZXRVc2VyOiBnZXRVc2VyLFxuICAgICAgIGVyYXNlVXNlcjogZXJhc2VVc2VyLFxuICAgICAgIHNhdmVSZXBvcnQ6IHNhdmVSZXBvcnQsXG4gICAgICAgZ2V0UmVwb3J0OiBnZXRSZXBvcnQsXG4gICAgICAgZ2V0QWxsUmVwb3J0czogZ2V0QWxsUmVwb3J0cyxcbiAgICAgICB1cGRhdGVSZXBvcnQ6IHVwZGF0ZVJlcG9ydCxcbiAgICAgICBkZWxldGVSZXBvcnQ6IGRlbGV0ZVJlcG9ydCxcbiAgICAgICBkZWxldGVHaXZlblJlcG9ydDogZGVsZXRlR2l2ZW5SZXBvcnQsXG4gICAgICAgZ2V0Q2F0ZWdvcmllczogZ2V0Q2F0ZWdvcmllcyxcbiAgICAgICBzYXZlQ2F0ZWdvcmllczogc2F2ZUNhdGVnb3JpZXNcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVVc2VyKHVzZXJfbmFtZSwgdXNlcl9wYXNzd29yZCwgdXNlcl9waWN0dXJlX3VybCxzaG93X2xvY2F0aW9uLCB1aWQsIHN0YXR1cywgZ2VuZGVyLCBpbnRlcmVzdGVkKSB7XG4gICAgICAgICB2YXIgdXNlciA9IHtcbiAgICAgICAgICAgIF9pZDogJ3VzZXItbG9nZ2VkJyxcbiAgICAgICAgICAgIG5hbWU6IHVzZXJfbmFtZSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyX3Bhc3N3b3JkLFxuICAgICAgICAgICAgcGljdHVyZV91cmw6IHVzZXJfcGljdHVyZV91cmwsXG4gICAgICAgICAgICBzaG93X2xvY2F0aW9uOiBzaG93X2xvY2F0aW9uLFxuICAgICAgICAgICAgdWlkOiB1aWQsXG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICAgIGdlbmRlcjogZ2VuZGVyLFxuICAgICAgICAgICAgaW50ZXJlc3RlZDogaW50ZXJlc3RlZFxuICAgICAgICAgfTtcbiAgICAgICAgIGdldFVzZXIoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgdXNlci5fcmV2ID0gZG9jLl9yZXY7XG4gICAgICAgICAgIHJldHVybiBfZGIucHV0KHVzZXIpO1xuICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICByZXR1cm4gX2RiLnB1dCh1c2VyKTtcbiAgICAgICAgIH0pXG4gICB9O1xuXG4gIGZ1bmN0aW9uIGdldFVzZXIoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVyYXNlVXNlcigpIHtcbiAgICBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2RiLnJlbW92ZShkb2MpO1xuICAgIH0pO1xuICB9XG5cbiAgIGZ1bmN0aW9uIGluaXREQigpIHtcbiAgICAgICAvLyBDcmVhdGVzIHRoZSBkYXRhYmFzZSBvciBvcGVucyBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgIF9kYiA9IG5ldyBQb3VjaERCKCd0b21hbW9zdW5hX2xvY2FsX2RiJyk7XG4gICAgICAgcmV0dXJuIF9kYjtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVSZXBvcnQocmVwb3J0KSB7XG4gICAgICAvL25ld19yZXBvcnRfaWQgPSBcInJlcG9ydF9cIiArIHBvdWNoQ29sbGF0ZS50b0luZGV4YWJsZVN0cmluZyhbcmVwb3J0XSk7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICB2YXIgbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgZGF0ZS5nZXRGdWxsWWVhcigpICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpICsgZGF0ZS5nZXREYXRlKCkgKyBkYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgcmVwb3J0Ll9pZCA9IG5ld19yZXBvcnRfaWQ7XG4gICAgICByZXR1cm4gX2RiLnB1dChyZXBvcnQpO1xuICAgfTtcblxuICAgZnVuY3Rpb24gdXBkYXRlUmVwb3J0KHJlcG9ydCkge1xuICAgICByZXR1cm4gX2RiLnB1dChyZXBvcnQpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRDYXRlZ29yaWVzKCkge1xuICAgICByZXR1cm4gX2RiLmdldCgnY2F0ZWdvcmllcy1saXN0Jyk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlQ2F0ZWdvcmllcyhjYXRlZ29yaWVzKSB7XG4gICAgIGdldENhdGVnb3JpZXMoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICBjYXRlZ29yaWVzLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICByZXR1cm4gX2RiLnB1dChjYXRlZ29yaWVzKTtcbiAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgIGNhdGVnb3JpZXMuX2lkID0gXCJjYXRlZ29yaWVzLWxpc3RcIjtcbiAgICAgICByZXR1cm4gX2RiLnB1dChjYXRlZ29yaWVzKTtcbiAgICAgfSlcbiAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0UmVwb3J0KHJlcG9ydElkKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KHJlcG9ydElkKTtcbiAgfTtcblxuICAgZnVuY3Rpb24gZ2V0QWxsUmVwb3J0cygpIHtcbiAgICAgcmV0dXJuIF9kYi5hbGxEb2NzKHtcbiAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgIGF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgICAgIHN0YXJ0a2V5OiAncmVwb3J0XycsXG4gICAgICBlbmRrZXk6ICdyZXBvcnRfXFx1ZmZmZidcbiAgICAgfSk7LyoudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAvLyBoYW5kbGUgcmVzdWx0XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTsqL1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlbGV0ZVJlcG9ydChyZXBvcnRfaWQpIHtcbiAgICBfZGIuZ2V0KHJlcG9ydF9pZCkudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfZGIucmVtb3ZlKGRvYyk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlR2l2ZW5SZXBvcnQocmVwb3J0KSB7XG4gICAgcmV0dXJuIF9kYi5yZW1vdmUocmVwb3J0KTtcbiAgfTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0RyaW5rU2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRBbGxEcmlua3NBdmFpbGFibGU6IGZ1bmN0aW9uICh1c2VybmFtZSxwYXNzd29yZCkge1xuICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmhhc2hfaWQ9JytNYXRoLnJhbmRvbSgpO1xuICAgICAgLy9ib2R5ID0gYm9keSArJyZpbnRlcmVzdGVkPScrdXNlck9iai5pbnRlcmVzdGVkKycmc3RhdHVzPScrdXNlck9iai5zdGF0dXMrJyZzaG93X2xvY2F0aW9uPScrdXNlck9iai5zaG93X2xvY2F0aW9uO1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdnZXRfcG9zc2libGVfZHJpbmtzJywgYm9keSx7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICB9LFxuXG4gICAgZ2V0QWxsSW52aXRhdGlvbnNXaXRoVXNlcjogZnVuY3Rpb24gKHVzZXJuYW1lLHBhc3N3b3JkLGRlc3RpbmF0aW9uX3VpZCxhdXRob3JfdWlkKSB7XG4gICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgICBib2R5ID0gYm9keSArJyZ1aWQ9JytkZXN0aW5hdGlvbl91aWQrJyZhdXRob3JfdWlkPScrYXV0aG9yX3VpZDtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZ2V0X2ludml0YXRpb25zX2JldHdlZW5fdXNlcnMnLCBib2R5LHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH0sXG5cbiAgICBzZW5kRHJpbmtJbnZpdGF0aW9uVG9Vc2VyOiBmdW5jdGlvbihkcmlua19uaWQsZGVzdGluYXRpb25fdWlkLGF1dGhvcl91aWQsdXNlcm5hbWUscGFzc3dvcmQpe1xuICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmRyaW5rX25pZD0nK2RyaW5rX25pZCsnJmRlc3RpbmF0aW9uX3VpZD0nK2Rlc3RpbmF0aW9uX3VpZCsnJmF1dGhvcl91aWQ9JythdXRob3JfdWlkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ3NlbmRfZHJpbmtfaW52aXRhdGlvbicsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICB9LFxuXG4gICAgc2VuZERyaW5rSW52aXRhdGlvblJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSx1c2VybmFtZSxwYXNzd29yZCxpbnZpdGF0aW9uX25pZCxkZXN0aW5hdGlvbl91aWQpe1xuICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2U9JytyZXNwb25zZSsnJnVzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZpbnZpdGF0aW9uX25pZD0nK2ludml0YXRpb25fbmlkKycmZGVzdGluYXRpb25fdWlkPScrZGVzdGluYXRpb25fdWlkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2ludml0YXRpb25fcmVzcG9uc2UnLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnRXJyb3JTZXJ2aWNlJywgWyckaHR0cCcsJyRpb25pY1BvcHVwJywgJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGpzb25SZXN1bHQsIHdhcm5pbmdPYmopIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YSAmJiBqc29uUmVzdWx0LmRhdGEuU3RhdHVzPT1cInN1Y2Nlc3NcIiB8fCBqc29uUmVzdWx0LlN0YXR1cz09XCJzdWNjZXNzXCIpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZihqc29uUmVzdWx0LmRhdGEpe1xuICAgICAgICAgIHdhcm5pbmdPYmoud2FybmluZyA9IGpzb25SZXN1bHQuZGF0YS5NZXNzYWdlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB3YXJuaW5nT2JqLndhcm5pbmcgPSBqc29uUmVzdWx0Lk1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZToganNvblJlc3VsdC5kYXRhLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoZGF0YSwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihkYXRhLlN0YXR1cyE9J3N1Y2Nlc3MnKXtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgZGF0YS5NZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGlmKGRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2U6IGZ1bmN0aW9uIChlcnJvckNvbnRhaW5lcklkLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBtZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIHNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cDogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgdGVtcGxhdGU6IG1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGNoZWNrX2ZpZWxkczogZnVuY3Rpb24gKGZpZWxkcywgd2FybmluZ09iaikge1xuICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgICAgICBpZihmaWVsZC50eXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJ0VsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gcHVlZGUgZXN0YXIgdmFjw61vLiAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImVtYWlsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lbWFpbChmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJ0VsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuICc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLiAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBkZWJlIGNvbnRlbmVyIGFsIG1lbm9zIGRvcyBwYWxhYnJhcy4gJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJlcXVhbHNUb1wiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZXF1YWxzVG8oZmllbGQudmFsdWUsIGZpZWxkLnNlY29uZFZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnTG9zIGNhbXBvcyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIGNvaW5jaWRlbi4gJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYoZXJyb3JzID09XCJcIil7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHdhcm5pbmdPYmoud2FybmluZyA9IGVycm9ycztcbiAgICAgICAgLyp2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPSBlcnJvcnM7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7Ki9cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9hZGVyJywgWyckaW9uaWNMb2FkaW5nJywgJyR0aW1lb3V0JywnJGlvbmljUG9wdXAnLGZ1bmN0aW9uKCRpb25pY0xvYWRpbmcsJHRpbWVvdXQsJGlvbmljUG9wdXApIHtcblxuICB2YXIgTE9BREVSQVBJID0ge1xuXG4gICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHRleHQgPSB0ZXh0IHx8ICdMb2FkaW5nLi4uJztcbiAgICAgICRpb25pY0xvYWRpbmcuc2hvdyh7XG4gICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgfSxcblxuICAgIHRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZTogZnVuY3Rpb24odGV4dCwgdGltZW91dCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLnNob3dMb2FkaW5nKHRleHQpO1xuXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5oaWRlTG9hZGluZygpO1xuICAgICAgfSwgdGltZW91dCB8fCAzMDAwKTtcbiAgICB9LFxuXG4gICAgY29uZmlybVBvcHVwOmZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICB0aXRsZTogdGl0bGUsXG4gICAgIHRlbXBsYXRlOiB0ZXh0XG4gICB9KTtcbiAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gfSxcblxuXG4gICAgc2hvd0FsZXJ0OmZ1bmN0aW9uKF90aXRsZSxfdGVtcGxhdGUpIHtcbiAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICB0aXRsZTogX3RpdGxlLFxuICAgICAgICB0ZW1wbGF0ZTogX3RlbXBsYXRlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGVydFBvcHVwO1xuIH1cblxuICB9O1xuICByZXR1cm4gTE9BREVSQVBJO1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvY2F0aW9uc1NlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBsb2NhdGlvbnNPYmogPSB7fTtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmxhc3RfdXNlcl9sYXQgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xuZyA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5jb3VuY2lsX21vZGFsID0gbnVsbDtcbiAgbG9jYXRpb25zT2JqLnNlbGVjdGVkX2NvdW5jaWwgPSBudWxsO1xuXG4gIGxvY2F0aW9uc09iai5zZWxlY3RDb3VuY2lsID0gZnVuY3Rpb24oY291bmNpbE5hbWUpIHtcbiAgICBsb2NhdGlvbnNPYmouc2VsZWN0ZWRfY291bmNpbCA9ICBjb3VuY2lsTmFtZTtcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlX2luaXRpYWxfcG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIGxvY2F0aW9uc09iai5pbml0aWFsX2xhdCA9ICBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZV9sYXN0X3VzZXJfcG9zaXRpb24gPSBmdW5jdGlvbihsYXQsbG5nKXtcbiAgICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xhdCA9IGxhdDtcbiAgICBsb2NhdGlvbnNPYmoubGFzdF91c2VyX2xuZyA9IGxuZztcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlZExvY2F0aW9ucyA9IFtdO1xuXG4gIHJldHVybiBsb2NhdGlvbnNPYmo7XG5cbn1dKTtcbiIsIiAvL3BtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcbiBwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTWFwU2VydmljZScsIFsnbGVhZmxldERhdGEnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbihsZWFmbGV0RGF0YSwgJGNvbXBpbGUpIHtcblxuICAgLy9EZWZpbmljaW9uIGRlIGxhIHByb3llY2NjaW9uIFVUTSAyMSBzXG4gICBwcm9qNC5kZWZzKCdFUFNHOjMyNzIxJywgJytwcm9qPXV0bSArem9uZT0yMSArc291dGggK2VsbHBzPVdHUzg0ICtkYXR1bT1XR1M4NCArdW5pdHM9bSArbm9fZGVmcycpO1xuXG5cbiAgIHZhciBtYXBTZXJ2aWNlID0ge307XG5cbiAgIG1hcFNlcnZpY2UuZ29Ub1BsYWNlID0gZnVuY3Rpb24obmFtZSxsYXQsbG9uLHNjb3BlKSB7XG4gICAgdmFyIF9nZW9Kc29uID0ge1xuICAgICAgICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICAgICAgICBcImNyc1wiOiB7IFwidHlwZVwiOiBcIm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6ICd1cm46b2djOmRlZjpjcnM6RVBTRzo6MzI3MjEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFwiZmVhdHVyZXNcIjogW1xuICAgICAgICAgICAgICAgIHsgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjp7XG4gICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOlwiUG9pbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOltsYXQsbG9uXVxuICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6e1xuICAgICAgICAgICAgICAgICAgICAgIFwibm9tYnJlXCI6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgIHZhciBfbGF0bG5nO1xuICAgICAgIHZhciBsYXllciA9IEwuUHJvai5nZW9Kc29uKF9nZW9Kc29uLCB7XG4gICAgICAgICAncG9pbnRUb0xheWVyJzogZnVuY3Rpb24oZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgIF9sYXRsbmcgPSBsYXRsbmc7XG4gICAgICAgICAgIHZhciBodG1sUG9wVXAgPSBcIjxwIGFsaWduPSdjZW50ZXInPlwiK2ZlYXR1cmUucHJvcGVydGllcy5ub21icmUrXCIgPGJyLz4gPGEgbmctY2xpY2s9J25ld19yZXBvcnRfZnJvbV9sYXRsb24oXCIrX2xhdGxuZy5sYXQrXCIsXCIrX2xhdGxuZy5sbmcrXCIpOyc+SW5pY2lhciByZXBvcnRlIGFxdcOtPC9hPjwvcD5cIjtcbiAgICAgICAgICAgdmFyIGNvbXBpbGVkID0gJGNvbXBpbGUoaHRtbFBvcFVwKShzY29wZSk7XG4gICAgICAgICAgIHJldHVybiBMLm1hcmtlcihsYXRsbmcpLmJpbmRQb3B1cChjb21waWxlZFswXSk7XG4gICAgICAgICB9XG4gICAgICAgfSk7XG5cbiAgICAgICBsYXllci5hZGRUbyhtYXApO1xuICAgICAgIG1hcC5zZXRWaWV3KF9sYXRsbmcsIDE4KTtcbiAgICAgICBsYXllci5vcGVuUG9wdXAoKTtcbiAgICAgfSk7XG4gICB9O1xuXG4gIG1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMgPSBmdW5jdGlvbihsYXQsbG5nLHpvb20pIHtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLnNldFZpZXcobmV3IEwuTGF0TG5nKGxhdCwgbG5nKSx6b29tKTtcbiAgICAgICB9KTtcbiAgICAgfVxuXG4gICByZXR1cm4gbWFwU2VydmljZTtcblxuIH1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNZXNzYWdlU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGFwaVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIlxuLyoqXG4gICAqIENvbnN0cnVjdG9yLCB3aXRoIGNsYXNzIG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIE1lc3NhZ2UoX2RhdGEpIHtcbiAgICBhbmd1bGFyLmV4dGVuZCh0aGlzLCBfZGF0YSk7XG4gIH1cblxuXG4gIE1lc3NhZ2UuZ2V0QWxsTWVzc2FnZXNUb1VzZXIgPSBmdW5jdGlvbih1c2VybmFtZSxwYXNzd29yZCx1aWQsYXV0aG9yX3VpZCl7XG4gICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmF1dGhvcl91aWQ9JythdXRob3JfdWlkKycmdWlkPScrdWlkKycmaGFzaF9pZD0nK01hdGgucmFuZG9tKCk7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVVJMICsgJ2dldF9hbGxfbWVzc2FnZXNfdG9fdXNlcicsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gIH1cblxuICBNZXNzYWdlLmdldEFsbE1lc3NhZ2VzID0gZnVuY3Rpb24odXNlcm5hbWUscGFzc3dvcmQpe1xuICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZoYXNoX2lkPScrTWF0aC5yYW5kb20oKTtcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVUkwgKyAnZ2V0X2FsbF9tZXNzYWdlcycsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gIH1cblxuICBNZXNzYWdlLmdldFVzZXJJbmZvID0gZnVuY3Rpb24odWlkKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGFwaVVSTCArICdnZXRfdXNlcl9pbmZvJywge2NhY2hlOiBmYWxzZSwgcGFyYW1zOiB7dWlkOnVpZCwgaGFzaF9pZDpNYXRoLnJhbmRvbSgpfX0pO1xuICB9XG5cbiAgTWVzc2FnZS5zZW5kVGV4dE1lc3NhZ2VUb1VzZXIgPSBmdW5jdGlvbih0ZXh0LGRlc3RpbmF0aW9uX3VpZCxhdXRob3JfdWlkLHVzZXJuYW1lLHBhc3N3b3JkKXtcbiAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmdGV4dD0nK3RleHQrJyZkZXN0aW5hdGlvbl91aWQ9JytkZXN0aW5hdGlvbl91aWQrJyZhdXRob3JfdWlkPScrYXV0aG9yX3VpZDtcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVUkwgKyAnc2VuZF90ZXh0X21lc3NhZ2UnLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gIH1cblxuICBNZXNzYWdlLmNoZWNrV2hvQ2FuVGFsayA9IGZ1bmN0aW9uKHVzZXJuYW1lLHBhc3N3b3JkKXtcbiAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkO1xuICAgIHJldHVybiAkaHR0cC5wb3N0KGFwaVVSTCArICdjaGVja191c2VyX3RhbGsnLCBib2R5LHt3aXRoQ3JlZGVudGlhbHM6IHRydWUsIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG4gIH1cblxuXG4gICAgTWVzc2FnZS5jYW5UYWxrVG9Vc2VycyA9IG5ldyBBcnJheSgpO1xuICAgIE1lc3NhZ2UuY3VycmVudCA9IHt9O1xuXG5cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgbWV0aG9kLCBhc3NpZ25lZCB0byBjbGFzc1xuICAgICAqIEluc3RhbmNlICgndGhpcycpIGlzIG5vdCBhdmFpbGFibGUgaW4gc3RhdGljIGNvbnRleHRcbiAgICAgKi9cbiAgICBNZXNzYWdlLmJ1aWxkID0gZnVuY3Rpb24oX2RhdGEpIHtcblxuICAgICAgcmV0dXJuIG5ldyBNZXNzYWdlKFxuICAgICAgICBfZGF0YVxuICAgICAgKTtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICovXG4gICAgcmV0dXJuIE1lc3NhZ2U7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNb2RhbFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBtb2RhbE9CSiA9IHt9O1xuICBtb2RhbE9CSi5hY3RpdmVNb2RhbCA9IG51bGw7XG4gIG1vZGFsT0JKLmFjdGl2ZU1vZGFsU2Vjb25kYXJ5ID0gbnVsbDtcblxuXG4gIG1vZGFsT0JKLmNoZWNrTm9Nb2RhbElzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKG1vZGFsT0JKLmFjdGl2ZU1vZGFsU2Vjb25kYXJ5KXtcbiAgICAgIG1vZGFsT0JKLmFjdGl2ZU1vZGFsU2Vjb25kYXJ5LmhpZGUoKTtcbiAgICAgIG1vZGFsT0JKLmFjdGl2ZU1vZGFsU2Vjb25kYXJ5LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZihtb2RhbE9CSi5hY3RpdmVNb2RhbCl7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5oaWRlKCk7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbC5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICBtb2RhbE9CSi5jaGVja05vU2Vjb25kYXJ5TW9kYWxJc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZihtb2RhbE9CSi5hY3RpdmVNb2RhbFNlY29uZGFyeSl7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbFNlY29uZGFyeS5oaWRlKCk7XG4gICAgICBtb2RhbE9CSi5hY3RpdmVNb2RhbFNlY29uZGFyeS5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuXG5cbiAgcmV0dXJuIG1vZGFsT0JKO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTm90aWZpY2F0aW9uU2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRVbnJlY2l2ZWROb3RpZmljYXRpb25zOiBmdW5jdGlvbiAodXNlcm5hbWUscGFzc3dvcmQpIHtcbiAgICAgIHZhciBib2R5ID0gJ3VzZXI9Jyt1c2VybmFtZSsnJnBhc3N3b3JkPScrcGFzc3dvcmQrJyZoYXNoX2lkPScrTWF0aC5yYW5kb20oKTtcbiAgICAgIC8vYm9keSA9IGJvZHkgKycmaW50ZXJlc3RlZD0nK3VzZXJPYmouaW50ZXJlc3RlZCsnJnN0YXR1cz0nK3VzZXJPYmouc3RhdHVzKycmc2hvd19sb2NhdGlvbj0nK3VzZXJPYmouc2hvd19sb2NhdGlvbjtcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZ2V0X3VucmVjaXZlZF9ub3RpZmljYXRpb25zJywgYm9keSx7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICB9LFxuXG4gICAgZG9udFNob3dOb3RpZmljYXRpb25BZ2FpbjogZnVuY3Rpb24gKHVzZXJuYW1lLHBhc3N3b3JkLG5pZCkge1xuICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJm5pZD0nK25pZCsnJmhhc2hfaWQ9JytNYXRoLnJhbmRvbSgpO1xuICAgICAgLy9ib2R5ID0gYm9keSArJyZpbnRlcmVzdGVkPScrdXNlck9iai5pbnRlcmVzdGVkKycmc3RhdHVzPScrdXNlck9iai5zdGF0dXMrJyZzaG93X2xvY2F0aW9uPScrdXNlck9iai5zaG93X2xvY2F0aW9uO1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdkb250X3Nob3dfbm90aWZpY2F0aW9uX2FnYWluJywgYm9keSx7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICB9LFxuXG4gICAgZ2V0QWxsTm90aWZpY2F0aW9uczogZnVuY3Rpb24odXNlcm5hbWUscGFzc3dvcmQpe1xuICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmhhc2hfaWQ9JytNYXRoLnJhbmRvbSgpO1xuICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdnZXRfYWxsX25vdGlmaWNhdGlvbnMnLCBib2R5LHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH1cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1BpblNlcnZpY2UnLCBbJyRodHRwJywgJ2xlYWZsZXREYXRhJywnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBsZWFmbGV0RGF0YSwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBwaW5zVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvc2l0ZXMvdG9tYW1vc191bmEvZmlsZXMvanNvbi91c2Vyc19nZW8uanNvblwiO1xuICB2YXIgcGluc1VSTGZvclVzZXIgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hcGkvZ2V0X3VzZXJzX2dlb2pzb25fYnlfdXNlci9hbGxcIjtcblxuICB2YXIgYXBpVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL1wiXG4vKipcbiAgICogQ29uc3RydWN0b3IsIHdpdGggY2xhc3MgbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gUGluKF9kYXRhKSB7XG4gICAgYW5ndWxhci5leHRlbmQodGhpcywgX2RhdGEpO1xuICB9XG5cblxuICBQaW4uZ2V0QWxsID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KHBpbnNVUkwsIHtjYWNoZTogZmFsc2UsIHBhcmFtczoge2hhc2hfaWQ6TWF0aC5yYW5kb20oKX19KTtcbiAgfVxuXG4gIFBpbi5nZXRBbGxCeVVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSxwYXNzd29yZCl7XG4gICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZDtcbiAgICByZXR1cm4gJGh0dHAucG9zdChwaW5zVVJMZm9yVXNlciwgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICB9XG5cbiAgUGluLnNlbmRVc2VyTG9jYXRpb24gPSBmdW5jdGlvbihsYXRpdHVkZSxsb25naXR1ZGUsdXNlcm5hbWUscGFzc3dvcmQsdWlkKXtcbiAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlcm5hbWUrJyZwYXNzd29yZD0nK3Bhc3N3b3JkKycmbGF0PScrbGF0aXR1ZGUrJyZsb249Jytsb25naXR1ZGUrXCImdWlkPVwiK3VpZDtcbiAgICByZXR1cm4gJGh0dHAucG9zdChhcGlVUkwgKyAnc2VuZF91c2VyX3Bvc2l0aW9uJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuXG4gIH1cblxuXG4gICAgUGluLl9hbGwgPSBbXTtcbiAgICBQaW4uY3VycmVudCA9IHt9O1xuICAgIFBpbi5sYXN0UGluc1Jlc3BvbnNlID0gbnVsbDtcblxuXG5cblxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBtZXRob2QsIGFzc2lnbmVkIHRvIGNsYXNzXG4gICAgICogSW5zdGFuY2UgKCd0aGlzJykgaXMgbm90IGF2YWlsYWJsZSBpbiBzdGF0aWMgY29udGV4dFxuICAgICAqL1xuICAgIFBpbi5idWlsZCA9IGZ1bmN0aW9uKF9kYXRhKSB7XG5cbiAgICAgIHJldHVybiBuZXcgUGluKFxuICAgICAgICBfZGF0YVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgUGluLnByb3RvdHlwZS5zZXRMYXRMbmcgPSBmdW5jdGlvbiAobGF0bG5nKSB7XG5cbiAgICAgIHRoaXMubGF0ID0gbGF0bG5nLmxhdDtcbiAgICAgIHRoaXMubG9uID0gbGF0bG5nLmxuZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICAgICAqL1xuICAgIHJldHVybiBQaW47XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQb3BVcFNlcnZpY2UnLCBbJyRpb25pY1BvcHVwJywnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgc2hvd19hbGVydDogZnVuY3Rpb24gKGFsZXJ0X3RpdGxlLGFsZXJ0X21lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogYWxlcnRfdGl0bGUsXG4gICAgICAgICB0ZW1wbGF0ZTogYWxlcnRfbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgY29uZmlybVBvcHVwOiBmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiAgIH0sXG5cbiAgIGFza0Zvck9uZVZhbHVlUG9wVXA6IGZ1bmN0aW9uKHNjb3BlLHRpdGxlLHRleHQsZmllbGRfbmFtZSx2YWxpZGF0aW9uVHlwZSl7XG4gICAgICAkc2NvcGUgPSBzY29wZTtcbiAgICAgIHZhciBteVBvcHVwID0gJGlvbmljUG9wdXAuc2hvdyh7XG4gICAgICB0ZW1wbGF0ZTogZmllbGRfbmFtZSArICc6IDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwib25lX3ZhbHVlX3BvcHVwXCI+PGRpdiBpZD1cImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIj48L2Rpdj4nLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgc3ViVGl0bGU6IHRleHQsXG4gICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgYnV0dG9uczogW1xuICAgICAgICB7IHRleHQ6ICdDYW5jZWxhcicgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6ICc8Yj5FbnZpYXI8L2I+JyxcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uLXBvc2l0aXZlJyxcbiAgICAgICAgICBvblRhcDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9uZV92YWx1ZV9wb3B1cFwiKS52YWx1ZTtcbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBwdWVkZSBlc3RhciB2YWPDrW8uPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGPDqWR1bGEgdXJ1Z3VheWEgdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3Jkcyh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIGRlYmUgY29udGVuZXIgYWwgbWVub3MgZG9zIHBhbGFicmFzLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZXJyb3JzIT1cIlwiKXtcbiAgICAgICAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCIpO1xuICAgICAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgLy9kb24ndCBhbGxvdyB0aGUgdXNlciB0byBjbG9zZSB1bmxlc3MgaGUgZW50ZXJzIHdpZmkgcGFzc3dvcmRcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiBteVBvcHVwO1xuICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdTZW1hcGhvcmVTZXJ2aWNlJywgW2Z1bmN0aW9uKCkge1xuXG4gIHZhciBzZW1hcGhvcmVPYmogPSB7fTtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXMgPSBuZXcgQXJyYXkoKTtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ29wZW4tbW9kYWwnXSA9IFwiYXZhaWxhYmxlXCI7XG4gIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzWydzdWJtaXQtZm9ybSddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ3N1Ym1pdC1sb2NhdGlvbiddID0gXCJhdmFpbGFibGVcIjtcbiAgc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbJ2Nhbl90YWxrJ10gPSBcImF2YWlsYWJsZVwiO1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1snb3Blbi1zZWNvbmRhcnktbW9kYWwnXSA9IFwiYXZhaWxhYmxlXCI7XG5cblxuXG5cblxuICBzZW1hcGhvcmVPYmoudGFrZUlmQXZhaWxhYmxlID0gZnVuY3Rpb24oc2VtYXBob3JlSWQpIHtcbiAgICAvL2NvbnNvbGUubG9nKHNlbWFwaG9yZUlkICsgXCI6XCIgKyBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF0pO1xuICAgIGlmKHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXT09XCJhdmFpbGFibGVcIil7XG4gICAgICAgIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXSA9IFwib2NjdXBpZWRcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VtYXBob3JlT2JqLm1ha2VBdmFpbGFibGVBZ2FpbiA9IGZ1bmN0aW9uKHNlbWFwaG9yZUlkKSB7XG4gICAgaWYoc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdPT1cIm9jY3VwaWVkXCIpe1xuICAgICAgICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF0gPSBcImF2YWlsYWJsZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2VtYXBob3JlT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnbG9jYXRpb25BUEknLCBbJyRodHRwJywgJyRxJywgJ0FwaUltRW5kcG9pbnQnLCAnQXBpRGF0YUVuZHBvaW50JywgJ0NvbmZpZ1NlcnZpY2UnLCAnTG9jYXRpb25zU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCAkcSwgQXBpSW1FbmRwb2ludCwgQXBpRGF0YUVuZHBvaW50LCBDb25maWdTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlKSB7XG5cbiAgdmFyIHJlc3RQcmVmZml4ID0gXCJ1YmljYWNpb25lc1Jlc3RQcm9kXCI7XG5cblxuICB2YXIgbG9jYXRpb25BUEkgPSB7fTtcblxuICBsb2NhdGlvbkFQSS5zZWFyY2hMb2NhdGlvbkJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgLypyZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2NhbGxlcycsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbm9tYnJlOiBfbG9jYXRpb25cbiAgICAgIH1cbiAgICB9KTsqL1xuICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYWpheC9nZW9jb2RlP3Rlcm09XCIgKyBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdGVkX2NvdW5jaWwgKyBcIixcIiArIF9sb2NhdGlvbjtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6IHt9XG4gICAgfSk7XG4gIH07XG5cblxuICBsb2NhdGlvbkFQSS5zZWFyY2hFc3F1aW5hQnlTdHIgPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICAvL2NvbnNvbGUubG9nKFwic2VhcmNoRXNxdWluYUJ5U3RyID0gXCIgKyBKU09OLnN0cmluZ2lmeShfbG9jYXRpb24pKTtcbiAgICAvL3JldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvZXNxdWluYS8nICsgX2xvY2F0aW9uLmNhbGxlICsgJy8nICsgX2xvY2F0aW9uLmVzcXVpbmEsIHtcbiAgICAgIC8qcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9jcnVjZXMvJyArIF9sb2NhdGlvbi5jYWxsZSArICcvJyxcbiAgICAgIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgbm9tYnJlOiBfbG9jYXRpb24uZXNxdWluYVxuICAgICAgICB9XG4gICAgICB9KTsqL1xuXG4gICAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXgvZ2VvY29kZT90ZXJtPVwiICsgTG9jYXRpb25zU2VydmljZS5zZWxlY3RlZF9jb3VuY2lsICsgXCIsXCJcbiAgICAgICAgICAgICAgICAgICAgKyBfbG9jYXRpb24uY2FsbGUgKyBcIixcIiArIF9sb2NhdGlvbi5lc3F1aW5hO1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhcmFtczoge31cbiAgICAgIH0pO1xuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbSA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIHZhciB1cmwgPSBBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgbG9jYXRpb25BUEkuZ2V0UGFyYW1QYXRoQnlUaXBvKF9sb2NhdGlvbi50aXBvKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9sb2NhdGlvbi5wYXRoUGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cmwgKz0gJy8nICsgX2xvY2F0aW9uLnBhdGhQYXJhbXNbaV07XG4gICAgfVxuICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9KTtcbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb21QTUIgPSBmdW5jdGlvbihjYWxsZSxlc3F1aW5hX251bWVybyx0aXBvKSB7XG4gICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hamF4L2dlb2NvZGU/dGVybT1cIiArIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0ZWRfY291bmNpbCArIFwiLFwiXG4gICAgICAgICAgICAgICsgY2FsbGUgKyBcIixcIiArIGVzcXVpbmFfbnVtZXJvICsgXCIsXCIgKyB0aXBvO1xuXG4gICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMKTtcblxuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldFBhcmFtUGF0aEJ5VGlwbyA9IGZ1bmN0aW9uKF90aXBvKSB7XG5cbiAgICB2YXIgcmVzdEdlb0RhdGFTZXJ2aWNlUGF0aCA9IHtcbiAgICAgICdFU1FVSU5BJzpcIi9lc3F1aW5hXCIsXG4gICAgICAnRElSRUNDSU9OJzpcIi9kaXJlY2Npb25cIlxuICAgIH07XG5cbiAgICByZXR1cm4gcmVzdEdlb0RhdGFTZXJ2aWNlUGF0aFtfdGlwb107XG5cblxuICB9O1xuXG4gIHJldHVybiBsb2NhdGlvbkFQSTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ18nLCBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB3aW5kb3cuXzsgLy9VbmRlcnNjb3JlIG11c3QgYWxyZWFkeSBiZSBsb2FkZWQgb24gdGhlIHBhZ2Vcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdVc2VyU2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGFwaVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIlxuICB2YXIgVXNlck9iaiA9IHt9O1xuICBVc2VyT2JqLnVpZCA9IG51bGw7XG4gIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgVXNlck9iai5waWN0dXJlX3VybCA9IFwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICBVc2VyT2JqLnNob3dfbG9jYXRpb24gPSBudWxsO1xuXG4gIFVzZXJPYmouZ2V0VXNlckxpc3QgPSBmdW5jdGlvbih1c2VybmFtZSxwYXNzd29yZCx1aWQsYXV0aG9yX3VpZCl7XG4gICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmhhc2hfaWQ9JytNYXRoLnJhbmRvbSgpO1xuICAgIHJldHVybiAkaHR0cC5wb3N0KGFwaVVSTCArICdnZXRfdXNlcl9saXN0JywgYm9keSx7aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgfVxuXG4gIFVzZXJPYmouc2F2ZV91c2VyX2RhdGEgPSBmdW5jdGlvbiAodXNlcl9uYW1lLCB1c2VyX3Bhc3N3b3JkLCB1c2VyX3BpY3R1cmVfdXJsLCBzaG93X2xvY2F0aW9uLCB1aWQsIHN0YXR1cywgZ2VuZGVyLCBpbnRlcmVzdGVkKSB7XG4gICAgICBVc2VyT2JqLnVpZCA9IHVpZDtcbiAgICAgIFVzZXJPYmoubmFtZSA9IHVzZXJfbmFtZTtcbiAgICAgIFVzZXJPYmoucGFzc3dvcmQgPSB1c2VyX3Bhc3N3b3JkO1xuICAgICAgVXNlck9iai5waWN0dXJlX3VybCA9IHVzZXJfcGljdHVyZV91cmw7XG4gICAgICBVc2VyT2JqLnNob3dfbG9jYXRpb24gPSBzaG93X2xvY2F0aW9uO1xuICAgICAgVXNlck9iai5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICBVc2VyT2JqLmdlbmRlciA9IGdlbmRlcjtcbiAgICAgIFVzZXJPYmouaW50ZXJlc3RlZCA9IGludGVyZXN0ZWQ7XG5cbiAgICAgIC8vU0FWRSBJTiBQT1VDSERCXG4gIH1cblxuICBVc2VyT2JqLmVyYXNlX3VzZXJfZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICBVc2VyT2JqLm5hbWUgPSBudWxsO1xuICAgIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICAgIFVzZXJPYmoucGFzc3dvcmQgPSBudWxsO1xuICAgIFVzZXJPYmouaWRlbnRpdHlfZG9jdW1lbnQgPSBudWxsO1xuICAgIFVzZXJPYmoucGhvbmUgPSBudWxsO1xuICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSBudWxsO1xuICAgIC8vREVMRVRFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZ2V0X3VzZXJfZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL0xFVkFOVEEgREUgUE9VQ0hEQiBMT1MgREFUT1MgREVMIFVTVUFSSU8uIFNJIEhBWSBMT1MgUE9ORSBFTiBMQVMgVkFSSUFCTEVTIERFTCBTRVJWSUNJTy4gU0kgTk8gSEFZIFBPTkUgVE9ETyBOVUxMXG4gIH1cblxuICBVc2VyT2JqLmFkZF9waG90byA9IGZ1bmN0aW9uICh1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IHVzZXJfcGljdHVyZV91cmw7XG4gIH1cblxuICBVc2VyT2JqLmlzTG9nZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmKFVzZXJPYmoubmFtZSE9bnVsbCAmJiBVc2VyT2JqLm5hbWUhPVwiXCIpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cblxuICByZXR1cm4gVXNlck9iajtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1ZhbGlkYXRpb25TZXJ2aWNlJywgWyckaHR0cCcsJyRpb25pY1BvcHVwJywgZnVuY3Rpb24oJGh0dHAsJGlvbmljUG9wdXApIHtcblxuICByZXR1cm4ge1xuICAgIGlzTW9iaWxlRGV2aWNlOiBmdW5jdGlvbigpe1xuICAgICAgaWYod2luZG93LmNvcmRvdmEpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9ub3RfZW1wdHk6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV90d29fd29yZHM6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFyIHZhbHVlcyA9IHZhbHVlLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uKHYpe3JldHVybiB2IT09Jyd9KTtcbiAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgLy90d28gb3IgbW9yZSB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvL25vdCBlbm91Z2ggd29yZHNcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2VxdWFsc1RvOiBmdW5jdGlvbiAodmFsdWUsc2Vjb25kVmFsdWUpIHtcbiAgICAgIGlmKHZhbHVlPT1zZWNvbmRWYWx1ZSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfZW1haWw6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFyIHJlID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgICAgICAgcmV0dXJuIHJlLnRlc3QodmFsdWUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfaWRkb2NfdXk6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgICAgICB2YXIgZGlnID0gdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV07XG4gICAgICAgICAgdmFyIGEgPSAwOyB2YXIgaSA9IDA7XG4gICAgICAgICAgaWYodmFsdWUubGVuZ3RoIDw9IDYpe1xuICAgICAgICAgICAgZm9yKGkgPSB2YWx1ZS5sZW5ndGg7IGkgPCA3OyBpKyspe1xuICAgICAgICAgICAgICB2YWx1ZSA9ICcwJyArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IoaSA9IDA7IGkgPCA3OyBpKyspe1xuICAgICAgICAgICAgYSArPSAocGFyc2VJbnQoXCIyOTg3NjM0XCJbaV0pICogcGFyc2VJbnQodmFsdWVbaV0pKSAlIDEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgIGlmKGElMTAgPT09IDApe1xuICAgICAgICAgICAgcmVzdWx0ID0gMDtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDEwIC0gYSAlIDEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihkaWcgPT0gcmVzdWx0KXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0Fic0NvbnRyb2xsZXInLFxuWyckc2NvcGUnLFxuZnVuY3Rpb24oJHNjb3BlKSB7XG5cbn1dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdJbnRyb0N0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckc3RhdGVQYXJhbXMnLFxuICAnJGlvbmljUGxhdGZvcm0nLFxuICAnJGlvbmljUG9wdXAnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdEQlNlcnZpY2UnLFxuICAnQ29uZmlnU2VydmljZScsXG4gICdVc2VyU2VydmljZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgREJTZXJ2aWNlLCBDb25maWdTZXJ2aWNlLCBVc2VyU2VydmljZSkge1xuXG4gIHZhciBkYiA9IERCU2VydmljZS5pbml0REIoKTtcbiAgZGIuaW5mbygpLnRoZW4oXG4gICAgY29uc29sZS5sb2cuYmluZChjb25zb2xlKVxuICApO1xuICAkc2NvcGUuQXBwTmFtZSA9IENvbmZpZ1NlcnZpY2UuQXBwTmFtZTtcblxuXG4gICRzY29wZS5nZW9sb2NhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMzUwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAudGhlbihmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9pbml0aWFsX3Bvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICAgICAkc2NvcGUuZ2VvbG9jYXRlKCk7XG4gICB9KTtcblxuICB9XG5dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdNYXBDb250cm9sbGVyJywgWyckc2NvcGUnLCAnXycsXG4gICckY29yZG92YUNhbWVyYScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRjb21waWxlJyxcbiAgJyRpb25pY01vZGFsJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ2xlYWZsZXREYXRhJyxcbiAgJ0NvbmZpZ1NlcnZpY2UnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdQaW5TZXJ2aWNlJyxcbiAgJ01lc3NhZ2VTZXJ2aWNlJyxcbiAgJ0RyaW5rU2VydmljZScsXG4gICdBdXRoU2VydmljZScsXG4gICdVc2VyU2VydmljZScsXG4gICdCYXJTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gICckdGltZW91dCcsXG4gICckaW50ZXJ2YWwnLFxuICAnJGxvY2F0aW9uJyxcbiAgJ0Vycm9yU2VydmljZScsXG4gICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgJyRpb25pY1Njcm9sbERlbGVnYXRlJyxcbiAgJ1BvcFVwU2VydmljZScsXG4gICdDb25uZWN0aXZpdHlTZXJ2aWNlJyxcbiAgJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJyxcbiAgJ01hcFNlcnZpY2UnLFxuICAnTW9kYWxTZXJ2aWNlJyxcbiAgJ1NlbWFwaG9yZVNlcnZpY2UnLFxuICAnVmFsaWRhdGlvblNlcnZpY2UnLFxuICAnTm90aWZpY2F0aW9uU2VydmljZScsXG4gIGZ1bmN0aW9uKFxuICAgICRzY29wZSxcbiAgICBfLFxuICAgICRjb3Jkb3ZhQ2FtZXJhLFxuICAgICRjb3Jkb3ZhR2VvbG9jYXRpb24sXG4gICAgJGNvbXBpbGUsXG4gICAgJGlvbmljTW9kYWwsXG4gICAgJGlvbmljUG9wdXAsXG4gICAgbGVhZmxldERhdGEsXG4gICAgQ29uZmlnU2VydmljZSxcbiAgICBMb2NhdGlvbnNTZXJ2aWNlLFxuICAgIFBpblNlcnZpY2UsXG4gICAgTWVzc2FnZVNlcnZpY2UsXG4gICAgRHJpbmtTZXJ2aWNlLFxuICAgIEF1dGhTZXJ2aWNlLFxuICAgIFVzZXJTZXJ2aWNlLFxuICAgIEJhclNlcnZpY2UsXG4gICAgREJTZXJ2aWNlLFxuICAgICR0aW1lb3V0LFxuICAgICRpbnRlcnZhbCxcbiAgICAkbG9jYXRpb24sXG4gICAgRXJyb3JTZXJ2aWNlLFxuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUsXG4gICAgJGlvbmljU2Nyb2xsRGVsZWdhdGUsXG4gICAgUG9wVXBTZXJ2aWNlLFxuICAgIENvbm5lY3Rpdml0eVNlcnZpY2UsXG4gICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIsXG4gICAgTWFwU2VydmljZSxcbiAgICBNb2RhbFNlcnZpY2UsXG4gICAgU2VtYXBob3JlU2VydmljZSxcbiAgICBWYWxpZGF0aW9uU2VydmljZSxcbiAgICBOb3RpZmljYXRpb25TZXJ2aWNlXG4gICkge1xuXG4gICAgLyoqXG4gICAgICogT25jZSBzdGF0ZSBsb2FkZWQsIGdldCBwdXQgbWFwIG9uIHNjb3BlLlxuICAgICAqL1xuICAgICRzY29wZS5vbmxpbmVfdXNlcl9nZW8gPSB7fTtcbiAgICAkc2NvcGUub25saW5lX3VzZXJfZ2VvX2FycmF5ID0gbmV3IEFycmF5KCk7XG4gICAgJHNjb3BlLmJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG4gICAgJHNjb3BlLkFwcE5hbWUgPSBDb25maWdTZXJ2aWNlLkFwcE5hbWU7XG4gICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlID0gXCIuL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZ1wiO1xuICAgICRzY29wZS5vbmVfdmFsdWVfcG9wdXAgPSBudWxsO1xuICAgICRzY29wZS5teUludGVydmFscyA9IG5ldyBBcnJheSgpO1xuICAgICRzY29wZS5zZWxlY3RlZF9wZXJzb24gPSBudWxsO1xuICAgICRzY29wZS5sb2dpbiA9IHt3YXJuaW5nOm51bGx9O1xuICAgICRzY29wZS5zZXRCYWNrVG89XCJcIjtcbiAgICAkc2NvcGUuZmlsdGVyID0gbmV3IEFycmF5KCk7XG4gICAgJHNjb3BlLmZpbHRlci5maWx0ZXJfcGVvcGxlX2Rpc3RhbmNlX3JhbmdlID0gMDtcbiAgICAkc2NvcGUuZmlsdGVyLmZpbHRlcl9wZW9wbGVfb25saW5lID0gZmFsc2U7XG4gICAgJHNjb3BlLmZpbHRlci5maWx0ZXJfcGVvcGxlX2ludGVyZXNhZG9fZW4gPSBcIlBlcnNvbmFzIGVuIGdlbmVyYWxcIjtcbiAgICAkc2NvcGUuZmlsdGVyLmZpbHRlcl9iYXJfZGlzdGFuY2VfcmFuZ2UgPSAwO1xuICAgICRzY29wZS5maWx0ZXIuZmlsdGVyX2Jhcl9vcGVuID0gZmFsc2U7XG5cbiAgICAkc2NvcGUuJG9uKFwiJGlvbmljVmlldy5iZWZvcmVFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgIERCU2VydmljZS5pbml0REIoKTtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgfWVsc2V7XG4gICAgICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyKCk7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAoKTtcbiAgICAgICAgJHNjb3BlLm15SW50ZXJ2YWxzWyd1c2VyTG9jYXRpb24nXT0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkc2NvcGUuc2VuZFVzZXJMb2NhdGlvbigpXG4gICAgICAgICAgfSwgMzAwMDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLiRvbihcIiRpb25pY1ZpZXcuYWZ0ZXJFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uX2dlbmVyYWxcIikuY2xhc3NOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25fZ2VuZXJhbFwiKS5jbGFzc05hbWUgKyBcIiBhY3RpdmVcIjtcbiAgICAgIGlmKFVzZXJTZXJ2aWNlLnVpZD09bnVsbCl7XG4gICAgICAgIHZhciB1c2VyID0gREJTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICAgICAgIHVzZXIudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgIGlmKGRvYy5uYW1lIT1udWxsICYmIGRvYy5uYW1lIT1cIlwiICYmIGRvYy5uYW1lIT1cInVuZGVmaW5lZFwiKXtcbiAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgJHNjb3BlLnNob3dfbG9naW5fbW9kYWwoKTtcbiAgICAgICAgICAgfVxuICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAkc2NvcGUuc2hvd19sb2dpbl9tb2RhbCgpO1xuICAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydhbGxfY2hhdHMnXSl7XG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubXlJbnRlcnZhbHNbJ2FsbF9jaGF0cyddKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUubXlJbnRlcnZhbHNbJ2FsbF9jaGF0cyddID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLmdldEFsbE1lc3NhZ2VzKFVzZXJTZXJ2aWNlLm5hbWUsVXNlclNlcnZpY2UucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcDIpe1xuICAgICAgICAgICAgdmFyIGRhdGEyID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcDIpO1xuICAgICAgICAgICAgJHNjb3BlLmFsbF9tZXNzYWdlcyA9IGRhdGEyO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBtYXAgPSBsZWFmbGV0RGF0YS5nZXRNYXAoKTtcbiAgICAgIGlmKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQhPVwiXCIpe1xuICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQsIExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcsIDE2KTtcbiAgICAgIH1lbHNle1xuICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKC0zNC45MDExMTMsIC01Ni4xNjQ1MzEsIDE0KTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5jaGVja05vdGlmaWNhdGlvbnMoKTtcbiAgICB9KTtcblxuICAgICRzY29wZS5jaGVja05vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydub3RpZmljYXRpb25zJ10pe1xuICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5teUludGVydmFsc1snbm90aWZpY2F0aW9ucyddKTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5teUludGVydmFsc1snbm90aWZpY2F0aW9ucyddPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgaWYoVXNlclNlcnZpY2UudWlkKXtcbiAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLmdldFVucmVjaXZlZE5vdGlmaWNhdGlvbnMoVXNlclNlcnZpY2UubmFtZSwgVXNlclNlcnZpY2UucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICB2YXIgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApO1xuICAgICAgICAgICAgaWYoIShkYXRhLlN0YXR1cyAmJiBkYXRhLlN0YXR1cz09XCJlcnJvclwiKSl7XG4gICAgICAgICAgICAgIGlmKCEkc2NvcGUuaXNFcXVhbCgkc2NvcGUubm90aWZpY2F0aW9ucywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShkYXRhKS5Ob3RpZmljYXRpb25zKSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5vdGlmaWNhdGlvbnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubm90aWZpY2F0aW9ucyA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKGRhdGEpLk5vdGlmaWNhdGlvbnM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwMCk7XG4gICAgfTtcblxuICAgICRzY29wZS5vcGVuTm90aWZpY2F0aW9uID0gZnVuY3Rpb24obm90aWZpY2F0aW9uKXtcbiAgICAgICRzY29wZS5kb250U2hvd05vdGlmaWNhdGlvbkFnYWluKG5vdGlmaWNhdGlvbi5uaWQpO1xuICAgICAgaWYobm90aWZpY2F0aW9uLnRpcG89PVwibnVldm9fbWVuc2FqZVwiKXtcbiAgICAgICAgJHNjb3BlLnNlbmRfbWVzc2FnZV90byhub3RpZmljYXRpb24udWlkKTtcbiAgICAgIH1lbHNlIGlmKG5vdGlmaWNhdGlvbi50aXBvPT1cImludml0YWNpb25fYV90cmFnb1wiKXtcbiAgICAgICAgJHNjb3BlLm9wZW5JbnZpdGF0aW9uc01vZGFsKG5vdGlmaWNhdGlvbi51aWQpO1xuICAgICAgfWVsc2UgaWYobm90aWZpY2F0aW9uLnRpcG89PVwicmVzcHVlc3RhX2FfaW52aXRhY2lvblwiKXtcbiAgICAgICAgJHNjb3BlLm9wZW5JbnZpdGF0aW9uc01vZGFsKG5vdGlmaWNhdGlvbi51aWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5kb250U2hvd05vdGlmaWNhdGlvbkFnYWluID0gZnVuY3Rpb24obmlkKXtcbiAgICAgIGlmKFVzZXJTZXJ2aWNlLnVpZCl7XG4gICAgICAgIE5vdGlmaWNhdGlvblNlcnZpY2UuZG9udFNob3dOb3RpZmljYXRpb25BZ2FpbihVc2VyU2VydmljZS5uYW1lLFVzZXJTZXJ2aWNlLnBhc3N3b3JkLG5pZCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAvL0FGVEVSIFNFTkRJTkcgTk9UIFNIT1cgT1JERVIgRE8gTk9USElOR1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VOb3RpZmljYXRpb24gPSBmdW5jdGlvbihub3RpZmljYXRpb24pe1xuICAgICAgJHNjb3BlLmRvbnRTaG93Tm90aWZpY2F0aW9uQWdhaW4obm90aWZpY2F0aW9uLm5pZCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5XZWJzaXRlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ25vJyxcbiAgICAgICAgICAgICAgICBjbGVhcmNhY2hlOiAneWVzJyxcbiAgICAgICAgICAgICAgICB0b29sYmFyOiAnbm8nXG4gICAgICAgICAgICB9O1xuXG4gICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLm9wZW4odXJsLCAnX2JsYW5rJywgb3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1hcCA9IHtcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAvL3RpbGVMYXllcjogJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICBtaW5ab29tOiAxLFxuICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgIHpvb21Db250cm9sUG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICAgICAgfSxcblx0bGF5ZXJzOiB7XG4gICAgICAgICAgICBiYXNlbGF5ZXJzOiB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlUm9hZG1hcDoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnR29vZ2xlIFN0cmVldHMnLFxuICAgICAgICAgICAgICAgICAgICBsYXllclR5cGU6ICdST0FETUFQJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2dvb2dsZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1hcmtlcnM6IHt9LFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICBtYXA6IHtcbiAgICAgICAgICAgIGVuYWJsZTogWydjb250ZXh0J10sXG4gICAgICAgICAgICBsb2dpYzogJ2VtaXQnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgICRzY29wZS5sb2FkUGluc0xheWVyKCk7XG4gICAgICAkc2NvcGUubWFwLmNlbnRlciA9IHtcbiAgICAgICAgICBsYXQ6IC0zNC45MDExMTMsXG4gICAgICAgICAgbG5nOiAtNTYuMTY0NTMxLFxuICAgICAgICAgIHpvb206IDE2XG4gICAgICAgIH07XG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuXHQvL3ZhciBnb29nbGVMYXllciA9IG5ldyBMLkdvb2dsZSgnUk9BRE1BUCcpO1xuICAgICAgXHQvL21hcC5hZGRMYXllcihnb29nbGVMYXllcik7XG4gICAgICAgIG1hcC5vbignbW92ZWVuZCcsICRzY29wZS5oaWRlT2ZmU2NyZWVuUGlucyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG5cblxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUubmV4dCgpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcbiAgfTtcblxuICAkc2NvcGUuYmFja190b19tYXAgPSBmdW5jdGlvbihiYWNrX3RvX21hcCl7XG4gICAgaWYoYmFja190b19tYXApe1xuICAgICAgLy9Mb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0ID0gJHNjb3BlLnJlcG9ydC5sYXQ7XG4gICAgICAvL0xvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcgPSAkc2NvcGUucmVwb3J0LmxvbjtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgLy8kc2NvcGUuYWRkUmVwb3J0c0xheWVyKCk7XG4gICAgfWVsc2V7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gIH1cblxuXG4gICRzY29wZS5pbWFnZSA9IG51bGw7XG5cbiAgJHNjb3BlLmFkZEltYWdlID0gZnVuY3Rpb24oaXNGcm9tQWxidW0sIGlzVXNlclBob3RvLCBpc0NvbW1lbnRQaG90bywgaXNOZXdVc2VyUGhvdG8pIHtcbiAgICAvL2FsZXJ0KFwiYWRkSW1hZ2VcIik7XG4gICAgJHNjb3BlLmlzVXNlclBob3RvID0gaXNVc2VyUGhvdG87XG4gICAgJHNjb3BlLmlzQ29tbWVudFBob3RvID0gaXNDb21tZW50UGhvdG87XG4gICAgJHNjb3BlLmlzTmV3VXNlclBob3RvID0gaXNOZXdVc2VyUGhvdG87XG5cbiAgICB2YXIgc291cmNlID0gQ2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLkNBTUVSQTtcbiAgICB2YXIgZml4X29yaWVudGF0aW9uID0gdHJ1ZTtcbiAgICB2YXIgc2F2ZV90b19nYWxsZXJ5ID0gdHJ1ZTtcbiAgICBpZihpc0Zyb21BbGJ1bT09MSl7XG4gICAgICBzb3VyY2UgPSBDYW1lcmEuUGljdHVyZVNvdXJjZVR5cGUuUEhPVE9MSUJSQVJZO1xuICAgICAgZml4X29yaWVudGF0aW9uID0gZmFsc2U7XG4gICAgICBzYXZlX3RvX2dhbGxlcnkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIHF1YWxpdHk6IDkwLFxuICAgICAgZGVzdGluYXRpb25UeXBlOiBDYW1lcmEuRGVzdGluYXRpb25UeXBlLkZJTEVfVVJJLFxuICAgICAgc291cmNlVHlwZTogc291cmNlLFxuICAgICAgYWxsb3dFZGl0OiBmYWxzZSxcbiAgICAgIGNvcnJlY3RPcmllbnRhdGlvbiA6IGZpeF9vcmllbnRhdGlvbixcbiAgICAgIGVuY29kaW5nVHlwZTogQ2FtZXJhLkVuY29kaW5nVHlwZS5KUEVHLFxuICAgICAgcG9wb3Zlck9wdGlvbnM6IENhbWVyYVBvcG92ZXJPcHRpb25zLFxuICAgICAgc2F2ZVRvUGhvdG9BbGJ1bTogc2F2ZV90b19nYWxsZXJ5LFxuICAgICAgdGFyZ2V0V2lkdGg6IDUwMCxcbiAgICAgIHRhcmdldEhlaWdodDogNTAwXG4gICAgfTtcblxuXG4gICAgJGNvcmRvdmFDYW1lcmEuZ2V0UGljdHVyZShvcHRpb25zKS50aGVuKGZ1bmN0aW9uKGltYWdlRGF0YSkge1xuICAgICAgb25JbWFnZVN1Y2Nlc3MoaW1hZ2VEYXRhKTtcblxuICAgICAgZnVuY3Rpb24gb25JbWFnZVN1Y2Nlc3MoZmlsZVVSSSkge1xuICAgICAgICB3aW5kb3cuRmlsZVBhdGgucmVzb2x2ZU5hdGl2ZVBhdGgoZmlsZVVSSSwgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgLy8gb25TdWNjZXNzIGNvZGVcbiAgICAgICAgICAvL2FsZXJ0KHJlc3VsdCk7XG4gICAgICAgICAgZmlsZVVSSSA9ICdmaWxlOi8vJyArIHJlc3VsdDtcbiAgICAgICAgICBpZihyZXN1bHQuc3RhcnRzV2l0aChcImZpbGU6Ly9cIikpe1xuICAgICAgICAgICAgZmlsZVVSSSA9IHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoJHNjb3BlLmlzVXNlclBob3RvPT0xKXtcbiAgICAgICAgICAgIC8vVXNlclNlcnZpY2UuYWRkX3Bob3RvKGZpbGVVUkkpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUucGljdHVyZV91cmwgPSBmaWxlVVJJO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYoJHNjb3BlLmlzQ29tbWVudFBob3RvPT0xKXtcbiAgICAgICAgICAgICAgJHNjb3BlLmNvbW1lbnQuZmlsZSA9IGZpbGVVUkk7XG4gICAgICAgICAgICB9ZWxzZSBpZigkc2NvcGUuaXNOZXdVc2VyUGhvdG89PTEpe1xuICAgICAgICAgICAgICAkc2NvcGUubmV3dXNlci5waWN0dXJlX3VybCA9IGZpbGVVUkk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICRzY29wZS5pbWdVUkkgPSBmaWxlVVJJO1xuICAgICAgICAgIC8vY3JlYXRlRmlsZUVudHJ5KGZpbGVVUkkpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGFsZXJ0KFwiRXJyb3IgcmVzb2x2ZU5hdGl2ZVBhdGhcIiArIGVycm9yKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY3JlYXRlRmlsZUVudHJ5KGZpbGVVUkkpIHtcbiAgICAgICAgd2luZG93LnJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkwoZmlsZVVSSSwgY29weUZpbGUsIGZhaWwpO1xuICAgICAgfVxuXG4gICAgICAvLyA1XG4gICAgICBmdW5jdGlvbiBjb3B5RmlsZShmaWxlRW50cnkpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBmaWxlRW50cnkuZnVsbFBhdGguc3Vic3RyKGZpbGVFbnRyeS5mdWxsUGF0aC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICAgIHZhciBuZXdOYW1lID0gbWFrZWlkKCkgKyBuYW1lO1xuXG4gICAgICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5LCBmdW5jdGlvbihmaWxlU3lzdGVtMikge1xuICAgICAgICAgICAgZmlsZUVudHJ5LmNvcHlUbyhcbiAgICAgICAgICAgICAgZmlsZVN5c3RlbTIsXG4gICAgICAgICAgICAgIG5ld05hbWUsXG4gICAgICAgICAgICAgIG9uQ29weVN1Y2Nlc3MsXG4gICAgICAgICAgICAgIGZhaWxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmYWlsKTtcbiAgICAgIH1cblxuICAgICAgLy8gNlxuICAgICAgZnVuY3Rpb24gb25Db3B5U3VjY2VzcyhlbnRyeSkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5pbWFnZSA9IGVudHJ5Lm5hdGl2ZVVSTDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZhaWwoZXJyb3IpIHtcblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBtYWtlaWQoKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcbiAgICAgICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICB9XG5cbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUudXJsRm9ySW1hZ2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW1hZ2VVUkwgPSBcImh0dHA6Ly9wbGFjZWhvbGQuaXQvMjAweDIwMFwiO1xuICAgIGlmICgkc2NvcGUuaW1hZ2UpIHtcbiAgICAgIHZhciBuYW1lID0gJHNjb3BlLmltYWdlLnN1YnN0cigkc2NvcGUuaW1hZ2UubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgaW1hZ2VVUkwgPSBjb3Jkb3ZhLmZpbGUuZGF0YURpcmVjdG9yeSArIG5hbWU7XG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coXCJJbWFnZVVSTCA9IFwiICsgaW1hZ2VVUkwpO1xuICAgIHJldHVybiBpbWFnZVVSTDtcbiAgfTtcblxuXG4gICAgJHNjb3BlLnNjcm9sbE1lID0gZnVuY3Rpb24oYW5jaG9yX2lkKXtcbiAgICAgICRsb2NhdGlvbi5oYXNoKGFuY2hvcl9pZCk7XG4gICAgICB2YXIgaGFuZGxlICA9ICRpb25pY1Njcm9sbERlbGVnYXRlLiRnZXRCeUhhbmRsZSgnY29udGVudCcpO1xuICAgICAgaGFuZGxlLmFuY2hvclNjcm9sbCgpO1xuICAgIH1cblxuICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbiA9IGZ1bmN0aW9uKGJ1dHRvbmlkKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidXR0b25pZCkuY2xhc3NOYW1lID0gXCJvcHRpb24tYWN0aXZlXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzID0gZnVuY3Rpb24oKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfcmVwb3J0X2RldGFpbF9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAkc2NvcGUucmVwb3J0X2RldGFpbF9pZCA9IG51bGw7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXIgbWFwIG9uIHVzZXIncyBjdXJyZW50IHBvc2l0aW9uXG4gICAgICovXG4gICAgJHNjb3BlLmxvY2F0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24oKVxuICAgICAgICAudGhlbihmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxhdCA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLnpvb20gPSAxNTtcblxuICAgICAgICAgICRzY29wZS5tYXAubWFya2Vycy5ub3cgPSB7XG4gICAgICAgICAgICBsYXQ6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiWW91IEFyZSBIZXJlXCIsXG4gICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkxvY2F0aW9uIGVycm9yIVwiKTtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuXG5cbiAgICAkc2NvcGUuYWRkTWFwQ29udHJvbHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcF9jcm9zc2hhaXInKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcF9jcm9zc2hhaXJfYnV0dG9uJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIH07XG5cblxuICAgICRzY29wZS5jaGFuZ2VVc2VyTG9jYXRpb25QaW4gPSBmdW5jdGlvbihsYXQsbG9uLHVpZCl7XG4gICAgICBpZigkc2NvcGUub25saW5lX3VzZXJfZ2VvX2FycmF5W3VpZF0pe1xuICAgICAgICBsYXllciA9ICRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXlbdWlkXTtcbiAgICAgICAgdmFyIG5ld0xhdExuZyA9IG5ldyBMLkxhdExuZyhsYXQsIGxvbik7XG4gICAgICAgIGxheWVyLnNldExhdExuZyhuZXdMYXRMbmcpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5oaWRlT2ZmU2NyZWVuUGlucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgdmFyIG1hcEJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgICAgICAgJHNjb3BlLnVzZXJzVmlzaWJsZSA9IFtdO1xuICAgICAgICAgICRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXkuZm9yRWFjaChmdW5jdGlvbihsYXllcixrZXkpe1xuICAgICAgICAgICAgdmFyIHNob3VsZEJlVmlzaWJsZSA9IG1hcEJvdW5kcy5jb250YWlucyhsYXllci5nZXRMYXRMbmcoKSk7XG4gICAgICAgICAgICBpZiAoIXNob3VsZEJlVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEJlVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGlmKCRzY29wZS5waW5Jc05vdEZpbHRlcmVkKGxheWVyKSl7XG4gICAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzVmlzaWJsZS5wdXNoKGxheWVyLmZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnJlbW92ZUFsbFBpbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgICRzY29wZS51c2Vyc1Zpc2libGUgPSBbXTtcbiAgICAgICAgaWYoJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheSl7XG4gICAgICAgICAgJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyLGtleSl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicmVtb3ZpbmdcIik7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGxheWVyKTtcbiAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIgPSBmdW5jdGlvbigpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgICBQaW5TZXJ2aWNlLmdldEFsbEJ5VXNlcihVc2VyU2VydmljZS5uYW1lLFVzZXJTZXJ2aWNlLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYoUGluU2VydmljZS5sYXN0UGluc1Jlc3BvbnNlPT1udWxsIHx8IChQaW5TZXJ2aWNlLmxhc3RQaW5zUmVzcG9uc2UgJiYgISRzY29wZS5pc0VxdWFsKFBpblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZSxyZXNwb25zZSkpKXtcbiAgICAgICAgICAgICAgaWYoJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzVmlzaWJsZSA9IFtdO1xuICAgICAgICAgICAgICAgICRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXkuZm9yRWFjaChmdW5jdGlvbihsYXllcixrZXkpe1xuICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFBpblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0c0J5U3RhdGUgPSB7fTtcbiAgICAgICAgICAgICAgdmFyIHBpbnNBcnJheSA9IHJlc3BvbnNlLmRhdGEuZmVhdHVyZXM7XG4gICAgICAgICAgICAgICRzY29wZS5vbmxpbmVfdXNlcnNfZ2VvID0gcmVzcG9uc2UuZGF0YS5mZWF0dXJlcztcbiAgICAgICAgICAgICAgcGluc0FycmF5LmZvckVhY2goZnVuY3Rpb24oZmVhdHVyZSl7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgaWYoZmVhdHVyZS5wcm9wZXJ0aWVzLlR5cGU9PVwiUGVyc29uXCIpe1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBsb24gPSBmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSBmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgIGlmKGxvbiYmbGF0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbmxpbmVTdGF0dXMgPSBmZWF0dXJlLnByb3BlcnRpZXMuT25saW5lX3N0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uID0gZmVhdHVyZS5wcm9wZXJ0aWVzLkljb247XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpY29uPT1cImFub25cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb24gPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKFVzZXJTZXJ2aWNlLnVpZCAmJiBVc2VyU2VydmljZS51aWQ9PWZlYXR1cmUucHJvcGVydGllcy5VaWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICd1c2VySWNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzcyLCA3Ml0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzM2LCA3Ml0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtNzJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9ubGluZVN0YXR1cz09XCJPbmxpbmVcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VySWNvbiA9IEwuZGl2SWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsYXNzTmFtZTogJ3BlcnNvbkljb24gcGVyc29uT25saW5lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWNvblVybDogaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNTIsIDYwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFsyNiwgNjBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtNjBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJzxkaXY+PGRpdiBjbGFzcz1cInVzZXJNYXJrZXJcIiAvPjwvZGl2PjxpbWcgc3JjPVwiJytpY29uKydcIiBjbGFzcz1cImxlYWZsZXQtbWFya2VyLWljb24gcGVyc29uT25saW5lIGxlYWZsZXQtem9vbS1hbmltYXRlZCBsZWFmbGV0LWNsaWNrYWJsZVwiIHRhYmluZGV4PVwiMFwiPjxkaXYgY2xhc3M9XCJvbmxpbmVDaXJjbGVcIiAvPjwvZGl2PidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VySWNvbiA9IEwuZGl2SWNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsYXNzTmFtZTogJ3BlcnNvbkljb24gcGVyc29uT25saW5lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWNvblVybDogaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbNTIsIDYwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFsyNiwgNjBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtNjBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJzxkaXY+PGRpdiBjbGFzcz1cInVzZXJNYXJrZXJcIiAvPjwvZGl2PjxpbWcgc3JjPVwiJytpY29uKydcIiBjbGFzcz1cImxlYWZsZXQtbWFya2VyLWljb24gcGVyc29uT25saW5lIGxlYWZsZXQtem9vbS1hbmltYXRlZCBsZWFmbGV0LWNsaWNrYWJsZVwiIHRhYmluZGV4PVwiMFwiPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBMLm1hcmtlcihbbGF0LCBsb25dLCB7aWNvbjogbWFya2VySWNvbn0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuZmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub25saW5lX3VzZXJfZ2VvX2FycmF5W2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5VaWRdID0gbGF5ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVpZCA9IGUudGFyZ2V0LmZlYXR1cmUucHJvcGVydGllcy5VaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoVXNlclNlcnZpY2UudWlkICYmIFVzZXJTZXJ2aWNlLnVpZD09dWlkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vU0kgSEFDRSBDTElDIEVOIFNJIE1JU01PIE5PIEhBR08gTkFEQVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkX3BlcnNvbiA9IGUudGFyZ2V0LmZlYXR1cmUucHJvcGVydGllcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uID0gZS50YXJnZXQuZmVhdHVyZS5wcm9wZXJ0aWVzLkljb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpY29uPT1cImFub25cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZF9wZXJzb24uSWNvbiA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuZ29Ub0NlbnRlcigkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLmxvbiwkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLmxhdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy91c2VyX21hcF9wb3B1cC5odG1sJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoZmVhdHVyZS5wcm9wZXJ0aWVzLlR5cGU9PVwiQmFyXCIpe1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBsb24gPSBmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSBmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgIGlmKGxvbiYmbGF0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uID0gZmVhdHVyZS5wcm9wZXJ0aWVzLkljb247XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdiYXJJY29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFszMywgNDVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBbMTYsIDQ1XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtNDVdXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXllciA9IEwubWFya2VyKFtsYXQsIGxvbl0sIHtpY29uOiBtYXJrZXJJY29ufSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXlbbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLk5pZF0gPSBsYXllcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmlkID0gZS50YXJnZXQuZmVhdHVyZS5wcm9wZXJ0aWVzLk5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRfYmFyID0gZS50YXJnZXQuZmVhdHVyZS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uID0gZS50YXJnZXQuZmVhdHVyZS5wcm9wZXJ0aWVzLlBob3RvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZF9iYXIuSWNvbiA9IGljb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuZ29Ub0NlbnRlcigkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLmxvbiwkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLmxhdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvYmFyX21hcF9wb3B1cC5odG1sJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAkc2NvcGUuaGlkZU9mZlNjcmVlblBpbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5jaGVja1RhbGtTdGF0dXMoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfYWN0aXZlX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRzY29wZS5zZXRBY3RpdmVNZW51QnV0dG9uKCdidXR0b25fZ2VuZXJhbCcpO1xuICAgIH1cblxuICAgICRzY29wZS5jaGVja1RhbGtTdGF0dXMgPSBmdW5jdGlvbigpe1xuICAgICAgLy8kc2NvcGUubXlJbnRlcnZhbHNbJ2NhblRhbGsnXSA9ICRpbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJjYW5fdGFsa1wiKSl7XG4gICAgICAgICAgTWVzc2FnZVNlcnZpY2UuY2hlY2tXaG9DYW5UYWxrKFVzZXJTZXJ2aWNlLm5hbWUsVXNlclNlcnZpY2UucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAvL1NlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICB2YXIgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApO1xuICAgICAgICAgICAgaWYoIShkYXRhLlN0YXR1cyAmJiBkYXRhLlN0YXR1cz09XCJlcnJvclwiKSl7XG4gICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbih1aWQpe1xuICAgICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLmNhblRhbGtUb1VzZXJzWyd1aWQtJyt1aWRdID0gMTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwiY2FuX3RhbGtcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIC8vfSwgMjAwMCk7XG4gICAgfTtcblxuICAgICRzY29wZS5rZXlfcHJlc3MgPSBmdW5jdGlvbihldmVudCxzdGFnZSl7XG4gICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgICBpZihzdGFnZT09J3ByaXZhdGVfY2hhdCcpe1xuICAgICAgICBpZihrZXlDb2RlPT0xMyl7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmKGNvcmRvdmE9PT1udWxsKXtcblxuICAgICAgICAgICAgfWVsc2UgaWYoY29yZG92YSYmY29yZG92YS5wbHVnaW5zLktleWJvYXJkKXtcbiAgICAgICAgICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoKGVycikge1xuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldEFjdGl2ZU1lbnVCdXR0b24gPSBmdW5jdGlvbihidXR0b25faWQpe1xuICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWVudV9idXR0b25cIik7XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgeFtpXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbl9pZCkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5fbm90aWZpY2F0aW9uc19tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgaWYoVXNlclNlcnZpY2UudWlkKXtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS5nZXRBbGxOb3RpZmljYXRpb25zKFVzZXJTZXJ2aWNlLm5hbWUsVXNlclNlcnZpY2UucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKTtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICRzY29wZS5hbGxfbm90aWZpY2F0aW9ucyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvbm90aWZpY2F0aW9ucy5odG1sJywge1xuICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAvL2JhY2tkcm9wQ2xpY2tUb0Nsb3NlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0QWN0aXZlTWVudUJ1dHRvbignYnV0dG9uX25vdGlmaWNhdGlvbnMnKTtcbiAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5vcGVuX2NoYXRfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuY2xlYXJfYWxsX2ludGVydmFscygpO1xuICAgICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcIm9wZW4tbW9kYWxcIikpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIGlmKFVzZXJTZXJ2aWNlLnVpZCl7XG4gICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLmdldEFsbE1lc3NhZ2VzKFVzZXJTZXJ2aWNlLm5hbWUsVXNlclNlcnZpY2UucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsX21lc3NhZ2VzID0gZGF0YTtcbiAgICAgICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9jaGF0cy5odG1sJywge1xuICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAvL2JhY2tkcm9wQ2xpY2tUb0Nsb3NlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0QWN0aXZlTWVudUJ1dHRvbignYnV0dG9uX2NoYXQnKTtcbiAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgfVxuICAgfVxuXG4gICAkc2NvcGUub3Blbl91c2VyX2xpc3QgPSBmdW5jdGlvbihiYXJBY3RpdmVUYWIpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKGJhckFjdGl2ZVRhYik7XG4gICAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgaWYoVXNlclNlcnZpY2UudWlkKXtcbiAgICAgICAgICAgICAgVXNlclNlcnZpY2UuZ2V0VXNlckxpc3QoVXNlclNlcnZpY2UubmFtZSxVc2VyU2VydmljZS5wYXNzd29yZCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApO1xuICAgICAgICAgICAgICAgICRzY29wZS5hbGxfdXNlcnMgPSBkYXRhO1xuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJVc2VycygpO1xuICAgICAgICAgICAgICAgIEJhclNlcnZpY2UuZ2V0QmFyTGlzdChVc2VyU2VydmljZS5uYW1lLFVzZXJTZXJ2aWNlLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKHJlc3AyKXtcbiAgICAgICAgICAgICAgICAgIHZhciBkYXRhMiA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3AyKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxfYmFycyA9IGRhdGEyO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlckJhcnMoKTtcbiAgICAgICAgICAgICAgICAgIGlmKGJhckFjdGl2ZVRhYj09ZmFsc2Upe1xuICAgICAgICAgICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy91c2VyX2xpc3QuaHRtbCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgIC8vYmFja2Ryb3BDbGlja1RvQ2xvc2U6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0QWN0aXZlTWVudUJ1dHRvbignYnV0dG9uX2dlbmVyYWwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvdXNlcl9saXN0X2Jhci5odG1sJywge1xuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgLy9iYWNrZHJvcENsaWNrVG9DbG9zZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRBY3RpdmVNZW51QnV0dG9uKCdidXR0b25fZ2VuZXJhbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgIH1cbiAgICAgICB9XG4gICB9XG5cbiAgICAkc2NvcGUuc2VuZF9tZXNzYWdlX3RvID0gZnVuY3Rpb24odWlkKXtcbiAgICAgICAgJHNjb3BlLmNsZWFyX2FsbF9pbnRlcnZhbHMoKTtcbiAgICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJvcGVuLW1vZGFsXCIpKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICBpZihVc2VyU2VydmljZS51aWQpe1xuICAgICAgICAgICAgICBNZXNzYWdlU2VydmljZS5jaGVja1dob0NhblRhbGsoVXNlclNlcnZpY2UubmFtZSxVc2VyU2VydmljZS5wYXNzd29yZCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICAvL1NlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKTtcbiAgICAgICAgICAgICAgICBpZighKGRhdGEuU3RhdHVzICYmIGRhdGEuU3RhdHVzPT1cImVycm9yXCIpKXtcbiAgICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbih1aWQpe1xuICAgICAgICAgICAgICAgICAgICBNZXNzYWdlU2VydmljZS5jYW5UYWxrVG9Vc2Vyc1sndWlkLScrdWlkXSA9IDE7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGlmKCEkc2NvcGUuY2FuVGFsa1RvVXNlcih1aWQpKXtcbiAgICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRfcGVyc29uLndhcm5pbmcgPSBcIkRlYmUgdGVuZXIgYWwgbWVub3MgdW5hIGludml0YWNpw7NuIGEgdW4gdHJhZ28gYWNlcHRhZGEgZW50cmUgdXN0ZWQgeSBlc3RhIHBlcnNvbmEgcGFyYSBwb2RlciBoYWJsYXIuXCI7XG4gICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXQgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXQubXlfdWlkID0gVXNlclNlcnZpY2UudWlkO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhdC5teV9waWN0dXJlX3VybCA9IFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhdC5vdGhlcl91c2VyID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGF0Lm90aGVyX3VzZXIudWlkID0gdWlkO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhdC5uZXdfdGV4dF9tZXNzYWdlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2FnZVNlcnZpY2UuZ2V0VXNlckluZm8odWlkKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgICAgICAgIGlmKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGF0Lm90aGVyX3VzZXIucGljdHVyZV91cmwgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bztcbiAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGF0Lm90aGVyX3VzZXIucGljdHVyZV91cmwgPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGF0Lm90aGVyX3VzZXIudXNlcm5hbWUgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGF0Lm90aGVyX3VzZXIub25saW5lX3N0YXR1cyA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk9ubGluZV9zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGF1dGhvcl91aWQgPSBVc2VyU2VydmljZS51aWQ7XG4gICAgICAgICAgICAgICAgICAgICAgTWVzc2FnZVNlcnZpY2UuZ2V0QWxsTWVzc2FnZXNUb1VzZXIoVXNlclNlcnZpY2UubmFtZSwgVXNlclNlcnZpY2UucGFzc3dvcmQsdWlkLGF1dGhvcl91aWQpLnRoZW4oZnVuY3Rpb24ocmVzcDIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZighKGRhdGEuU3RhdHVzICYmIGRhdGEuU3RhdHVzPT1cImVycm9yXCIpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoISRzY29wZS5pc0VxdWFsKCRzY29wZS5jaGF0Lm1lc3NhZ2VzLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3AyKSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGF0Lm1lc3NhZ2VzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXQubWVzc2FnZXMgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRzY29wZS5teUludGVydmFsc1sncHJpdmF0ZU1lc3NhZ2UnXSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm15SW50ZXJ2YWxzWydwcml2YXRlTWVzc2FnZSddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5teUludGVydmFsc1sncHJpdmF0ZU1lc3NhZ2UnXSA9ICRpbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlU2VydmljZS5nZXRBbGxNZXNzYWdlc1RvVXNlcihVc2VyU2VydmljZS5uYW1lLCBVc2VyU2VydmljZS5wYXNzd29yZCwkc2NvcGUuY2hhdC5vdGhlcl91c2VyLnVpZCxVc2VyU2VydmljZS51aWQpLnRoZW4oZnVuY3Rpb24ocmVzcDMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEyID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIShkYXRhMi5TdGF0dXMgJiYgZGF0YTIuU3RhdHVzPT1cImVycm9yXCIpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoISRzY29wZS5pc0VxdWFsKCRzY29wZS5jaGF0Lm1lc3NhZ2VzLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKGRhdGEyKSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGF0Lm1lc3NhZ2VzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXQubWVzc2FnZXMgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShkYXRhMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1uaWQgPSAkc2NvcGUuY2hhdC5tZXNzYWdlc1skc2NvcGUuY2hhdC5tZXNzYWdlcy5sZW5ndGgtMV0ubmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zY3JvbGxNZShcIm1lc3NhZ2UtXCIrbW5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9wcml2YXRlX2NoYXQuaHRtbCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtbmlkID0gJHNjb3BlLmNoYXQubWVzc2FnZXNbJHNjb3BlLmNoYXQubWVzc2FnZXMubGVuZ3RoLTFdLm5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zY3JvbGxNZShcIm1lc3NhZ2UtXCIrbW5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC8vU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJjYW5fdGFsa1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgIC8qdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICAgICAgICAgIHRpdGxlOiBcIkluaWNpZSBzZXNpw7NuIG8gY3JlZSB1bmEgbnVldmEgY3VlbnRhXCIsXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIkRlYmUgZXN0YXIgbG9ndWVhZG8gcGFyYSBwb2RlciBlbnZpYXIgeSByZWNpYmlyIG1lbnNhamVzLlwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7Ki9cbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZF9wZXJzb24ud2FybmluZyA9IFwiRGViZSBlc3RhciBsb2d1ZWFkbyBwYXJhIHBvZGVyIGVudmlhciB5IHJlY2liaXIgbWVuc2FqZXMuXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL1NFTUFGT1JPIE9DVVBBRE9cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLmNoZWNrSWZDYW5SZXBseUludml0YXRpb24gPSBmdW5jdGlvbihpbnZpdGF0aW9uKXtcbiAgICAgIGlmKFVzZXJTZXJ2aWNlLnVpZCl7XG4gICAgICAgIGlmKFVzZXJTZXJ2aWNlLnVpZCE9aW52aXRhdGlvbi51aWQpe1xuICAgICAgICAgIGlmKGludml0YXRpb24uc3RhdHVzPT1cIkVudmlhZGFcInx8aW52aXRhdGlvbi5zdGF0dXM9PVwiUmVjaWJpZGFcIil7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2hlY2tJZldhaXRpbmdSZXBseUZyb21JbnZpdGF0aW9uID0gZnVuY3Rpb24oaW52aXRhdGlvbil7XG4gICAgICBpZihVc2VyU2VydmljZS51aWQpe1xuICAgICAgICBpZihVc2VyU2VydmljZS51aWQ9PWludml0YXRpb24udWlkKXtcbiAgICAgICAgICBpZihpbnZpdGF0aW9uLnN0YXR1cz09XCJFbnZpYWRhXCJ8fGludml0YXRpb24uc3RhdHVzPT1cIlJlY2liaWRhXCIpe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgJHNjb3BlLmdldERyaW5rQ29zdEJ5TmlkID0gZnVuY3Rpb24obmlkKXtcbiAgICAgIHZhciByZXN1bHQgPSAwO1xuICAgICAgaWYoJHNjb3BlLmludml0YXRpb24uYXZhaWxhYmxlX2RyaW5rcyl7XG4gICAgICAgICRzY29wZS5pbnZpdGF0aW9uLmF2YWlsYWJsZV9kcmlua3MuZm9yRWFjaChmdW5jdGlvbihkcmluaykge1xuICAgICAgICAgIGlmKGRyaW5rLk5pZD09bmlkKXtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRyaW5rLkNyZWRpdHM7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgJHNjb3BlLmFjY2VwdEludml0YXRpb24gPSBmdW5jdGlvbihuaWQpe1xuICAgICAgJHNjb3BlLnNlbmRfaW52aXRhdGlvbl9yZXNwb25zZShcIkFjZXB0YWRhXCIsbmlkKTtcbiAgICAgICRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIudGFsayA9IHRydWU7XG4gICAgfVxuXG4gICAgJHNjb3BlLnJlZnVzZUludml0YXRpb24gPSBmdW5jdGlvbihuaWQpe1xuICAgICAgJHNjb3BlLnNlbmRfaW52aXRhdGlvbl9yZXNwb25zZShcIlJlY2hhemFkYVwiLG5pZCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNhblRhbGtUb1VzZXIgPSBmdW5jdGlvbih1aWQpe1xuICAgICAgaWYoVXNlclNlcnZpY2UudWlkKXtcbiAgICAgICAgICBpZihNZXNzYWdlU2VydmljZS5jYW5UYWxrVG9Vc2Vyc1sndWlkLScrdWlkXSE9bnVsbCl7XG4gICAgICAgICAgICBpZihNZXNzYWdlU2VydmljZS5jYW5UYWxrVG9Vc2Vyc1sndWlkLScrdWlkXT09MSl7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlbmRfaW52aXRhdGlvbl9yZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlLG5pZCl7XG4gICAgICB2YXIgZXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yX2NvbnRhaW5lclwiKTtcbiAgICAgIGVycm9yLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgaWYobmlkID09IG51bGwpe1xuICAgICAgICBlcnJvci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBlcnJvci5pbm5lckhUTUwgPSBcIkh1Ym8gdW4gZXJyb3IuIE5vIHNlIGVuY3VlbnRyYSBlbCBJRCBkZSBpbnZpdGFjacOzblwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBjb3N0ID0gJHNjb3BlLmdldERyaW5rQ29zdEJ5TmlkKCRzY29wZS5pbnZpdGF0aW9uLnNlbGVjdGVkX2RyaW5rKTtcbiAgICAgICAgdmFyIGNyZWRpdHMgPSAkc2NvcGUuaW52aXRhdGlvbi51c2VyX2NyZWRpdHM7XG4gICAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwic3VibWl0LWZvcm1cIikpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICBEcmlua1NlcnZpY2Uuc2VuZERyaW5rSW52aXRhdGlvblJlc3BvbnNlKHJlc3BvbnNlLFVzZXJTZXJ2aWNlLm5hbWUsVXNlclNlcnZpY2UucGFzc3dvcmQsbmlkLFVzZXJTZXJ2aWNlLnVpZCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHZhciBkYXRhID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCk7XG4gICAgICAgICAgICBpZighKGRhdGEuU3RhdHVzICYmIGRhdGEuU3RhdHVzPT1cImVycm9yXCIpKXtcbiAgICAgICAgICAgICAgLy9NZXNzYWdlU2VydmljZS5jYW5UYWxrVG9Vc2Vyc1sndWlkLScrJHNjb3BlLmludml0YXRpb24ub3RoZXJfdXNlci51aWRdID0gbnVsbDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBlcnJvci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICBlcnJvci5pbm5lckhUTUwgPSBkYXRhLk1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2VsZWN0X2RyaW5rX3RvX2ludml0ZSA9IGZ1bmN0aW9uKGRyaW5rTmlkKXtcbiAgICAgICRzY29wZS5pbnZpdGF0aW9uLnNlbGVjdGVkX2RyaW5rID0gZHJpbmtOaWQ7XG4gICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbnZpdGF0aW9uIGRyaW5rIHNlbGVjdGVkXCIpO1xuICAgICAgdmFyIGk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHhbaV0uY2xhc3NOYW1lID0gXCJpbnZpdGF0aW9uIGRyaW5rXCI7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRyaW5rX25pZF9cIitkcmlua05pZCkuY2xhc3NOYW1lID0gXCJpbnZpdGF0aW9uIGRyaW5rIHNlbGVjdGVkXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlbmRfaW52aXRhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgZXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yX2NvbnRhaW5lclwiKTtcbiAgICAgIGlmKCRzY29wZS5pbnZpdGF0aW9uLnNlbGVjdGVkX2RyaW5rID09IG51bGwpe1xuICAgICAgICBlcnJvci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBlcnJvci5pbm5lckhUTUwgPSBcIkRlYmUgc2VsZWNjaW9uYXIgdW5hIGJlYmlkYSBhIGludml0YXJcIjtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXIgY29zdCA9ICRzY29wZS5nZXREcmlua0Nvc3RCeU5pZCgkc2NvcGUuaW52aXRhdGlvbi5zZWxlY3RlZF9kcmluayk7XG4gICAgICAgIHZhciBjcmVkaXRzID0gJHNjb3BlLmludml0YXRpb24udXNlcl9jcmVkaXRzO1xuICAgICAgICBpZihwYXJzZUZsb2F0KGNvc3QpPnBhcnNlRmxvYXQoY3JlZGl0cykpe1xuICAgICAgICAgICRzY29wZS5pbnZpdGF0aW9uLndhcm5pbmcgPSBcIk5vIHRpZW5lcyBzdWZpY2llbnRlcyBjcsOpZGl0b3MuXCI7XG4gICAgICAgICAgJHNjb3BlLmludml0YXRpb24ud2FybmluZ19zdWIgPSBcIkNhcmdhIG3DoXMgY3LDqWRpdG9zIHBhcmEgc2VndWlyIGludml0YW5kby5cIjtcblxuICAgICAgICAgIC8vZXJyb3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAvL2Vycm9yLmlubmVySFRNTCA9IFwiQ3LDqWRpdG9zIGluc3VmaWNpZW50ZXMuIFBhcmEgcG9kZXIgaW52aXRhciBlc3RhIGJlYmlkYSBkZWJlIGNvbXByYXIgbcOhcyBjcsOpZGl0b3NcIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJzdWJtaXQtZm9ybVwiKSl7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICBEcmlua1NlcnZpY2Uuc2VuZERyaW5rSW52aXRhdGlvblRvVXNlcigkc2NvcGUuaW52aXRhdGlvbi5zZWxlY3RlZF9kcmluaywkc2NvcGUuaW52aXRhdGlvbi5vdGhlcl91c2VyLnVpZCxVc2VyU2VydmljZS51aWQsVXNlclNlcnZpY2UubmFtZSxVc2VyU2VydmljZS5wYXNzd29yZCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIHZhciBkYXRhID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCk7XG4gICAgICAgICAgICAgIGlmKCEoZGF0YS5TdGF0dXMgJiYgZGF0YS5TdGF0dXM9PVwiZXJyb3JcIikpe1xuICAgICAgICAgICAgICAgICRzY29wZS5pbnZpdGF0aW9uLnVzZXJfY3JlZGl0cyA9IGRhdGEuTmV3Q3JlZGl0cztcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW52aXRhdGlvbi5zZWxlY3RlZF9kcmluayA9IG51bGw7XG4gICAgICAgICAgICAgICAgTWVzc2FnZVNlcnZpY2UuY2FuVGFsa1RvVXNlcnNbJ3VpZC0nKyRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIudWlkXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5JbnZpdGF0aW9uc01vZGFsKCRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIudWlkKTtcbiAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgZXJyb3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICBlcnJvci5pbm5lckhUTUwgPSBkYXRhLk1lc3NhZ2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5vcGVuU2luZ2xlSW52aXRhdGlvbk1vZGFsRnJvbUNoYXQgPSBmdW5jdGlvbih1aWQpe1xuICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydwcml2YXRlTWVzc2FnZSddKXtcbiAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubXlJbnRlcnZhbHNbJ3ByaXZhdGVNZXNzYWdlJ10pO1xuICAgICAgfVxuICAgICAgJHNjb3BlLmludml0YXRpb24gPSBuZXcgQXJyYXkoKTtcbiAgICAgICRzY29wZS5pbnZpdGF0aW9uLnJlc3BvbnNlID0gbnVsbDtcbiAgICAgICRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIgPSBuZXcgQXJyYXkoKTtcbiAgICAgICRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIgPSBuZXcgQXJyYXkoKTtcbiAgICAgICRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIudWlkID0gdWlkO1xuICAgICAgJHNjb3BlLmludml0YXRpb24uaW52aXRhdGlvbnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICRzY29wZS5pbnZpdGF0aW9uLmF2YWlsYWJsZV9kcmlua3MgPSBuZXcgQXJyYXkoKTtcbiAgICAgICRzY29wZS5pbnZpdGF0aW9uLnNlbGVjdGVkX2RyaW5rID0gbnVsbDtcbiAgICAgIE1lc3NhZ2VTZXJ2aWNlLmdldFVzZXJJbmZvKHVpZCkudGhlbihmdW5jdGlvbihkYXRhX3Jlc3Ape1xuICAgICAgICBpZigkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShkYXRhX3Jlc3ApLlBob3RvKXtcbiAgICAgICAgICAkc2NvcGUuaW52aXRhdGlvbi5vdGhlcl91c2VyLnBpY3R1cmVfdXJsID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UoZGF0YV9yZXNwKS5QaG90bztcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLmludml0YXRpb24ub3RoZXJfdXNlci5waWN0dXJlX3VybCA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuaW52aXRhdGlvbi5teV91aWQgPSBVc2VyU2VydmljZS51aWQ7XG4gICAgICAgICRzY29wZS5pbnZpdGF0aW9uLm15X3BpY3R1cmVfdXJsID0gVXNlclNlcnZpY2UucGljdHVyZV91cmw7XG4gICAgICAgICRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIudXNlcm5hbWUgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShkYXRhX3Jlc3ApLk5hbWU7XG4gICAgICAgICRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIub25saW5lX3N0YXR1cyA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKGRhdGFfcmVzcCkuT25saW5lX3N0YXR1cztcbiAgICAgICAgRHJpbmtTZXJ2aWNlLmdldEFsbERyaW5rc0F2YWlsYWJsZShVc2VyU2VydmljZS5uYW1lLCBVc2VyU2VydmljZS5wYXNzd29yZCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICB2YXIgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApO1xuICAgICAgICAgIGlmKCEoZGF0YS5TdGF0dXMgJiYgZGF0YS5TdGF0dXM9PVwiZXJyb3JcIikpe1xuICAgICAgICAgICAgJHNjb3BlLmludml0YXRpb24uYXZhaWxhYmxlX2RyaW5rcyA9IGRhdGEuRHJpbmtzO1xuICAgICAgICAgICAgJHNjb3BlLmludml0YXRpb24udXNlcl9jcmVkaXRzID0gZGF0YS5Vc2VyQ3JlZGl0cztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcIm9wZW4tbW9kYWxcIikpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIGlmKFVzZXJTZXJ2aWNlLnVpZCl7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9kcmlua19pbnZpdGF0aW9uX25ld19mcm9tX2NoYXQuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZF9wZXJzb24ud2FybmluZyA9IFwiRGViZSBlc3RhciBsb2d1ZWFkbyBwYXJhIHBvZGVyIGVudmlhciB5IHJlY2liaXIgaW52aXRhY2lvbmVzLlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9TRU1BRk9STyBPQ1VQQURPXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5TaW5nbGVJbnZpdGF0aW9uTW9kYWwgPSBmdW5jdGlvbih1aWQpe1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJvcGVuLW1vZGFsXCIpKXtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGlmKFVzZXJTZXJ2aWNlLnVpZCl7XG4gICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZHJpbmtfaW52aXRhdGlvbl9uZXcuaHRtbCcsIHtcbiAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGVkX3BlcnNvbi53YXJuaW5nID0gXCJEZWJlIGVzdGFyIGxvZ3VlYWRvIHBhcmEgcG9kZXIgZW52aWFyIHkgcmVjaWJpciBpbnZpdGFjaW9uZXMuXCI7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAvL1NFTUFGT1JPIE9DVVBBRE9cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUub3Blbkludml0YXRpb25zTW9kYWwgPSBmdW5jdGlvbih1aWQpe1xuICAgICAgJHNjb3BlLmNsZWFyX2FsbF9pbnRlcnZhbHMoKTtcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBpZihVc2VyU2VydmljZS51aWQpe1xuICAgICAgICAgICRzY29wZS5pbnZpdGF0aW9uID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgJHNjb3BlLmludml0YXRpb24ucmVzcG9uc2UgPSBudWxsO1xuICAgICAgICAgICRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAkc2NvcGUuaW52aXRhdGlvbi5vdGhlcl91c2VyLnVpZCA9IHVpZDtcbiAgICAgICAgICAvL01lc3NhZ2VTZXJ2aWNlLmNhblRhbGtUb1VzZXJzWyd1aWQtJyskc2NvcGUuaW52aXRhdGlvbi5vdGhlcl91c2VyLnVpZF0gPSBudWxsO1xuICAgICAgICAgICRzY29wZS5pbnZpdGF0aW9uLmludml0YXRpb25zID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgJHNjb3BlLmludml0YXRpb24uYXZhaWxhYmxlX2RyaW5rcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICRzY29wZS5pbnZpdGF0aW9uLnNlbGVjdGVkX2RyaW5rID0gbnVsbDtcbiAgICAgICAgICBNZXNzYWdlU2VydmljZS5nZXRVc2VySW5mbyh1aWQpLnRoZW4oZnVuY3Rpb24oZGF0YV9yZXNwKXtcbiAgICAgICAgICBpZigkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShkYXRhX3Jlc3ApLlBob3RvKXtcbiAgICAgICAgICAgICRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIucGljdHVyZV91cmwgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShkYXRhX3Jlc3ApLlBob3RvO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgJHNjb3BlLmludml0YXRpb24ub3RoZXJfdXNlci5waWN0dXJlX3VybCA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgJHNjb3BlLmludml0YXRpb24ubXlfdWlkID0gVXNlclNlcnZpY2UudWlkO1xuICAgICAgICAgICRzY29wZS5pbnZpdGF0aW9uLm15X3BpY3R1cmVfdXJsID0gVXNlclNlcnZpY2UucGljdHVyZV91cmw7XG4gICAgICAgICAgJHNjb3BlLmludml0YXRpb24ub3RoZXJfdXNlci51c2VybmFtZSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKGRhdGFfcmVzcCkuTmFtZTtcbiAgICAgICAgICAkc2NvcGUuaW52aXRhdGlvbi5vdGhlcl91c2VyLm9ubGluZV9zdGF0dXMgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShkYXRhX3Jlc3ApLk9ubGluZV9zdGF0dXM7XG4gICAgICAgICAgICBEcmlua1NlcnZpY2UuZ2V0QWxsRHJpbmtzQXZhaWxhYmxlKFVzZXJTZXJ2aWNlLm5hbWUsIFVzZXJTZXJ2aWNlLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApO1xuICAgICAgICAgICAgICBpZighKGRhdGEuU3RhdHVzICYmIGRhdGEuU3RhdHVzPT1cImVycm9yXCIpKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW52aXRhdGlvbi5hdmFpbGFibGVfZHJpbmtzID0gZGF0YS5Ecmlua3M7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmludml0YXRpb24udXNlcl9jcmVkaXRzID0gZGF0YS5Vc2VyQ3JlZGl0cztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBEcmlua1NlcnZpY2UuZ2V0QWxsSW52aXRhdGlvbnNXaXRoVXNlcihVc2VyU2VydmljZS5uYW1lLCBVc2VyU2VydmljZS5wYXNzd29yZCwkc2NvcGUuaW52aXRhdGlvbi5vdGhlcl91c2VyLnVpZCxVc2VyU2VydmljZS51aWQpLnRoZW4oZnVuY3Rpb24ocmVzcDIpe1xuICAgICAgICAgICAgICAgIHZhciBkYXRhMiA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3AyKTtcbiAgICAgICAgICAgICAgICBpZighKGRhdGEyLlN0YXR1cyAmJiBkYXRhMi5TdGF0dXM9PVwiZXJyb3JcIikpe1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmludml0YXRpb24uaW52aXRhdGlvbnMgPSBkYXRhMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTWVzc2FnZVNlcnZpY2UuY2hlY2tXaG9DYW5UYWxrKFVzZXJTZXJ2aWNlLm5hbWUsVXNlclNlcnZpY2UucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgaWYoIShkYXRhLlN0YXR1cyAmJiBkYXRhLlN0YXR1cz09XCJlcnJvclwiKSl7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbih1aWQpe1xuICAgICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLmNhblRhbGtUb1VzZXJzWyd1aWQtJyt1aWRdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydkcmlua0ludml0YXRpb24nXSl7XG4gICAgICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5teUludGVydmFsc1snZHJpbmtJbnZpdGF0aW9uJ10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUubXlJbnRlcnZhbHNbJ2RyaW5rSW52aXRhdGlvbiddID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgRHJpbmtTZXJ2aWNlLmdldEFsbEludml0YXRpb25zV2l0aFVzZXIoVXNlclNlcnZpY2UubmFtZSwgVXNlclNlcnZpY2UucGFzc3dvcmQsJHNjb3BlLmludml0YXRpb24ub3RoZXJfdXNlci51aWQsVXNlclNlcnZpY2UudWlkKS50aGVuKGZ1bmN0aW9uKHJlc3AzKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEzID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcDMpO1xuICAgICAgICAgICAgICAgICAgICBpZighKGRhdGEzLlN0YXR1cyAmJiBkYXRhMy5TdGF0dXM9PVwiZXJyb3JcIikpe1xuICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZpdGF0aW9uLmludml0YXRpb25zID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UoZGF0YTMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLmNoZWNrV2hvQ2FuVGFsayhVc2VyU2VydmljZS5uYW1lLFVzZXJTZXJ2aWNlLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYoIShkYXRhLlN0YXR1cyAmJiBkYXRhLlN0YXR1cz09XCJlcnJvclwiKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24odWlkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgTWVzc2FnZVNlcnZpY2UuY2FuVGFsa1RvVXNlcnNbJ3VpZC0nK3VpZF0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZHJpbmtfaW52aXRhdGlvbi5odG1sJywge1xuICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAvKnZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgICAgICAgdGl0bGU6IFwiSW5pY2llIHNlc2nDs24gbyBjcmVlIHVuYSBudWV2YSBjdWVudGFcIixcbiAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIkRlYmUgZXN0YXIgbG9ndWVhZG8gcGFyYSBwb2RlciBlbnZpYXIgeSByZWNpYmlyIGludml0YWNpb25lcy5cIlxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgIC8vcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9KTsqL1xuICAgICAgICAgICRzY29wZS5zZWxlY3RlZF9wZXJzb24ud2FybmluZyA9IFwiRGViZSBlc3RhciBsb2d1ZWFkbyBwYXJhIHBvZGVyIGVudmlhciB5IHJlY2liaXIgaW52aXRhY2lvbmVzLlwiO1xuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9TRU1BRk9STyBPQ1VQQURPXG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX21lc3NhZ2VfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydwcml2YXRlTWVzc2FnZSddKXtcbiAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubXlJbnRlcnZhbHNbJ3ByaXZhdGVNZXNzYWdlJ10pO1xuICAgICAgfVxuICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydkcmlua0ludml0YXRpb24nXSl7XG4gICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm15SW50ZXJ2YWxzWydkcmlua0ludml0YXRpb24nXSk7XG4gICAgICB9XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gbGEgaW5mbyBkZWwgdXN1YXJpbyBsb2d1ZWFkbyB5IGNvbiBlbCBzdWJtaXQgYSB1cGRhdGVfdXNlclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgJHNjb3BlLnNldEFjdGl2ZU1lbnVCdXR0b24oJ2J1dHRvbl9nZW5lcmFsJyk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX2ludml0YXRpb25fbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydwcml2YXRlTWVzc2FnZSddKXtcbiAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubXlJbnRlcnZhbHNbJ3ByaXZhdGVNZXNzYWdlJ10pO1xuICAgICAgfVxuICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydkcmlua0ludml0YXRpb24nXSl7XG4gICAgICAgICRpbnRlcnZhbC5jYW5jZWwoJHNjb3BlLm15SW50ZXJ2YWxzWydkcmlua0ludml0YXRpb24nXSk7XG4gICAgICB9XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gbGEgaW5mbyBkZWwgdXN1YXJpbyBsb2d1ZWFkbyB5IGNvbiBlbCBzdWJtaXQgYSB1cGRhdGVfdXNlclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgJHNjb3BlLnNldEFjdGl2ZU1lbnVCdXR0b24oJ2J1dHRvbl9nZW5lcmFsJyk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlbmRfbWVzc2FnZV9vayA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcInN1Ym1pdC1mb3JtXCIpKXtcbiAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGlmKCRzY29wZS5jaGF0Lm5ld190ZXh0X21lc3NhZ2Upe1xuICAgICAgICAgIE1lc3NhZ2VTZXJ2aWNlLnNlbmRUZXh0TWVzc2FnZVRvVXNlcigkc2NvcGUuY2hhdC5uZXdfdGV4dF9tZXNzYWdlLCRzY29wZS5jaGF0Lm90aGVyX3VzZXIudWlkLFVzZXJTZXJ2aWNlLnVpZCxVc2VyU2VydmljZS5uYW1lLFVzZXJTZXJ2aWNlLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlX3RleHRfYXJlYVwiKS5pbm5lckhUTUw9XCJcIjtcbiAgICAgICAgICAgICRzY29wZS5jaGF0Lm5ld190ZXh0X21lc3NhZ2UgPSBcIlwiO1xuICAgICAgICAgICAgTWVzc2FnZVNlcnZpY2UuZ2V0QWxsTWVzc2FnZXNUb1VzZXIoVXNlclNlcnZpY2UubmFtZSwgVXNlclNlcnZpY2UucGFzc3dvcmQsJHNjb3BlLmNoYXQub3RoZXJfdXNlci51aWQsVXNlclNlcnZpY2UudWlkKS50aGVuKGZ1bmN0aW9uKHJlc3AyKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhdC5tZXNzYWdlcyA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3AyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuZ2V0TmFtZUZyb21VaWQgPWZ1bmN0aW9uKHVpZCl7XG4gICAgICBpZihVc2VyU2VydmljZS51aWQ9PXVpZCl7XG4gICAgICAgIHJldHVybiBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGlmKCRzY29wZS5jaGF0Lm90aGVyX3VzZXIudWlkPT11aWQpe1xuICAgICAgICAgIHJldHVybiAkc2NvcGUuY2hhdC5vdGhlcl91c2VyLnVzZXJuYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmdldE5hbWVGcm9tVWlkSW52aXRhdGlvbiA9ZnVuY3Rpb24odWlkKXtcbiAgICAgIGlmKFVzZXJTZXJ2aWNlLnVpZD09dWlkKXtcbiAgICAgICAgcmV0dXJuIFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYoJHNjb3BlLmludml0YXRpb24ub3RoZXJfdXNlci51aWQ9PXVpZCl7XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5pbnZpdGF0aW9uLm90aGVyX3VzZXIudXNlcm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUudGltZUNvbnZlcnRlciA9IGZ1bmN0aW9uKFVOSVhfdGltZXN0YW1wKXtcbiAgICAgIHZhciBhID0gbmV3IERhdGUoVU5JWF90aW1lc3RhbXAgKiAxMDAwKTtcbiAgICAgIHZhciBtb250aHMgPSBbJ0VuZXJvJywnRmVicmVybycsJ01hcnpvJywnQWJyaWwnLCdNYXlvJywnSnVuaW8nLCdKdWxpbycsJ0Fnb3N0bycsJ1NldGllbWJyZScsJ09jdHVicmUnLCdOb3ZpZW1icmUnLCdEaWNpZW1icmUnXTtcbiAgICAgIHZhciB5ZWFyID0gYS5nZXRGdWxsWWVhcigpO1xuICAgICAgLy92YXIgbW9udGggPSBtb250aHNbYS5nZXRNb250aCgpXTtcbiAgICAgIHZhciBtb250aCA9IGEuZ2V0TW9udGgoKSArIDE7XG4gICAgICBpZihtb250aDwxMCl7XG4gICAgICAgIG1vbnRoID0gXCIwXCIrbW9udGg7XG4gICAgICB9XG4gICAgICB2YXIgZGF5ID0gYS5nZXREYXRlKCk7XG4gICAgICBpZihkYXk8MTApe1xuICAgICAgICBkYXkgPSBcIjBcIitkYXk7XG4gICAgICB9XG4gICAgICB2YXIgaG91ciA9IGEuZ2V0SG91cnMoKTtcbiAgICAgIGlmKGhvdXI8MTApe1xuICAgICAgICBob3VyID0gXCIwXCIraG91cjtcbiAgICAgIH1cbiAgICAgIHZhciBtaW4gPSBhLmdldE1pbnV0ZXMoKTtcbiAgICAgIGlmKG1pbjwxMCl7XG4gICAgICAgIG1pbiA9IFwiMFwiK21pbjtcbiAgICAgIH1cbiAgICAgIHZhciBzZWMgPSBhLmdldFNlY29uZHMoKTtcbiAgICAgIHZhciB0aW1lID0gZGF5ICsgJy8nICsgbW9udGggKyAnLycgKyB5ZWFyICsgJyAnICsgaG91ciArICc6JyArIG1pbjtcbiAgICAgIHJldHVybiB0aW1lO1xuICAgIH1cblxuXG5cbiAgICAvLyBTdWdnZXN0aW9uXG4gICAgJHNjb3BlLm1vZGVsID0gW107XG4gICAgJHNjb3BlLmV4dGVybmFsTW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAgICRzY29wZS5wcmVzZWxlY3RlZFNlYXJjaEl0ZW1zID0gW107XG4gICAgJHNjb3BlLmNsaWNrZWRWYWx1ZU1vZGVsID0gXCJcIjtcbiAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBcIlwiO1xuXG5cbiAgICAkc2NvcGUuaXRlbXNSZW1vdmVkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IGNhbGxiYWNrO1xuICAgIH07XG5cbiAgICAkc2NvcGUudXNlcl9vcHRpb25zID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIGlmKG1lbnUuc3R5bGUuZGlzcGxheT09XCJibG9ja1wiKXtcbiAgICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhVc2VyU2VydmljZS5uYW1lKTtcbiAgICAgICAgdmFyIG5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL05vIGVzdGEgbG9ndWVhZG9cbiAgICAgICAgICAkc2NvcGUuc2hvd19hbm9ueW1vdXNfbWVudSgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL0VzdMOhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfdXNlcl9tZW51KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd19hbm9ueW1vdXNfbWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICB2YXIgaHRtbCA9IFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X2xvZ2luX21vZGFsKCknPkluaWNpYXIgc2VzacOzbjwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J25vbmF1dGgtbGluaycgbmctY2xpY2s9J3Nob3dfc2lnbl91cF9tb2RhbCgpJz5SZWdpc3RyYXJzZTwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcxMjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzE1MHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd191c2VyX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBVc2VyU2VydmljZS5uYW1lICsgXCI8ZGl2IGlkPSdhdXRoX29wdGlvbnMnPjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdzaG93X2VkaXRfcHJvZmlsZV9tb2RhbCgpJz5NaSBwZXJmaWw8L2Rpdj5cIjtcbiAgICAgIC8vaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdjaGFuZ2VfcGFzc3dvcmQoKSc+Q2FtYmlhciBjb250cmFzZcOxYTwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdzaWduX291dCgpJz5DZXJyYXIgc2VzacOzbjwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcyMjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheSA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzID0gZnVuY3Rpb24obmFtZSx0eXBlLHZhbHVlLHNlY29uZFZhbHVlKXtcbiAgICAgIHZhciBmaWVsZCA9IG5ldyBBcnJheSgpO1xuICAgICAgZmllbGQubmFtZSA9IG5hbWU7XG4gICAgICBmaWVsZC50eXBlID0gdHlwZTtcbiAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7XG4gICAgICBmaWVsZC5zZWNvbmRWYWx1ZSA9IHNlY29uZFZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsgPSBmdW5jdGlvbih1cmwpe1xuICAgICAgaWYodXJsLmluZGV4T2YoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpID49IDApe1xuICAgICAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpO1xuICAgICAgICB2YXIgbmV3VXJsID0gXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIrcGFydHNbMV07XG4gICAgICAgIHJldHVybiBuZXdVcmw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH07XG5cbiAgICAkc2NvcGUubG9nX2luID0gZnVuY3Rpb24odXNlciwgcGFzc3dvcmQpe1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJzdWJtaXQtZm9ybVwiKSl7XG4gICAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiVXN1YXJpb1wiLFwibm90TnVsbFwiLHVzZXIpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWFcIixcIm5vdE51bGxcIixwYXNzd29yZCkpO1xuICAgICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLCRzY29wZS5sb2dpbikpe1xuICAgICAgICAgICAgQXV0aFNlcnZpY2UubG9nX2luKHVzZXIscGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsJHNjb3BlLmxvZ2luKSl7XG4gICAgICAgICAgICAgICAgcGhvdG8gPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8pO1xuICAgICAgICAgICAgICAgIGlmKHBob3RvPT1cImFub25cIil7XG4gICAgICAgICAgICAgICAgICBwaG90bz1cInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQsIHBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQscGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZW5kVXNlckxvY2F0aW9uKCk7XG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAvL2FsZXJ0KFwiRXJyb3IgZW4gc2lnbl9pblwiKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2UoXCJlcnJvcl9jb250YWluZXJcIixyZXNwLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJTaW4gY29uZXhpw7NuIGEgaW50ZXJuZXRcIixcIlBhcmEgaW5pY2lhciBzZXNpw7NuIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUubG9nX2luX2JhY2tncm91bmQgPSBmdW5jdGlvbih1c2VyLCBwYXNzd29yZCl7XG4gICAgICBBdXRoU2VydmljZS5sb2dfaW4odXNlcixwYXNzd29yZCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheChyZXNwKSl7XG4gICAgICAgICAgcGhvdG8gPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8pO1xuICAgICAgICAgIGlmKHBob3RvPT1cImFub25cIil7XG4gICAgICAgICAgICBwaG90bz1cInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgcGFzc3dvcmQsIHBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUscGFzc3dvcmQscGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcblxuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgICRzY29wZS5zZW5kVXNlckxvY2F0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAocmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2VuZFVzZXJMb2NhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcInN1Ym1pdC1sb2NhdGlvblwiKSl7XG4gICAgICAgIGlmKFVzZXJTZXJ2aWNlLnNob3dfbG9jYXRpb249PTEpe1xuICAgICAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDEwMDAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWV9O1xuICAgICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICBQaW5TZXJ2aWNlLnNlbmRVc2VyTG9jYXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsVXNlclNlcnZpY2UubmFtZSxVc2VyU2VydmljZS5wYXNzd29yZCxVc2VyU2VydmljZS51aWQpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheChyZXNwKSl7XG4gICAgICAgICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfbGFzdF91c2VyX3Bvc2l0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5sb2FkUGluc0xheWVyKCk7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1sb2NhdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtbG9jYXRpb25cIik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWxvY2F0aW9uXCIpO1xuICAgICAgICAgICAgICAkc2NvcGUubG9hZFBpbnNMYXllcigpO1xuICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtbG9jYXRpb25cIik7XG4gICAgICAgICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2lnbl9vdXQgPSBmdW5jdGlvbigpe1xuICAgICAgVXNlclNlcnZpY2UuZXJhc2VfdXNlcl9kYXRhKCk7XG4gICAgICBEQlNlcnZpY2UuZXJhc2VVc2VyKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfZWRpdF9wcm9maWxlX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5jbGVhcl9hbGxfaW50ZXJ2YWxzKCk7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gbGEgaW5mbyBkZWwgdXN1YXJpbyBsb2d1ZWFkbyB5IGNvbiBlbCBzdWJtaXQgYSBlZGl0X3Byb2ZpbGVfb2tcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAkc2NvcGUubmV3dXNlciA9IG5ldyBBcnJheSgpO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5lbWFpbCA9IFVzZXJTZXJ2aWNlLmVtYWlsO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5nZW5kZXIgPSBVc2VyU2VydmljZS5nZW5kZXI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnVzZXJuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuaW50ZXJlc3RlZCA9IFVzZXJTZXJ2aWNlLmludGVyZXN0ZWQ7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLnN0YXR1cyA9IFVzZXJTZXJ2aWNlLnN0YXR1cztcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuc2hvd19sb2NhdGlvbiA9IFVzZXJTZXJ2aWNlLnNob3dfbG9jYXRpb247XG4gICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBVc2VyU2VydmljZS5waWN0dXJlX3VybDtcbiAgICAgICAgaWYoJHNjb3BlLmFjdHVhbF9waG90byE9bnVsbCl7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYoJHNjb3BlLmFjdHVhbF9waG90bz09XCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCIpe1xuICAgICAgICAgICRzY29wZS5hY3R1YWxfcGhvdG8gPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgIH1cbiAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgIGlmKFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZWRpdF9wcm9maWxlX3dpdGhfcGhvdG8uaHRtbCcsIHtcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9lZGl0X3Byb2ZpbGVfd2l0aF9waG90b19kZXNrdG9wLmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLnJlYWRVUkwgPSBmdW5jdGlvbiAoaW5wdXQsdHlwZSkge1xuICAgICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGlmKHR5cGU9PTEpe1xuICAgICAgICAgICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgICAgICB9ZWxzZSBpZiAodHlwZT09Mil7XG4gICAgICAgICAgJHNjb3BlLmNvbW1lbnQucGhvdG8gPSBpbnB1dC5maWxlc1swXTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLnJlcG9ydC5maWxlID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUltYWdlXCIpLnNyYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XG4gICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gbGEgaW5mbyBkZWwgdXN1YXJpbyBsb2d1ZWFkbyB5IGNvbiBlbCBzdWJtaXQgYSB1cGRhdGVfdXNlclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuICAgICRzY29wZS5lZGl0X3Byb2ZpbGVfb2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmVkaXRfcHJvZmlsZSgpO1xuICAgIH1cblxuICAgICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgaWYocmVzcG9uc2UuZGF0YSl7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuZWRpdF9wcm9maWxlID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwic3VibWl0LWZvcm1cIikpe1xuICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAvKnZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29ycmVvIGVsZWN0csOzbmljb1wiLFwiZW1haWxcIixuZXdfZW1haWwpKTtcbiAgICAgICAgICAvL2ZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkPDqWR1bGEgZGUgSWRlbnRpZGFkXCIsXCJpZGRvY191eVwiLGlkX2RvYykpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJOb21icmUgeSBhcGVsbGlkb1wiLFwidHdvX3dvcmRzXCIsZnVsbG5hbWUpKTsqL1xuICAgICAgICAgIC8qaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpeyovXG4gICAgICAgICAgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQgPSBVc2VyU2VydmljZS5wYXNzd29yZDtcbiAgICAgICAgICAgIHZhciBlZGl0X3JlcXVlc3QgPSBBdXRoU2VydmljZS5lZGl0X3VzZXIoJHNjb3BlLm5ld3VzZXIpO1xuICAgICAgICAgICAgaWYoJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmw9PW51bGwgfHwgJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmw9PVwiXCIgfHwgIVZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgICBlZGl0X3JlcXVlc3Quc3VjY2VzcyhmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiAxMDAlXCI7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLGNvbmZpZyl7XG4gICAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBlZGl0X3JlcXVlc3QudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgICBkYXRhID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkYXRhLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCBkYXRhLlBob3RvLCBkYXRhLlNob3dMb2NhdGlvbiwgZGF0YS5VaWQsIGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKGRhdGEuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCxkYXRhLlBob3RvLGRhdGEuU2hvd0xvY2F0aW9uLGRhdGEuVWlkLGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHZhciBhbGVydCA9IFwiQ8OzZGlnbzogXCIgKyBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBPcmlnZW46IFwiICsgZXJyb3Iuc291cmNlO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBEZXN0aW5vOiBcIiArIGVycm9yLnRhcmdldDtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgaHR0cF9zdGF0dXM6IFwiICsgZXJyb3IuaHR0cF9zdGF0dXM7XG4gICAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIEJvZHk6IFwiICsgZXJyb3IuYm9keTtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgRXhjZXB0aW9uOiBcIiArIGVycm9yLmV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIsXCJIdWJvIHVuIGVycm9yIGVuIGVsIGVudsOtbzogXCIgKyBhbGVydCk7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkUHJvZ3Jlc3MgPSAocHJvZ3Jlc3MubG9hZGVkIC8gcHJvZ3Jlc3MudG90YWwpICogMTAwO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiBcIiArIE1hdGgucm91bmQoJHNjb3BlLnVwbG9hZFByb2dyZXNzKSArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIC8qfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICB9Ki9cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBlZGl0YXIgc3UgcGVyZmlsIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAgICRzY29wZS5zaG93X2xvZ2luX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5jbGVhcl9hbGxfaW50ZXJ2YWxzKCk7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gZWwgZm9ybSBkZSBsb2dpbiB5IGFoaSBsbGFtYSBhbCBzaWduX2luXG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcIm9wZW4tbW9kYWxcIikpe1xuICAgICAgICAkc2NvcGUubm9uYXV0aCA9IG5ldyBBcnJheSgpO1xuICAgICAgICAkc2NvcGUubm9uYXV0aC51c2VyID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQgPSBcIlwiO1xuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2xvZ19pbi5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUubG9naW5fb2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmxvZ19pbigkc2NvcGUubm9uYXV0aC51c2VyLCRzY29wZS5ub25hdXRoLnBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfbG9naW5fbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgJHNjb3BlLnNldEFjdGl2ZU1lbnVCdXR0b24oJ2J1dHRvbl9nZW5lcmFsJyk7XG5cbiAgICB9XG5cblxuXG4gICAgJHNjb3BlLnNob3dfc2lnbl91cF9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuY2xlYXJfYWxsX2ludGVydmFscygpO1xuICAgICAgLy9jYXJnYXIgZWwgbW9kYWwgY29uIGVsIGZvcm0gZGUgc2lnbl91cCB5IGRlIGFoaSBsbGFtYXIgYWwgc2lnbl91cFxuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJvcGVuLW1vZGFsXCIpKXtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuZW1haWwgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmZ1bGxuYW1lID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuaWRfZG9jID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIudGVsZXBob25lID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIucGhvdG8gPSBcIlwiO1xuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgIGlmKFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3NpZ25fdXAuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb290X2JhclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9zaWduX3VwX2Rlc2t0b3AuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvb3RfYmFyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9zaWduX3VwX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9vdF9iYXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICRzY29wZS5zZXRBY3RpdmVNZW51QnV0dG9uKCdidXR0b25fZ2VuZXJhbCcpO1xuXG4gICAgfVxuXG4gICAgJHNjb3BlLnNpZ25fdXAgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJzdWJtaXQtZm9ybVwiKSl7XG4gICAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAvKmZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb3JyZW8gZWxlY3Ryw7NuaWNvXCIsXCJlbWFpbFwiLCRzY29wZS5uZXd1c2VyLmVtYWlsKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiVXN1YXJpb1wiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLnVzZXJuYW1lKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkfDqW5lcm9cIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci5nZW5kZXIpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiSW50ZXJlc2FkbyBlblwiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLmludGVyZXN0ZWQpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRXN0YWRvXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIuc3RhdHVzKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIk1vc3RyYXIgdWJpY2FjacOzblwiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLnNob3dfbG9jYXRpb24pKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzKFwiJ0NvbnRyYXNlw7FhJyB5ICdDb25maXJtYXIgY29udHJhc2XDsWEnXCIsXCJlcXVhbHNUb1wiLCRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCAkc2NvcGUubmV3dXNlci5yZXBhc3N3b3JkKSk7Ki9cbiAgICAgICAgICAvL2lmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgIGlmKCRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsIT1udWxsICYmICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsIT1cIlwiICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgICBBdXRoU2VydmljZS5jcmVhdGVfdXNlcigkc2NvcGUubmV3dXNlcikudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiAxMDAlXCI7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsKGRhdGEsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgZGF0YSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZGF0YS5uYW1lLCBkYXRhLmVtYWlsLCAkc2NvcGUubmV3dXNlci5wYXNzd29yZCwgZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgZGF0YS5waG9uZSwgZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkYXRhLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCBkYXRhLlBob3RvLCBkYXRhLlNob3dMb2NhdGlvbiwgZGF0YS5VaWQsIGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKGRhdGEuTmFtZSxwYXNzd29yZCxkYXRhLlBob3RvLGRhdGEuU2hvd0xvY2F0aW9uLGRhdGEuVWlkLGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBBdXRoU2VydmljZS5jcmVhdGVfdXNlcigkc2NvcGUubmV3dXNlcikudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChyZXNwLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5VaWQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2Vfc2lnbl91cF9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiVXN1YXJpbyBjcmVhZG8gY29uIMOpeGl0b1wiLFxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIC8qfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICB9Ki9cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBpbmljaWFyIHJlZ2lzdHJhcnNlIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl91cF9vayA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL2NvbnNvbGUubG9nKCRzY29wZS5uZXd1c2VyKTtcbiAgICAgICRzY29wZS5zaWduX3VwKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgIGlmKG5hbWU9PW51bGwpe1xuICAgICAgICAgIC8vU2kgSGF5IHVuIHVzdWFyaW8gZ3VhcmRhZG9cbiAgICAgICAgICB2YXIgdXNlciA9IERCU2VydmljZS5nZXRVc2VyKCk7XG4gICAgICAgICAgdXNlci50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgIGlmKGRvYy5uYW1lIT1udWxsICYmIGRvYy5uYW1lIT1cIlwiICYmIGRvYy5uYW1lIT1cInVuZGVmaW5lZFwiKXtcbiAgICAgICAgICAgICAgJHNjb3BlLmxvZ19pbl9iYWNrZ3JvdW5kKGRvYy5uYW1lLCBkb2MucGFzc3dvcmQpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmw9PW51bGwgfHwgVXNlclNlcnZpY2UucGljdHVyZV91cmw9PVwiXCIpe1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyBubyB0aWVuZSBmb3RvIGRlZmluaWRhXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyB0aWVuZSBmb3RvXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X29mZmxpbmVfdXNlciA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL1NpIEhheSB1biB1c3VhcmlvIGd1YXJkYWRvXG4gICAgICAgICAgdmFyIHVzZXIgPSBEQlNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgIHVzZXIudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICBpZihkb2MubmFtZSE9bnVsbCAmJiBkb2MubmFtZSE9XCJcIiAmJiBkb2MubmFtZSE9XCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRvYy5uYW1lLCBkb2MucGFzc3dvcmQsIGRvYy5waWN0dXJlX3VybCwgZG9jLnNob3dfbG9jYXRpb24pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmw9PW51bGwgfHwgVXNlclNlcnZpY2UucGljdHVyZV91cmw9PVwiXCIpe1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyBubyB0aWVuZSBmb3RvIGRlZmluaWRhXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRWwgdXN1YXJpbyB0aWVuZSBmb3RvXG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUgPSBmdW5jdGlvbihoYXNQaG90byl7XG4gICAgICB2YXIgcGljdHVyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcl9waWN0dXJlXCIpO1xuICAgICAgaWYoaGFzUGhvdG89PTApe1xuICAgICAgICAvL3BpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gICAgICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZT1cIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaWYoVXNlclNlcnZpY2UucGljdHVyZV91cmwhPW51bGwgJiYgVXNlclNlcnZpY2UucGljdHVyZV91cmwhPVwiXCIpe1xuICAgICAgICAgIC8vYWxlcnQoVXNlclNlcnZpY2UucGljdHVyZV91cmwpO1xuICAgICAgICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZT1Vc2VyU2VydmljZS5waWN0dXJlX3VybDtcbiAgICAgICAgICAvL3BpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBVc2VyU2VydmljZS5waWN0dXJlX3VybCArIFwiKVwiO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL3BpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG4gICAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLmZpbmRfbWUgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uKFwiYnV0dG9uLWZpbmQtbWVcIik7XG4gICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDEwMDAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWV9O1xuICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sYXQgID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUscG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7XG4gICAgICAgICAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE4O1xuICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci56b29tID0gMTY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJHNjb3BlLm1hcC5tYXJrZXJzLm5vdyA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6cG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxuZzpwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiPHAgYWxpZ249J2NlbnRlcic+VGUgZW5jdWVudHJhcyBhcXXDrSA8YnIvPiA8YSBuZy1jbGljaz0nbmV3X3JlcG9ydCgxKTsnPkluaWNpYXIgcmVwb3J0ZSBlbiB0dSBwb3NpY2nDs24gYWN0dWFsPC9hPjwvcD5cIixcbiAgICAgICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGdldE1lc3NhZ2VTY29wZTogZnVuY3Rpb24oKSB7IHJldHVybiAkc2NvcGU7IH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgLy8kc2NvcGUubWFwLm1hcmtlcnMubm93Lm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2NhdGlvbiBlcnJvciFcIik7XG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKFwiTm8gaGVtb3MgcG9kaWRvIGdlb2xvY2FsaXphcmxvLiDCv1RhbCB2ZXogb2x2aWTDsyBoYWJpbGl0YXIgbG9zIHNlcnZpY2lvcyBkZSBsb2NhbGl6YWNpw7NuIGVuIHN1IGRpc3Bvc2l0aXZvP1wiKVxuICAgICAgICAgICAgICAkc2NvcGUub3BlbkNvdW5jaWxTZWxlY3RvcigpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfTtcblxuICAgICAgJHNjb3BlLmNsaWNrX29uX3BlcmZpbF9idXR0b24gPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuY2xlYXJfYWxsX2ludGVydmFscygpO1xuICAgICAgICBpZihVc2VyU2VydmljZS51aWQhPW51bGwpe1xuICAgICAgICAgICRzY29wZS5zaG93X2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAkc2NvcGUuc2hvd19sb2dpbl9tb2RhbCgpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5zZXRBY3RpdmVNZW51QnV0dG9uKCdidXR0b25fZ2VuZXJhbCcpO1xuICAgICAgfTtcblxuXG4gICAgICAkc2NvcGUuaXNFcXVhbCA9IGZ1bmN0aW9uKG9iajEsIG9iajIpe1xuICAgICAgICBpZighb2JqMSB8fCAhb2JqMil7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmKE9iamVjdC5rZXlzKG9iajEpLmxlbmd0aD09T2JqZWN0LmtleXMob2JqMikubGVuZ3RoKXtcbiAgICAgICAgICAgIGZvcihrZXkgaW4gb2JqMSkge1xuICAgICAgICAgICAgICAgIGlmKGtleSAhPVwicGFyYW1zXCIpe1xuICAgICAgICAgICAgICAgIGlmKG9iajFba2V5XSA9PSBvYmoyW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImtleTpcIiArIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbGVhcl9hbGxfaW50ZXJ2YWxzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydwcml2YXRlTWVzc2FnZSddKXtcbiAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKCRzY29wZS5teUludGVydmFsc1sncHJpdmF0ZU1lc3NhZ2UnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoJHNjb3BlLm15SW50ZXJ2YWxzWydkcmlua0ludml0YXRpb24nXSl7XG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbCgkc2NvcGUubXlJbnRlcnZhbHNbJ2RyaW5rSW52aXRhdGlvbiddKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkc2NvcGUub3BlbkZpbHRlcnMgPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0YWItaXRlbSB0YWItaXRlbS1hY3RpdmVcIik7XG4gICAgICAgIGlmKHgubGVuZ3RoPjApe1xuICAgICAgICAgIC8vRVNUT1kgRU4gTElTVEFET1xuICAgICAgICAgIHZhciBhY3RpdmVUYWIgPSB4WzBdO1xuICAgICAgICAgIHZhciB0aXRsZSA9IGFjdGl2ZVRhYi5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUw7XG4gICAgICAgICAgaWYodGl0bGU9PVwiUEVSU09OQVNcIil7XG4gICAgICAgICAgICAkc2NvcGUuc2V0QmFja1RvID0gXCJsaXN0YWRvX3Blb3BsZVwiO1xuICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZmlsdGVyX3Blb3BsZS5odG1sJywge1xuICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcIm9wZW4tbW9kYWxcIik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZUZpbHRlckludGVyZXNhZG9Fbigkc2NvcGUuZmlsdGVyLmZpbHRlcl9wZW9wbGVfaW50ZXJlc2Fkb19lbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICRzY29wZS5zZXRCYWNrVG8gPSBcImxpc3RhZG9fYmFyXCI7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9maWx0ZXJfYmFyLmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLnNldEJhY2tUbyA9IFwibWFwYVwiO1xuICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2ZpbHRlcl9wZW9wbGUuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgICRzY29wZS50b2dnbGVGaWx0ZXJJbnRlcmVzYWRvRW4oJHNjb3BlLmZpbHRlci5maWx0ZXJfcGVvcGxlX2ludGVyZXNhZG9fZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJHNjb3BlLnRvZ2dsZUZpbHRlckludGVyZXNhZG9FbiA9IGZ1bmN0aW9uKGludGVyZXN0KXtcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZmlsdGVyX2ludGVyZXNhZG9fZW5cIik7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgeFtpXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnV0dG9uX2lkID0gXCJcIjtcbiAgICAgICAgaWYoaW50ZXJlc3Q9PVwiSG9tYnJlc1wiKXtcbiAgICAgICAgICBidXR0b25faWQgPSBcImZpbHRlcl9pbnRlcmVzYWRvX2VuX2hvbWJyZXNcIjtcbiAgICAgICAgfVxuICAgICAgICBpZihpbnRlcmVzdD09XCJNdWplcmVzXCIpe1xuICAgICAgICAgIGJ1dHRvbl9pZCA9IFwiZmlsdGVyX2ludGVyZXNhZG9fZW5fbXVqZXJlc1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmKGludGVyZXN0PT1cIlBlcnNvbmFzIGVuIGdlbmVyYWxcIiB8fCBpbnRlcmVzdD09XCJcIil7XG4gICAgICAgICAgYnV0dG9uX2lkID0gXCJmaWx0ZXJfaW50ZXJlc2Fkb19lbl9wZXJzb25hc1wiO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5maWx0ZXIuZmlsdGVyX3Blb3BsZV9pbnRlcmVzYWRvX2VuID0gaW50ZXJlc3Q7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbl9pZCkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5nb19iYWNrX2Zyb21fZmlsdGVyX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIoKTtcbiAgICAgICAgaWYoJHNjb3BlLnNldEJhY2tUbyA9PSBcIm1hcGFcIil7XG4gICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmKCRzY29wZS5zZXRCYWNrVG8gPT0gXCJsaXN0YWRvX3Blb3BsZVwiKXtcbiAgICAgICAgICAkc2NvcGUub3Blbl91c2VyX2xpc3QoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmKCRzY29wZS5zZXRCYWNrVG8gPT0gXCJsaXN0YWRvX2JhclwiKXtcbiAgICAgICAgICAkc2NvcGUub3Blbl91c2VyX2xpc3QodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJHNjb3BlLmZpbHRlclVzZXJzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAkc2NvcGUuYWxsX3VzZXJzLmZvckVhY2goZnVuY3Rpb24odXNlcixrZXkpe1xuICAgICAgICAgICAgdXNlci5maWx0ZXJlZD1mYWxzZTtcbiAgICAgICAgICAgIGlmKCRzY29wZS5maWx0ZXIuZmlsdGVyX3Blb3BsZV9kaXN0YW5jZV9yYW5nZT4wKXtcbiAgICAgICAgICAgICAgaWYocGFyc2VGbG9hdCh1c2VyLmRpc3RhbmNlKT5wYXJzZUZsb2F0KCRzY29wZS5maWx0ZXIuZmlsdGVyX3Blb3BsZV9kaXN0YW5jZV9yYW5nZSkpe1xuICAgICAgICAgICAgICAgIHVzZXIuZmlsdGVyZWQ9dHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoJHNjb3BlLmZpbHRlci5maWx0ZXJfcGVvcGxlX29ubGluZT09dHJ1ZSl7XG4gICAgICAgICAgICAgIGlmKHVzZXIub25saW5lX3N0YXR1cyE9XCJPbmxpbmVcIil7XG4gICAgICAgICAgICAgICAgdXNlci5maWx0ZXJlZD10cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZigkc2NvcGUuZmlsdGVyLmZpbHRlcl9wZW9wbGVfaW50ZXJlc2Fkb19lbj09XCJIb21icmVzXCIpe1xuICAgICAgICAgICAgICBpZih1c2VyLmdlbmRlciE9XCJIb21icmVcIil7XG4gICAgICAgICAgICAgICAgdXNlci5maWx0ZXJlZD10cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZigkc2NvcGUuZmlsdGVyLmZpbHRlcl9wZW9wbGVfaW50ZXJlc2Fkb19lbj09XCJNdWplcmVzXCIpe1xuICAgICAgICAgICAgICBpZih1c2VyLmdlbmRlciE9XCJNdWplclwiKXtcbiAgICAgICAgICAgICAgICB1c2VyLmZpbHRlcmVkPXRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLmZpbHRlckJhcnMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICRzY29wZS5hbGxfYmFycy5mb3JFYWNoKGZ1bmN0aW9uKGJhcixrZXkpe1xuICAgICAgICAgICAgYmFyLmZpbHRlcmVkPWZhbHNlO1xuICAgICAgICAgICAgaWYoJHNjb3BlLmZpbHRlci5maWx0ZXJfYmFyX2Rpc3RhbmNlX3JhbmdlPjApe1xuICAgICAgICAgICAgICBpZihwYXJzZUZsb2F0KGJhci5kaXN0YW5jZSk+cGFyc2VGbG9hdCgkc2NvcGUuZmlsdGVyLmZpbHRlcl9iYXJfZGlzdGFuY2VfcmFuZ2UpKXtcbiAgICAgICAgICAgICAgICBiYXIuZmlsdGVyZWQ9dHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoJHNjb3BlLmZpbHRlci5maWx0ZXJfYmFyX29wZW49PXRydWUpe1xuICAgICAgICAgICAgICBpZihiYXIuc3RhdHVzIT1cIkFiaWVydG9cIil7XG4gICAgICAgICAgICAgICAgYmFyLmZpbHRlcmVkPXRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLnBpbklzTm90RmlsdGVyZWQgPSBmdW5jdGlvbihsYXllcil7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgaWYobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLlR5cGU9PVwiUGVyc29uXCIpe1xuICAgICAgICAgICAgaWYoJHNjb3BlLmZpbHRlci5maWx0ZXJfcGVvcGxlX2Rpc3RhbmNlX3JhbmdlPjApe1xuICAgICAgICAgICAgICBpZihwYXJzZUZsb2F0KGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5EaXN0YW5jZSk+cGFyc2VGbG9hdCgkc2NvcGUuZmlsdGVyLmZpbHRlcl9wZW9wbGVfZGlzdGFuY2VfcmFuZ2UpKXtcbiAgICAgICAgICAgICAgICByZXN1bHQ9ZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCRzY29wZS5maWx0ZXIuZmlsdGVyX3Blb3BsZV9vbmxpbmU9PXRydWUpe1xuICAgICAgICAgICAgICBpZihsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuT25saW5lX3N0YXR1cyE9XCJPbmxpbmVcIil7XG4gICAgICAgICAgICAgICAgcmVzdWx0PWZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZigkc2NvcGUuZmlsdGVyLmZpbHRlcl9wZW9wbGVfaW50ZXJlc2Fkb19lbj09XCJIb21icmVzXCIpe1xuICAgICAgICAgICAgICBpZihsYXllci5mZWF0dXJlLnByb3BlcnRpZXMuR2VuZGVyIT1cIkhvbWJyZVwiKXtcbiAgICAgICAgICAgICAgICByZXN1bHQ9ZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCRzY29wZS5maWx0ZXIuZmlsdGVyX3Blb3BsZV9pbnRlcmVzYWRvX2VuPT1cIk11amVyZXNcIil7XG4gICAgICAgICAgICAgIGlmKGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5HZW5kZXIhPVwiTXVqZXJcIil7XG4gICAgICAgICAgICAgICAgcmVzdWx0PWZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfWVsc2UgaWYobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLlR5cGU9PVwiQmFyXCIpe1xuICAgICAgICAgICAgaWYoJHNjb3BlLmZpbHRlci5maWx0ZXJfYmFyX2Rpc3RhbmNlX3JhbmdlPjApe1xuICAgICAgICAgICAgICBpZihwYXJzZUZsb2F0KGxheWVyLmZlYXR1cmUucHJvcGVydGllcy5EaXN0YW5jZSk+cGFyc2VGbG9hdCgkc2NvcGUuZmlsdGVyLmZpbHRlcl9iYXJfZGlzdGFuY2VfcmFuZ2UpKXtcbiAgICAgICAgICAgICAgICByZXN1bHQ9ZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCRzY29wZS5maWx0ZXIuZmlsdGVyX2Jhcl9vcGVuPT10cnVlKXtcbiAgICAgICAgICAgICAgaWYobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLlN0YXR1cyE9XCJBYmllcnRvXCIpe1xuICAgICAgICAgICAgICAgIHJlc3VsdD1mYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUudmlld19wcm9maWxlID0gZnVuY3Rpb24odWlkLGJhY2tfdG8pe1xuICAgICAgICAkc2NvcGUuc2V0QmFja1RvPWJhY2tfdG87XG4gICAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgTWVzc2FnZVNlcnZpY2UuZ2V0VXNlckluZm8odWlkKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlLm90aGVyX3VzZXIgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIGlmKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvKXtcbiAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5waWN0dXJlX3VybCA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5wcm9maWxlLm90aGVyX3VzZXIucGljdHVyZV91cmwgPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5vdGhlcl91c2VyLnVpZCA9IHVpZDtcbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlLm90aGVyX3VzZXIudXNlcm5hbWUgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5vbmxpbmVfc3RhdHVzID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuT25saW5lX3N0YXR1cztcbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlLm90aGVyX3VzZXIuZXN0YWRvID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5wb3N0cyA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBvc3RzO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5waG90b3MgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90b3M7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9wcm9maWxlX290aGVyLmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRzY29wZS52aWV3X2Jhcl9wcm9maWxlID0gZnVuY3Rpb24obmlkLGJhY2tfdG8pe1xuICAgICAgICAkc2NvcGUuc2V0QmFja1RvPWJhY2tfdG87XG4gICAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgQmFyU2VydmljZS5nZXRCYXJJbmZvKG5pZCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5iYXIgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKTtcbiAgICAgICAgICAgIC8qaWYoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8pe1xuICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5vdGhlcl91c2VyLnBpY3R1cmVfdXJsID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG87XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5waWN0dXJlX3VybCA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlLm90aGVyX3VzZXIudWlkID0gdWlkO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci51c2VybmFtZSA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWU7XG4gICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5vdGhlcl91c2VyLm9ubGluZV9zdGF0dXMgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5PbmxpbmVfc3RhdHVzO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5lc3RhZG8gPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG87XG4gICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5vdGhlcl91c2VyLnBvc3RzID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUG9zdHM7XG4gICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5vdGhlcl91c2VyLnBob3RvcyA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvczsqL1xuICAgICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvcHJvZmlsZV9iYXIuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJHNjb3BlLnZpZXdfbXlfcHJvZmlsZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5zZXRCYWNrVG89XCJtYXBhXCI7XG4gICAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgTWVzc2FnZVNlcnZpY2UuZ2V0VXNlckluZm8oVXNlclNlcnZpY2UudWlkKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlLm90aGVyX3VzZXIgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIGlmKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvKXtcbiAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5waWN0dXJlX3VybCA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICRzY29wZS5wcm9maWxlLm90aGVyX3VzZXIucGljdHVyZV91cmwgPSBcIi4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5vdGhlcl91c2VyLnVpZCA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLnVpZDtcbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlLm90aGVyX3VzZXIudXNlcm5hbWUgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5vbmxpbmVfc3RhdHVzID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuT25saW5lX3N0YXR1cztcbiAgICAgICAgICAgICRzY29wZS5wcm9maWxlLm90aGVyX3VzZXIuZXN0YWRvID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5wb3N0cyA9ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBvc3RzO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUub3RoZXJfdXNlci5waG90b3MgPSAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90b3M7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9wcm9maWxlX215Lmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgJHNjb3BlLnNob3dfZ2FsZXJ5ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJvcGVuLXNlY29uZGFyeS1tb2RhbFwiKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvZ2FsbGVyeS5odG1sJywge1xuICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgICAgICBiYWNrZHJvcENsaWNrVG9DbG9zZTogdHJ1ZVxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vU2Vjb25kYXJ5TW9kYWxJc09wZW4oKTtcbiAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsU2Vjb25kYXJ5ID0gbW9kYWw7XG4gICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbFNlY29uZGFyeS5zaG93KCk7XG4gICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1zZWNvbmRhcnktbW9kYWxcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5zaG93X3Bvc3QgPSBmdW5jdGlvbihwb3N0KXtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUE9TVDogXCIpO1xuICAgICAgICAgIC8vY29uc29sZS5sb2cocG9zdCk7XG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGVkX3Bvc3QgPSBwb3N0O1xuICAgICAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1zZWNvbmRhcnktbW9kYWxcIikpe1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9wb3N0Lmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgICAgICAgYmFja2Ryb3BDbGlja1RvQ2xvc2U6IHRydWVcbiAgICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vU2Vjb25kYXJ5TW9kYWxJc09wZW4oKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWxTZWNvbmRhcnkgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWxTZWNvbmRhcnkuc2hvdygpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1zZWNvbmRhcnktbW9kYWxcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5jbG9zZV9zZWNvbmRhcnlfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb1NlY29uZGFyeU1vZGFsSXNPcGVuKCk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5kb19ub3RoaW5nID0gZnVuY3Rpb24oKXtcblxuICAgICAgfVxuXG4gIH1cblxuXSk7XG4iXX0=
